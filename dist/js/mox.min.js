require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"bootstrap":[function(require,module,exports){
module.exports=require('/5r0ZG');
},{}],"/5r0ZG":[function(require,module,exports){
!function(t){t(function(){"use strict";t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(require("jquery-browserify")),!function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed").remove()}var s,o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),s=t(n),e&&e.preventDefault(),s.length||(s=o.hasClass("alert")?o:o.parent()),s.trigger(e=t.Event("close")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.on(t.support.transition.end,i):i())},t.fn.alert=function(e){return this.each(function(){var s=t(this),o=s.data("alert");o||s.data("alert",o=new i(this)),"string"==typeof e&&o[e].call(s)})},t.fn.alert.Constructor=i,t(function(){t("body").on("click.alert.data-api",e,i.prototype.close)})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,s=i.data(),o=i.is("input")?"val":"html";t+="Text",s.resetText||i.data("resetText",i[o]()),i[o](s[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")},t.fn.button=function(i){return this.each(function(){var s=t(this),o=s.data("button"),n="object"==typeof i&&i;o||s.data("button",o=new e(this,n)),"toggle"==i?o.toggle():i&&o.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(function(){t("body").on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=i,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},to:function(e){var i=this.$element.find(".item.active"),s=i.parent().children(),o=s.index(i),n=this;if(!(e>s.length-1||0>e))return this.sliding?this.$element.one("slid",function(){n.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(s[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var s=this.$element.find(".item.active"),o=i||s[e](),n=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",h=this,l=t.Event("slide",{relatedTarget:o[0]});if(this.sliding=!0,n&&this.pause(),o=o.length?o:this.$element.find(".item")[r](),!o.hasClass("active")){if(t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,s.addClass(a),o.addClass(a),this.$element.one(t.support.transition.end,function(){o.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger("slid")},0)})}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}}},t.fn.carousel=function(i){return this.each(function(){var s=t(this),o=s.data("carousel"),n=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),a="string"==typeof i?i:n.slide;o||s.data("carousel",o=new e(this,n)),"number"==typeof i?o.to(i):a?o[a]():n.interval&&o.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(function(){t("body").on("click.carousel.data-api","[data-slide]",function(e){var i,s=t(this),o=t(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),n=!o.data("modal")&&t.extend({},o.data(),s.data());o.carousel(n),e.preventDefault()})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,s,o;if(!this.transitioning){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),s=this.$parent&&this.$parent.find("> .accordion-group > .in"),s&&s.length){if(o=s.data("collapse"),o&&o.transitioning)return;s.collapse("hide"),o||s.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;this.transitioning||(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,s){var o=this,n=function(){"show"==i.type&&o.reset(),o.transitioning=0,o.$element.trigger(s)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,n):n())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(i){return this.each(function(){var s=t(this),o=s.data("collapse"),n="object"==typeof i&&i;o||s.data("collapse",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(function(){t("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,s=t(this),o=s.attr("data-target")||e.preventDefault()||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),n=t(o).data("collapse")?"toggle":s.data();s[t(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(o).collapse(n)})})}(require("jquery-browserify")),!function(t){"use strict";function e(){i(t(s)).removeClass("open")}function i(e){var i,s=e.attr("data-target");return s||(s=e.attr("href"),s=s&&/#/.test(s)&&s.replace(/.*(?=#[^\s]*$)/,"")),i=t(s),i.length||(i=e.parent()),i}var s="[data-toggle=dropdown]",o=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var s,o,n=t(this);if(!n.is(".disabled, :disabled"))return s=i(n),o=s.hasClass("open"),e(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(e){var s,o,n,a,r;if(/(38|40|27)/.test(e.keyCode)&&(s=t(this),e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled"))){if(n=i(s),a=n.hasClass("open"),!a||a&&27==e.keyCode)return s.click();o=t("[role=menu] li:not(.divider) a",n),o.length&&(r=o.index(o.filter(":focus")),38==e.keyCode&&r>0&&r--,40==e.keyCode&&r<o.length-1&&r++,~r||(r=0),o.eq(r).focus())}}},t.fn.dropdown=function(e){return this.each(function(){var i=t(this),s=i.data("dropdown");s||i.data("dropdown",s=new o(this)),"string"==typeof e&&s[e].call(i)})},t.fn.dropdown.Constructor=o,t(function(){t("html").on("click.dropdown.data-api touchstart.dropdown.data-api",e),t("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",s,o.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",s+", [role=menu]",o.prototype.keydown)})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(t("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1).focus(),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,t("body").removeClass("modal-open"),this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&i;this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),s?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}},t.fn.modal=function(i){return this.each(function(){var s=t(this),o=s.data("modal"),n=t.extend({},t.fn.modal.defaults,s.data(),"object"==typeof i&&i);o||s.data("modal",o=new e(this,n)),"string"==typeof i?o[i]():n.show&&o.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t(function(){t("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),s=i.attr("href"),o=t(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),n=o.data("modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),i.data());e.preventDefault(),o.modal(n).one("hide",function(){i.focus()})})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,s){var o,n;this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(o="hover"==this.options.trigger?"mouseenter":"focus",n="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(n+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",void(this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show))):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",void(this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide))):i.hide()},show:function(){var t,e,i,s,o,n,a;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),n="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(n),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),i=this.getPosition(e),s=t[0].offsetWidth,o=t[0].offsetHeight,e?n.split(" ")[1]:n){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-s/2};break;case"top":a={top:i.top-o,left:i.left+i.width/2-s/2};break;case"left":a={top:i.top+i.height/2-o/2,left:i.left-s};break;case"right":a={top:i.top+i.height/2-o/2,left:i.left+i.width}}t.css(a).addClass(n).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).remove()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.remove()})}var i=this.tip();return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.remove(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},t.fn.tooltip=function(i){return this.each(function(){var s=t(this),o=s.data("tooltip"),n="object"==typeof i&&i;o||s.data("tooltip",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(require("jquery-browserify")),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content > *")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-content")||("function"==typeof i.content?i.content.call(e[0]):i.content)},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),t.fn.popover=function(i){return this.each(function(){var s=t(this),o=s.data("popover"),n="object"==typeof i&&i;o||s.data("popover",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(require("jquery-browserify")),!function(t){"use strict";function e(e,i){var s,o=t.proxy(this.process,this),n=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=n.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(s=t(e).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),s=/^#\w/.test(i)&&t(i);return s&&s.length&&[[s.position().top,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,s=i-this.$scrollElement.height(),o=this.offsets,n=this.targets,a=this.activeTarget;if(e>=s)return a!=(t=n.last()[0])&&this.activate(t);for(t=o.length;t--;)a!=n[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(n[t])},activate:function(e){var i,s;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),s=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(s).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}},t.fn.scrollspy=function(i){return this.each(function(){var s=t(this),o=s.data("scrollspy"),n="object"==typeof i&&i;o||s.data("scrollspy",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,s,o=this.element,n=o.closest("ul:not(.dropdown-menu)"),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(e=n.find(".active a").last()[0],s=t.Event("show",{relatedTarget:e}),o.trigger(s),s.isDefaultPrevented()||(i=t(a),this.activate(o.parent("li"),n),this.activate(i,i.parent(),function(){o.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,s){function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),s&&s()}var n=i.find("> .active"),a=s&&t.support.transition&&n.hasClass("fade");a?n.one(t.support.transition.end,o):o(),n.removeClass("in")}},t.fn.tab=function(i){return this.each(function(){var s=t(this),o=s.data("tab");o||s.data("tab",o=new e(this)),"string"==typeof i&&o[i]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],s=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?s.push(e):o.push(e):i.push(e);return i.concat(s,o)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,s){return e=t(i.options.item).attr("data-value",s),e.find("a").html(i.highlighter(s)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.chrome||t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=!~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(i){return this.each(function(){var s=t(this),o=s.data("typeahead"),n="object"==typeof i&&i;o||s.data("typeahead",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t(function(){t("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||(e.preventDefault(),i.typeahead(i.data()))})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),s=this.$window.scrollTop(),o=this.$element.offset(),n=this.options.offset,a=n.bottom,r=n.top,h="affix affix-top affix-bottom";"object"!=typeof n&&(a=r=n),"function"==typeof r&&(r=n.top()),"function"==typeof a&&(a=n.bottom()),e=null!=this.unpin&&s+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=i-a?"bottom":null!=r&&r>=s?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?o.top-s:null,this.$element.removeClass(h).addClass("affix"+(e?"-"+e:"")))}},t.fn.affix=function(i){return this.each(function(){var s=t(this),o=s.data("affix"),n="object"==typeof i&&i;o||s.data("affix",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(require("jquery-browserify"));
},{"jquery-browserify":"UErKnN"}],3:[function(require,module,exports){

},{}],4:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      } else {
        throw TypeError('Uncaught, unspecified "error" event.');
      }
      return false;
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        len = arguments.length;
        args = new Array(len - 1);
        for (i = 1; i < len; i++)
          args[i - 1] = arguments[i];
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    len = arguments.length;
    args = new Array(len - 1);
    for (i = 1; i < len; i++)
      args[i - 1] = arguments[i];

    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    var m;
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.listenerCount = function(emitter, type) {
  var ret;
  if (!emitter._events || !emitter._events[type])
    ret = 0;
  else if (isFunction(emitter._events[type]))
    ret = 1;
  else
    ret = emitter._events[type].length;
  return ret;
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],5:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}],"UErKnN":[function(require,module,exports){
!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){return function(e,t){function n(e){var t=ht[e]={};return K.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(mt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:gt.test(r)?K.parseJSON(r):r}catch(o){}K.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!K.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function l(e,t,n){if(t=t||0,K.isFunction(t))return K.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return K.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=K.grep(e,function(e){return 1===e.nodeType});if(_t.test(t))return K.filter(t,r,!n);t=K.filter(t,r)}return K.grep(e,function(e){return K.inArray(e,t)>=0===n})}function c(e){var t=Pt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e,t){if(1===t.nodeType&&K.hasData(e)){var n,r,i,o=K._data(e),a=K._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)K.event.add(t,n,s[n][r])}a.data&&(a.data=K.extend({},a.data))}}function d(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),K.support.html5Clone&&e.innerHTML&&!K.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Vt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(K.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Vt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=vn.length;i--;)if(t=vn[i]+n,t in e)return t;return r}function y(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(i[o]=K._data(n,"olddisplay"),t?(i[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&y(n)&&(i[o]=K._data(n,"olddisplay",T(n.nodeName)))):(r=nn(n,"display"),i[o]||"none"===r||K._data(n,"olddisplay",r)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function b(e,t,n){var r=fn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function x(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>i;i+=2)"margin"===n&&(o+=K.css(e,n+yn[i],!0)),r?("content"===n&&(o-=parseFloat(nn(e,"padding"+yn[i]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+yn[i]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+yn[i]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+yn[i]+"Width"))||0));return o}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=K.support.boxSizing&&"border-box"===K.css(e,"boxSizing");if(0>=r||null==r){if(r=nn(e,t),(0>r||null==r)&&(r=e.style[t]),pn.test(r))return r;i=o&&(K.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+x(e,t,n||(o?"border":"content"),i)+"px"}function T(e){if(hn[e])return hn[e];var t=K("<"+e+">").appendTo(R.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=R.body.appendChild(rn||K.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),R.body.removeChild(rn)),hn[e]=n,n}function N(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||wn.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)N(e+"["+i+"]",t[i],n,r)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,o,a=t.toLowerCase().split(tt),s=0,u=a.length;if(K.isFunction(n))for(;u>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function E(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,u=e[o],l=0,c=u?u.length:0,f=e===qn;c>l&&(f||!s);l++)s=u[l](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=E(e,n,r,i,s,a)));return!f&&s||a["*"]||(s=E(e,n,r,i,"*",a)),s}function k(e,n){var r,i,o=K.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&K.extend(!0,e,i)}function S(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===l[0];)l.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){l.unshift(o);break}if(l[0]in r)a=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==l[0]&&l.unshift(a),r[a]):void 0}function A(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],u={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)u[n.toLowerCase()]=e.converters[n];for(;i=a[++l];)if("*"!==i){if("*"!==s&&s!==i){if(n=u[s+" "+i]||u["* "+i],!n)for(r in u)if(o=r.split(" "),o[1]===i&&(n=u[s+" "+o[0]]||u["* "+o[0]])){n===!0?n=u[r]:u[r]!==!0&&(i=o[0],a.splice(l--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(t){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Jn=t},0),Jn=K.now()}function H(e,t){K.each(t,function(t,n){for(var r=(er[t]||[]).concat(er["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function F(e,t,n){var r,i=0,o=Zn.length,a=K.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Jn||L(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,o=u.tweens.length;o>i;i++)u.tweens[i].run(r);return a.notifyWith(e,[u,r,n]),1>r&&o?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=K.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){for(var n=0,r=t?u.tweens.length:0;r>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),l=u.props;for(M(l,u.opts.specialEasing);o>i;i++)if(r=Zn[i].call(u,e,l,u.opts))return r;return H(u,l),K.isFunction(u.opts.start)&&u.opts.start.call(e,u),K.fx.timer(K.extend(s,{anim:u,queue:u.opts.queue,elem:e})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function M(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o,a,s,u,l,c,f=this,p=e.style,d={},h=[],g=e.nodeType&&y(e);n.queue||(l=K._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,f.always(function(){f.always(function(){l.unqueued--,K.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===K.css(e,"display")&&"none"===K.css(e,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",K.support.shrinkWrapBlocks||f.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Gn.exec(o)){if(delete t[r],o===(g?"hide":"show"))continue;h.push(r)}if(a=h.length)for(s=K._data(e,"fxshow")||K._data(e,"fxshow",{}),g?K(e).show():f.done(function(){K(e).hide()}),f.done(function(){var t;K.removeData(e,"fxshow",!0);for(t in d)K.style(e,t,d[t])}),r=0;a>r;r++)i=h[r],u=f.createTween(i,g?s[i]:0),d[i]=s[i]||K.style(e,i),i in s||(s[i]=u.start,g&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}function _(e,t,n,r,i){return new _.prototype.init(e,t,n,r,i)}function q(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=yn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e){return K.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var P,W,R=e.document,$=e.location,I=e.navigator,z=e.jQuery,X=e.$,U=Array.prototype.push,Y=Array.prototype.slice,J=Array.prototype.indexOf,V=Object.prototype.toString,G=Object.prototype.hasOwnProperty,Q=String.prototype.trim,K=function(e,t){return new K.fn.init(e,t,P)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ut=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,lt=/^-ms-/,ct=/-([\da-z])/gi,ft=function(e,t){return(t+"").toUpperCase()},pt=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",pt,!1),K.ready()):"complete"===R.readyState&&(R.detachEvent("onreadystatechange",pt),K.ready())},dt={};K.fn=K.prototype={constructor:K,init:function(e,n,r){var i,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:rt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof K?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:R,e=K.parseHTML(i[1],a,!0),it.test(i[1])&&K.isPlainObject(n)&&this.attr.call(e,n,!0),K.merge(this,e);if(o=R.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=R,this.selector=e,this}return K.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=K.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return K.each(this,e,t)},ready:function(e){return K.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},K.fn.init.prototype=K.fn,K.extend=K.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||K.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(e=arguments[u]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(K.isPlainObject(i)||(o=K.isArray(i)))?(o?(o=!1,a=r&&K.isArray(r)?r:[]):a=r&&K.isPlainObject(r)?r:{},s[n]=K.extend(c,a,i)):i!==t&&(s[n]=i));return s},K.extend({noConflict:function(t){return e.$===K&&(e.$=X),t&&e.jQuery===K&&(e.jQuery=z),K},isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){if(e===!0?!--K.readyWait:!K.isReady){if(!R.body)return setTimeout(K.ready,1);K.isReady=!0,e!==!0&&--K.readyWait>0||(W.resolveWith(R,[K]),K.fn.trigger&&K(R).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray||function(e){return"array"===K.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):dt[V.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==K.type(e)||e.nodeType||K.isWindow(e))return!1;try{if(e.constructor&&!G.call(e,"constructor")&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||G.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||R,(r=it.exec(e))?[t.createElement(r[1])]:(r=K.buildFragment([e],t,n?null:[]),K.merge([],(r.cacheable?K.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=K.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(st,"@").replace(ut,"]").replace(at,""))?new Function("return "+t)():void K.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(lt,"ms-").replace(ct,ft)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,o=0,a=e.length,s=a===t||K.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Q&&!Q.call("")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":e.toString().replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=K.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||K.isWindow(e)?U.call(r,e):K.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],s=0,u=e.length,l=e instanceof K||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||K.isArray(e));if(l)for(;u>s;s++)i=n(e[s],s,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),K.isFunction(e)?(i=Y.call(arguments,2),o=function(){return e.apply(n,i.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||o.guid||K.guid++,o):t},access:function(e,n,r,i,o,a,s){var u,l=null==r,c=0,f=e.length;if(r&&"object"==typeof r){for(c in r)K.access(e,n,c,r[c],1,a,i);o=1}else if(i!==t){if(u=s===t&&K.isFunction(i),l&&(u?(u=n,n=function(e,t,n){return u.call(K(e),n)}):(n.call(e,i),n=null)),n)for(;f>c;c++)n(e[c],r,u?i.call(e[c],c,n(e[c],r)):i,s);o=1}return o?e:l?n.call(e):f?n(e[0],r):a},now:function(){return(new Date).getTime()}}),K.ready.promise=function(t){if(!W)if(W=K.Deferred(),"complete"===R.readyState)setTimeout(K.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",pt,!1),e.addEventListener("load",K.ready,!1);else{R.attachEvent("onreadystatechange",pt),e.attachEvent("onload",K.ready);var n=!1;try{n=null==e.frameElement&&R.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!K.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}K.ready()}}()}return W.promise(t)},K.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){dt["[object "+t+"]"]=t.toLowerCase()}),P=K(R);var ht={};K.Callbacks=function(e){e="string"==typeof e?ht[e]||n(e):K.extend({},e);var r,i,o,a,s,u,l=[],c=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,u=a||0,a=0,s=l.length,o=!0;l&&s>u;u++)if(l[u].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,l&&(c?c.length&&f(c.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function n(t){K.each(t,function(t,r){var i=K.type(r);"function"!==i||e.unique&&p.has(r)?r&&r.length&&"string"!==i&&n(r):l.push(r)})}(arguments),o?s=l.length:r&&(a=t,f(r))}return this},remove:function(){return l&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,l,n))>-1;)l.splice(n,1),o&&(s>=n&&s--,u>=n&&u--)}),this},has:function(e){return K.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=c=r=t,this},disabled:function(){return!l},lock:function(){return c=t,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||i&&!c||(o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,r){var o=r[0],a=e[t];i[r[1]](K.isFunction(a)?function(){var e=a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return"object"==typeof e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=a.fire,i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,u=1===s?e:K.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),K.support=function(){var t,n,r,i,o,a,s,u,l,c,f,p=R.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!r)return{};i=R.createElement("select"),o=i.appendChild(R.createElement("option")),a=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!R.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===R.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",f)),a=R.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=R.createDocumentFragment(),s.appendChild(p.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})u="on"+l,c=u in p,c||(p.setAttribute(u,"return;"),c="function"==typeof p[u]),t[l+"Bubbles"]=c;return K(function(){var n,r,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=R.getElementsByTagName("body")[0];s&&(n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,o=R.createElement("div"),o.style.cssText=r.style.cssText=a,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=o=null)}),s.removeChild(p),n=r=i=o=a=s=p=null,t}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;K.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?K.cache[e[K.expando]]:e[K.expando],!!e&&!i(e)},data:function(e,n,r,i){if(K.acceptData(e)){var o,a,s=K.expando,u="string"==typeof n,l=e.nodeType,c=l?K.cache:e,f=l?e[s]:e[s]&&s;if(f&&c[f]&&(i||c[f].data)||!u||r!==t)return f||(l?e[s]=f=K.deletedIds.pop()||++K.uuid:f=s),c[f]||(c[f]={},l||(c[f].toJSON=K.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[f]=K.extend(c[f],n):c[f].data=K.extend(c[f].data,n)),o=c[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[K.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[K.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(K.acceptData(e)){var r,o,a,s=e.nodeType,u=s?K.cache:e,l=s?e[K.expando]:K.expando;if(u[l]){if(t&&(r=n?u[l]:u[l].data)){K.isArray(t)||(t in r?t=[t]:(t=K.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete r[t[o]];if(!(n?i:K.isEmptyObject)(r))return}(n||(delete u[l].data,i(u[l])))&&(s?K.cleanData([e],!0):K.support.deleteExpando||u!=u.window?delete u[l]:u[l]=null)}}},_data:function(e,t,n){return K.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&K.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),K.fn.extend({data:function(e,n){var i,o,a,s,u,l=this[0],c=0,f=null;if(e===t){if(this.length&&(f=K.data(l),1===l.nodeType&&!K._data(l,"parsedAttrs"))){for(a=l.attributes,u=a.length;u>c;c++)s=a[c].name,0===s.indexOf("data-")&&(s=K.camelCase(s.substring(5)),r(l,s,f[s]));K._data(l,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){K.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",o=i[1]+"!",K.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[i[0]]),f===t&&l&&(f=K.data(l,e),f=r(l,e,f)),f===t&&i[1]?this.data(i[0]):f):(i[1]=n,void this.each(function(){var t=K(this);t.triggerHandler("setData"+o,i),K.data(this,e,n),t.triggerHandler("changeData"+o,i)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){K.removeData(this,e)})}}),K.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=K._data(e,t),n&&(!r||K.isArray(n)?r=K._data(e,t,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K._data(e,n)||K._data(e,n,{empty:K.Callbacks("once memory").add(function(){K.removeData(e,t+"queue",!0),K.removeData(e,n,!0)})})}}),K.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?K.queue(this[0],e):n===t?this:this.each(function(){var t=K.queue(this,e,n);K._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},delay:function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=K.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=K._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var yt,vt,bt,xt=/[\t\r\n]/g,wt=/\r/g,Tt=/^(?:button|input)$/i,Nt=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,Et=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,kt=K.support.getSetAttribute;K.fn.extend({attr:function(e,t){return K.access(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})},prop:function(e,t){return K.access(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return e=K.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=K.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,u;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,u=this.length;u>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(xt," "),o=0,a=n.length;a>o;o++)for(;r.indexOf(" "+n[o]+" ")>-1;)r=r.replace(" "+n[o]+" "," ");i.className=e?K.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(K.isFunction(e)?function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,o=0,a=K(this),s=t,u=e.split(tt);i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||e===!1?"":K._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=K.isFunction(e),this.each(function(r){var o,a=K(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":K.isArray(o)&&(o=K.map(o,function(e){return null==e?"":e+""})),n=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=K.valHooks[o.type]||K.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(wt,""):null==r?"":r)}}}),K.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,u="select-one"===e.type;if(0>o)return null;for(n=u?o:0,r=u?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(K.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&K.nodeName(i.parentNode,"optgroup"))){if(t=K(i).val(),u)return t;a.push(t)}return u&&!a.length&&s.length?K(s[o]).val():a},set:function(e,t){var n=K.makeArray(t);return K(e).find("option").each(function(){this.selected=K.inArray(K(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return i&&K.isFunction(K.fn[n])?K(e)[n](r):"undefined"==typeof e.getAttribute?K.prop(e,n,r):(s=1!==u||!K.isXMLDoc(e),s&&(n=n.toLowerCase(),a=K.attrHooks[n]||(Et.test(n)?vt:yt)),r!==t?null===r?void K.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(tt);a<r.length;a++)i=r[a],i&&(n=K.propFix[i]||i,o=Et.test(i),o||K.attr(e,i,""),e.removeAttribute(kt?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Tt.test(e.nodeName)&&e.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return yt&&K.nodeName(e,"button")?yt.get(e,t):t in e?e.value:null},set:function(e,t,n){return yt&&K.nodeName(e,"button")?yt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!K.isXMLDoc(e),a&&(n=K.propFix[n]||n,o=K.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Nt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),vt={get:function(e,n){var r,i=K.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?K.removeAttr(e,n):(r=K.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},kt||(bt={name:!0,id:!0,coords:!0},yt=K.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""
}},K.each(["width","height"],function(e,t){K.attrHooks[t]=K.extend(K.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),K.attrHooks.contenteditable={get:yt.get,set:function(e,t,n){""===t&&(t="false"),yt.set(e,t,n)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(e,n){K.attrHooks[n]=K.extend(K.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),K.support.style||(K.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}})});var St=/^(?:textarea|input|select)$/i,At=/^([^\.]*|)(?:\.(.+)|)$/,jt=/(?:^|\s)hover(\.\S+|)\b/,Dt=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Ft=function(e){return K.event.special.hover?e:e.replace(jt,"mouseenter$1 mouseleave$1")};K.event={add:function(e,n,r,i,o){var a,s,u,l,c,f,p,d,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=K._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=K.guid++),u=a.events,u||(a.events=u={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof K||e&&K.event.triggered===e.type?t:K.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=K.trim(Ft(n)).split(" "),l=0;l<n.length;l++)c=At.exec(n[l])||[],f=c[1],p=(c[2]||"").split(".").sort(),m=K.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=K.event.special[f]||{},d=K.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,namespace:p.join(".")},h),g=u[f],g||(g=u[f]=[],g.delegateCount=0,m.setup&&m.setup.call(e,i,p,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),m.add&&(m.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),K.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=K.hasData(e)&&K._data(e);if(m&&(p=m.events)){for(t=K.trim(Ft(t||"")).split(" "),o=0;o<t.length;o++)if(a=At.exec(t[o])||[],s=u=a[1],l=a[2],s){for(d=K.event.special[s]||{},s=(r?d.delegateType:d.bindType)||s,h=p[s]||[],c=h.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],!i&&u!==g.origType||n&&n.guid!==g.guid||l&&!l.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(h.splice(f--,1),g.selector&&h.delegateCount--,d.remove&&d.remove.call(e,g));0===h.length&&c!==h.length&&(d.teardown&&d.teardown.call(e,l,m.handle)!==!1||K.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)K.event.remove(e,s+t[o],n,r,!0);K.isEmptyObject(p)&&(delete m.handle,K.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,u,l,c,f,p,d,h,g,m=n.type||n,y=[];if(!Ht.test(m+K.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(y=m.split("."),m=y.shift(),y.sort()),i&&!K.event.customEvent[m]||K.event.global[m]))if(n="object"==typeof n?n[K.expando]?n:new K.Event(m,n):new K.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?K.makeArray(r):[],r.unshift(n),p=K.event.special[m]||{},!p.trigger||p.trigger.apply(i,r)!==!1){if(h=[[i,p.bindType||m]],!o&&!p.noBubble&&!K.isWindow(i)){for(g=p.delegateType||m,l=Ht.test(g+m)?i:i.parentNode,c=i;l;l=l.parentNode)h.push([l,g]),c=l;c===(i.ownerDocument||R)&&h.push([c.defaultView||c.parentWindow||e,g])}for(u=0;u<h.length&&!n.isPropagationStopped();u++)l=h[u][0],n.type=h[u][1],d=(K._data(l,"events")||{})[n.type]&&K._data(l,"handle"),d&&d.apply(l,r),d=f&&l[f],d&&K.acceptData(l)&&d.apply(l,r)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===m&&K.nodeName(i,"a")||!K.acceptData(i)||f&&i[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!K.isWindow(i)&&(c=i[f],c&&(i[f]=null),K.event.triggered=m,i[m](),K.event.triggered=t,c&&(i[f]=c)),n.result}}else{a=K.cache;for(u in a)a[u].events&&a[u].events[m]&&K.event.trigger(n,r,a[u].handle.elem,!0)}}},dispatch:function(n){n=K.event.fix(n||e.event);var r,i,o,a,s,u,l,c,f,p=(K._data(this,"events")||{})[n.type]||[],d=p.delegateCount,h=[].slice.call(arguments),g=!n.exclusive&&!n.namespace,m=K.event.special[n.type]||{},y=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},l=[],r=0;d>r;r++)c=p[r],f=c.selector,s[f]===t&&(s[f]=K(f,this).index(o)>=0),s[f]&&l.push(c);l.length&&y.push({elem:o,matches:l})}for(p.length>d&&y.push({elem:this,matches:p.slice(d)}),r=0;r<y.length&&!n.isPropagationStopped();r++)for(u=y[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)c=u.matches[i],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((K.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||R,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r=e,i=K.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=K.Event(r),t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){K.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector}return(!i||i!==r&&!K.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:void K.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=K.nodeName(n,"input")||K.nodeName(n,"button")?n.form:t;r&&!K._data(r,"_submit_attached")&&(K.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),K._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&K.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return K.nodeName(this,"form")?!1:void K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return St.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),K.event.simulate("change",this,e,!0)})),!1):void K.event.add(this,"beforeactivate._change",function(e){var t=e.target;St.test(t.nodeName)&&!K._data(t,"_change_attached")&&(K.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||K.event.simulate("change",this.parentNode,e,!0)}),K._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),!St.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){0===n++&&R.addEventListener(e,r,!0)},teardown:function(){0===--n&&R.removeEventListener(e,r,!0)}}}),K.fn.extend({on:function(e,n,r,i,a){var s,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=o;else if(!i)return this;return 1===a&&(s=i,i=function(e){return K().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=K.guid++)),this.each(function(){K.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,K(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=o),this.each(function(){K.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return K(this.context).on(e,this.selector,t,n),this},die:function(e,t){return K(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?K.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||K.guid++,r=0,i=function(n){var i=(K._data(this,"lastToggle"+e.guid)||0)%r;return K._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Dt.test(t)&&(K.event.fixHooks[t]=K.event.keyHooks),Lt.test(t)&&(K.event.fixHooks[t]=K.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||A;var i,o,a,s,u=t.nodeType;if(1!==u&&9!==u)return[];if(!e||"string"!=typeof e)return n;if(a=x(t),!a&&!r&&(i=V.exec(e)))if(s=i[1]){if(9===u){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&w(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return H.apply(n,L.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&st&&t.getElementsByClassName)return H.apply(n,L.call(t.getElementsByClassName(s),0)),n}return h(e,t,n,r,a)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function a(e,t,r,i){var o,a,s,u,l,c,f,p,d,h,g=!r&&t!==A,m=(g?"<s>":"")+e.replace(X,"$1<s>"),y=_[S][m];if(y)return i?0:L.call(y,0);for(l=e,c=[],p=0,d=v.preFilter,h=v.filter;l;){(!o||(a=U.exec(l)))&&(a&&(l=l.slice(a[0].length),s.selector=f),c.push(s=[]),f="",g&&(l=" "+l)),o=!1,(a=Y.exec(l))&&(f+=a[0],l=l.slice(a[0].length),o=s.push({part:a.pop().replace(X," "),string:a[0],captures:a}));for(u in h)!(a=nt[u].exec(l))||d[u]&&!(a=d[u](a,t,r))||(f+=a[0],l=l.slice(a[0].length),o=s.push({part:u,string:a.shift(),captures:a}));if(!o)break}return f&&(s.selector=f),i?l.length:l?n.error(e):L.call(_(m,c),0)}function s(e,t,n,r){var i=t.dir,o=D++;return e||(e=function(e){return e===n}),t.first?function(t){for(;t=t[i];)if(1===t.nodeType)return e(t)&&t}:r?function(t){for(;t=t[i];)if(1===t.nodeType&&e(t))return t}:function(t){for(var n,r=o+"."+g,a=r+"."+m;t=t[i];)if(1===t.nodeType){if((n=t[S])===a)return t.sizset;if("string"==typeof n&&0===n.indexOf(r)){if(t.sizset)return t}else{if(t[S]=a,e(t))return t.sizset=!0,t;t.sizset=!1}}}}function u(e,t){return e?function(n){var r=t(n);return r&&e(r===!0?n:r)}:t}function l(e,t,n){for(var r,i,o=0;r=e[o];o++)i=v.relative[r.part]?s(i,v.relative[r.part],t,n):u(i,v.filter[r.part].apply(null,r.captures.concat(t,n)));return i}function c(e){return function(t){for(var n,r=0;n=e[r];r++)if(n(t))return!0;return!1}}function f(e,t,r,i){for(var o=0,a=t.length;a>o;o++)n(e,t[o],r,i)}function p(e,t,r,i,o,a){var s,u=v.setFilters[t.toLowerCase()];return u||n.error(t),(e||!(s=o))&&f(e||"*",i,s=[],o),s.length>0?u(s,r,a):[]}function d(e,r,i,o){for(var a,s,u,l,c,d,h,g,m,y,v,b,x,w=0,T=e.length,N=nt.POS,C=new RegExp("^"+N.source+"(?!"+B+")","i"),E=function(){for(var e=1,n=arguments.length-2;n>e;e++)arguments[e]===t&&(m[e]=t)};T>w;w++){for(a=e[w],s="",g=o,u=0,l=a.length;l>u;u++){if(c=a[u],d=c.string,"PSEUDO"===c.part)for(N.exec(""),h=0;m=N.exec(d);)y=!0,v=N.lastIndex=m.index+m[0].length,v>h&&(s+=d.slice(h,m.index),h=v,b=[r],Y.test(s)&&(g&&(b=g),g=o),(x=Q.test(s))&&(s=s.slice(0,-5).replace(Y,"$&*"),h++),m.length>1&&m[0].replace(C,E),g=p(s,m[1],m[2],b,g,x)),s="";y||(s+=d),y=!1}s?Y.test(s)?f(s,g||[r],i,o):n(s,r,i,o?o.concat(g):g):H.apply(i,g)}return 1===T?i:n.uniqueSort(i)}function h(e,t,n,r,i){e=e.replace(X,"$1");var o,s,u,l,c,f,p,h,y,b=a(e,t,i),x=t.nodeType;if(nt.POS.test(e))return d(b,t,n,r);if(r)o=L.call(r,0);else if(1===b.length){if((c=L.call(b[0],0)).length>2&&"ID"===(f=c[0]).part&&9===x&&!i&&v.relative[c[1].part]){if(t=v.find.ID(f.captures[0].replace(tt,""),t,i)[0],!t)return n;e=e.slice(c.shift().string.length)}for(h=(b=G.exec(c[0].string))&&!b.index&&t.parentNode||t,p="",l=c.length-1;l>=0&&(f=c[l],y=f.part,p=f.string+p,!v.relative[y]);l--)if(v.order.test(y)){if(o=v.find[y](f.captures[0].replace(tt,""),h,i),null==o)continue;e=e.slice(0,e.length-p.length)+p.replace(nt[y],""),e||H.apply(n,L.call(o,0));break}}if(e)for(s=T(e,t,i),g=s.dirruns++,null==o&&(o=v.find.TAG("*",G.test(e)&&t.parentNode||t)),l=0;u=o[l];l++)m=s.runs++,s(u)&&n.push(u);return n}var g,m,y,v,b,x,w,T,N,C,E=!0,k="undefined",S=("sizcache"+Math.random()).replace(".",""),A=e.document,j=A.documentElement,D=0,L=[].slice,H=[].push,F=function(e,t){return e[S]=t||!0,e},M=function(){var e={},t=[];return F(function(n,r){return t.push(n)>v.cacheLength&&delete e[t.shift()],e[n]=r},e)},O=M(),_=M(),q=M(),B="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",W=P.replace("w","w#"),R="([*^$|!~]?=)",$="\\["+B+"*("+P+")"+B+"*(?:"+R+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+B+"*\\]",I=":("+P+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+$+")|[^:]|\\\\.)*|.*))\\)|)",z=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",X=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),Y=new RegExp("^"+B+"*([\\x20\\t\\r\\n\\f>+~])"+B+"*"),J=new RegExp(I),V=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,G=/[\x20\t\r\n\f]*[+~]/,Q=/:not\($/,Z=/h\d/i,et=/input|select|textarea|button/i,tt=/\\(?!\\)/g,nt={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),NAME:new RegExp("^\\[name=['\"]?("+P+")['\"]?\\]"),TAG:new RegExp("^("+P.replace("w","w*")+")"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),POS:new RegExp(z,"ig"),needsContext:new RegExp("^"+B+"*[>+~]|"+z,"i")},rt=function(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},it=rt(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),ot=rt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==k&&"#"===e.firstChild.getAttribute("href")}),at=rt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),st=rt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),ut=rt(function(e){e.id=S+0,e.innerHTML="<a name='"+S+"'></a><div name='"+S+"'></div>",j.insertBefore(e,j.firstChild);var t=A.getElementsByName&&A.getElementsByName(S).length===2+A.getElementsByName(S+0).length;return y=!A.getElementById(S),j.removeChild(e),t});try{L.call(j.childNodes,0)[0].nodeType}catch(lt){L=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=b(t);return n},x=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},w=n.contains=j.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:j.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=x(e);return r||(t=t.toLowerCase()),v.attrHandle[t]?v.attrHandle[t](e):at||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},v=n.selectors={cacheLength:50,createPseudo:F,match:nt,order:new RegExp("ID|TAG"+(ut?"|NAME":"")+(st?"|CLASS":"")),attrHandle:ot?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==k&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==k&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==k&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:it?function(e,t){return typeof t.getElementsByTagName!==k?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i}return n},NAME:function(e,t){return typeof t.getElementsByName!==k?t.getElementsByName(name):void 0},CLASS:function(e,t,n){return typeof t.getElementsByClassName===k||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,""),e[3]=(e[4]||e[5]||"").replace(tt,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e,t,n){var r,i;return nt.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(r=e[4])&&(J.test(r)&&(i=a(r,t,n,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(r=r.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=r),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(tt,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(tt,""),function(t){var n=typeof t.getAttributeNode!==k&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(tt,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=O[S][e];return t||(t=O(e,new RegExp("(^|"+B+")"+e+"("+B+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==k&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return t?function(i){var o=n.attr(i,e),a=o+"";if(null==o)return"!="===t;switch(t){case"=":return a===r;case"!=":return a!==r;case"^=":return r&&0===a.indexOf(r);case"*=":return r&&a.indexOf(r)>-1;case"$=":return r&&a.substr(a.length-r.length)===r;case"~=":return(" "+a+" ").indexOf(r)>-1;case"|=":return a===r||a.substr(0,r.length+1)===r+"-"}}:function(t){return null!=n.attr(t,e)}},CHILD:function(e,t,n,r){if("nth"===e){var i=D++;return function(e){var t,o,a=0,s=e;if(1===n&&0===r)return!0;if(t=e.parentNode,t&&(t[S]!==i||!e.sizset)){for(s=t.firstChild;s&&(1!==s.nodeType||(s.sizset=++a,s!==e));s=s.nextSibling);t[S]=i}return o=e.sizset-r,0===n?0===o:o%n===0&&o/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t,r,i){var o,a=v.pseudos[e]||v.pseudos[e.toLowerCase()];return a||n.error("unsupported pseudo: "+e),a[S]?a(t,r,i):a.length>1?(o=[e,e,"",t],function(e){return a(e,0,o)}):a}},pseudos:{not:F(function(e,t,n){var r=T(e.replace(X,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!v.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},contains:F(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),has:F(function(e){return function(t){return n(e,t).length>0}}),header:function(e){return Z.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return et.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){for(var r=[],i=n?1:0,o=e.length;o>i;i+=2)r.push(e[i]);return r},odd:function(e,t,n){for(var r=[],i=n?0:1,o=e.length;o>i;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}},N=j.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],a=[],s=e.parentNode,u=t.parentNode,l=s;if(s===u)return o(e,t);if(!s)return-1;if(!u)return 1;for(;l;)i.unshift(l),l=l.parentNode;for(l=u;l;)a.unshift(l),l=l.parentNode;n=i.length,r=a.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==a[c])return o(i[c],a[c]);return c===n?o(e,a[c],-1):o(i[c],t,1)},[0,0].sort(N),E=!C,n.uniqueSort=function(e){var t,n=1;if(C=E,e.sort(N),C)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T=n.compile=function(e,t,n){var r,i,o,s=q[S][e];if(s&&s.context===t)return s;for(r=a(e,t,n),i=0,o=r.length;o>i;i++)r[i]=l(r[i],t,n);return s=q(e,c(r)),s.context=t,s.runs=s.dirruns=0,s},A.querySelectorAll&&!function(){var e,t=h,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[],s=[":active"],u=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.oMatchesSelector||j.msMatchesSelector;rt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+B+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),rt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+B+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=o.length&&new RegExp(o.join("|")),h=function(e,n,i,s,u){if(!(s||u||o&&o.test(e)))if(9===n.nodeType)try{return H.apply(i,L.call(n.querySelectorAll(e),0)),i}catch(l){}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c,f,p,d=n.getAttribute("id"),h=d||S,g=G.test(e)&&n.parentNode||n;for(d?h=h.replace(r,"\\$&"):n.setAttribute("id",h),c=a(e,n,u),h="[id='"+h+"']",f=0,p=c.length;p>f;f++)c[f]=h+c[f].selector;try{return H.apply(i,L.call(g.querySelectorAll(c.join(",")),0)),i}catch(l){}finally{d||n.removeAttribute("id")}}return t(e,n,i,s,u)},u&&(rt(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push(nt.PSEUDO.source,nt.POS.source,"!=")}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!(x(t)||s.test(r)||o&&o.test(r)))try{var a=u.call(t,r);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(l){}return n(r,null,null,[t]).length>0})}(),v.setFilters.nth=v.setFilters.eq,v.filters=v.pseudos,n.attr=K.attr,K.find=n,K.expr=n.selectors,K.expr[":"]=K.expr.pseudos,K.unique=n.uniqueSort,K.text=n.getText,K.isXMLDoc=n.isXML,K.contains=n.contains}(e);var Mt=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,_t=/^.[^:#\[\.,]*$/,qt=K.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return K(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(K.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=a.length,K.find(e,this[t],a),t>0)for(i=r;i<a.length;i++)for(o=0;r>o;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=K(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(K.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(l(this,e,!1),"not",e)},filter:function(e){return this.pushStack(l(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?qt.test(e)?K(e,this.context).index(this[0])>=0:K.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=qt.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:K.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?K.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?K.inArray(this[0],K(e)):K.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?K(e,t):K.makeArray(e&&e.nodeType?[e]:e),r=K.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:K.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.fn.andSelf=K.fn.addBack,K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return K.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return Mt.test(e)||(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),i=this.length>1&&!Bt[e]?K.unique(i):i,this.length>1&&Ot.test(e)&&(i=i.reverse()),this.pushStack(i,e,Y.call(arguments).join(","))}}),K.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?K.find.matchesSelector(t[0],e)?[t[0]]:[]:K.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!K(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Rt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,zt=/<tbody/i,Xt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Yt=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+Pt+")[\\s/>]","i"),Vt=/^(?:checkbox|radio)$/,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Kt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(R),tn=en.appendChild(R.createElement("div"));
Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,K.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),K.fn.extend({text:function(e){return K.access(this,function(e){return e===t?K.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapAll(e.call(this,t))});if(this[0]){var t=K(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(K.isFunction(e)?function(t){K(this).wrapInner(e.call(this,t))}:function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||K.filter(e,[n]).length)&&(t||1!==n.nodeType||(K.cleanData(n.getElementsByTagName("*")),K.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&K.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return K.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||Ut.test(e)||!K.support.htmlSerialize&&Jt.test(e)||!K.support.leadingWhitespace&&Rt.test(e)||Zt[(It.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(K.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(K(K.isFunction(e)?e():e),"replaceWith",e):this:K.isFunction(e)?this.each(function(t){var n=K(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=K(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;K(this).remove(),t?K(t).before(e):K(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,o,a,s,u=0,l=e[0],c=[],p=this.length;if(!K.support.checkClone&&p>1&&"string"==typeof l&&Gt.test(l))return this.each(function(){K(this).domManip(e,n,r)});if(K.isFunction(l))return this.each(function(i){var o=K(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(i=K.buildFragment(e,this,c),a=i.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&K.nodeName(o,"tr"),s=i.cacheable||p-1;p>u;u++)r.call(n&&K.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],u===s?a:K.clone(a,!0,!0));a=o=null,c.length&&K.each(c,function(e,t){t.src?K.ajax?K.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):K.error("no ajax"):K.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Kt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),K.buildFragment=function(e,n,r){var i,o,a,s=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===R&&"<"===s.charAt(0))||Yt.test(s)||!K.support.checkClone&&Gt.test(s)||!K.support.html5Clone&&Jt.test(s)||(o=!0,i=K.fragments[s],a=i!==t),i||(i=n.createDocumentFragment(),K.clean(e,n,i,r),o&&(K.fragments[s]=a&&i)),{fragment:i,cacheable:o}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(n){var r,i=0,o=[],a=K(n),s=a.length,u=1===this.length&&this[0].parentNode;if((null==u||u&&11===u.nodeType&&1===u.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),K(a[i])[t](r),o=o.concat(r);return this.pushStack(o,e,a.selector)}}),K.extend({clone:function(e,t,n){var r,i,o,a;if(K.support.html5Clone||K.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(a=tn.firstChild)),!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(d(e,a),r=h(e),i=h(a),o=0;r[o];++o)i[o]&&d(r[o],i[o]);if(t&&(p(e,a),n))for(r=h(e),i=h(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,u,l,f,p,d,h,m,y=t===R&&en,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=R),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Xt.test(a)){for(y=y||c(t),f=t.createElement("div"),y.appendChild(f),a=a.replace($t,"<$1></$2>"),s=(It.exec(a)||["",""])[1].toLowerCase(),u=Zt[s]||Zt._default,l=u[0],f.innerHTML=u[1]+a+u[2];l--;)f=f.lastChild;if(!K.support.tbody)for(p=zt.test(a),d="table"!==s||p?"<table>"!==u[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,o=d.length-1;o>=0;--o)K.nodeName(d[o],"tbody")&&!d[o].childNodes.length&&d[o].parentNode.removeChild(d[o]);!K.support.leadingWhitespace&&Rt.test(a)&&f.insertBefore(t.createTextNode(Rt.exec(a)[0]),f.firstChild),a=f.childNodes,f.parentNode.removeChild(f)}else a=t.createTextNode(a);a.nodeType?v.push(a):K.merge(v,a)}if(f&&(a=f=y=null),!K.support.appendChecked)for(i=0;null!=(a=v[i]);i++)K.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){return!e.type||Qt.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},i=0;null!=(a=v[i]);i++)K.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=K.grep(K.merge([],a.getElementsByTagName("script")),h),v.splice.apply(v,[i+1,0].concat(m)),i+=m.length));return v},cleanData:function(e,t){for(var n,r,i,o,a=0,s=K.expando,u=K.cache,l=K.support.deleteExpando,c=K.event.special;null!=(i=e[a]);a++)if((t||K.acceptData(i))&&(r=i[s],n=r&&u[r])){if(n.events)for(o in n.events)c[o]?K.event.remove(i,o):K.removeEvent(i,o,n.handle);u[r]&&(delete u[r],l?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,K.deletedIds.push(r))}}}),function(){var e,t;K.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=K.uaMatch(I.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),K.browser=t,K.sub=function(){function e(t,n){return new e.fn.init(t,n)}K.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof K&&!(r instanceof e)&&(r=e(r)),K.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nn,rn,on,an=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,un=/^(top|right|bottom|left)$/,ln=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,fn=new RegExp("^("+Z+")(.*)$","i"),pn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),dn=new RegExp("^([-+])=("+Z+")","i"),hn={},gn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},yn=["Top","Right","Bottom","Left"],vn=["Webkit","O","Moz","ms"],bn=K.fn.toggle;K.fn.extend({css:function(e,n){return K.access(this,function(e,n,r){return r!==t?K.style(e,n,r):K.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return K.isFunction(e)&&K.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:y(this))?K(this).show():K(this).hide()})}}),K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=K.camelCase(n),l=e.style;if(n=K.cssProps[u]||(K.cssProps[u]=m(l,u)),s=K.cssHooks[n]||K.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=dn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(K.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||K.cssNumber[u]||(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=K.camelCase(n);return n=K.cssProps[u]||(K.cssProps[u]=m(e.style,u)),s=K.cssHooks[n]||K.cssHooks[u],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=nn(e,n)),"normal"===o&&n in mn&&(o=mn[n]),r||i!==t?(a=parseFloat(o),r||K.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,o,a,s=e.getComputedStyle(t,null),u=t.style;return s&&(r=s[n],""!==r||K.contains(t.ownerDocument,t)||(r=K.style(t,n)),pn.test(r)&&cn.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=r,r=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),r}:R.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),pn.test(i)&&!un.test(t)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&ln.test(nn(e,"display"))?K.swap(e,gn,function(){return w(e,t,r)}):w(e,t,r):void 0},set:function(e,n,r){return b(e,n,r?x(e,t,r,K.support.boxSizing&&"border-box"===K.css(e,"boxSizing")):0)}}}),K.support.opacity||(K.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=K.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===K.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(e,t){return K.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!K.support.pixelPosition&&K.fn.position&&K.each(["top","left"],function(e,t){K.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return pn.test(r)?K(e).position()[t]+"px":r}}}})}),K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!K.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;4>r;r++)o[e+yn[r]+t]=i[r]||i[r-2]||i[0];return o}},cn.test(e)||(K.cssHooks[e+t].set=b)});var xn=/%20/g,wn=/\[\]$/,Tn=/\r?\n/g,Nn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||Nn.test(this.type))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}}),K.param=function(e,n){var r,i=[],o=function(e,t){t=K.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){o(this.name,this.value)});else for(r in e)N(r,e[r],n,o);return i.join("&").replace(xn,"+")};var En,kn,Sn=/#.*$/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dn=/^(?:GET|HEAD)$/,Ln=/^\/\//,Hn=/\?/,Fn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Mn=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_n=K.fn.load,qn={},Bn={},Pn=["*/"]+["*"];try{En=$.href}catch(Wn){En=R.createElement("a"),En.href="",En=En.href}kn=On.exec(En.toLowerCase())||[],K.fn.load=function(e,n,r){if("string"!=typeof e&&_n)return _n.apply(this,arguments);if(!this.length)return this;var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),K.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),K.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(i?K("<div>").append(e.replace(Fn,"")).find(i):e)}),this},K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.each(["get","post"],function(e,n){K[n]=function(e,r,i,o){return K.isFunction(r)&&(o=o||i,i=r,r=t),K.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),K.extend({getScript:function(e,n){return K.get(e,t,n,"script")},getJSON:function(e,t,n){return K.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?k(e,K.ajaxSettings):(t=e,e=K.ajaxSettings),k(e,t),e},ajaxSettings:{url:En,isLocal:jn.test(kn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(qn),ajaxTransport:C(Bn),ajax:function(e,n){function r(e,n,r,a){var l,f,v,b,w,N=n;2!==x&&(x=2,u&&clearTimeout(u),s=t,o=a||"",T.readyState=e>0?4:0,r&&(b=S(p,T,r)),e>=200&&300>e||304===e?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=T.getResponseHeader("Etag"),w&&(K.etag[i]=w)),304===e?(N="notmodified",l=!0):(l=A(p,b),N=l.state,f=l.data,v=l.error,l=!v)):(v=N,(!N||e)&&(N="error",0>e&&(e=0))),T.status=e,T.statusText=""+(n||N),l?g.resolveWith(d,[f,N,T]):g.rejectWith(d,[T,N,v]),T.statusCode(y),y=t,c&&h.trigger("ajax"+(l?"Success":"Error"),[T,p,l?f:v]),m.fireWith(d,[T,N]),c&&(h.trigger("ajaxComplete",[T,p]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,u,l,c,f,p=K.ajaxSetup({},n),d=p.context||p,h=d!==p&&(d.nodeType||d instanceof K)?K(d):K.event,g=K.Deferred(),m=K.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!a)for(a={};n=An.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(p.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(g.promise(T),T.success=T.done,T.error=T.fail,T.complete=m.add,T.statusCode=function(e){if(e){var t;if(2>x)for(t in e)y[t]=[y[t],e[t]];else t=e[T.status],T.always(t)}return this},p.url=((e||p.url)+"").replace(Sn,"").replace(Ln,kn[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(tt),null==p.crossDomain&&(l=On.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]==kn[1]&&l[2]==kn[2]&&(l[3]||("http:"===l[1]?80:443))==(kn[3]||("http:"===kn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),E(qn,p,n,T),2===x)return T;if(c=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Dn.test(p.type),c&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Hn.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var N=K.now(),C=p.url.replace(Mn,"$1_="+N);p.url=C+(C===p.url?(Hn.test(p.url)?"&":"?")+"_="+N:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,K.lastModified[i]&&T.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&T.setRequestHeader("If-None-Match",K.etag[i])),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pn+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===x))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(s=E(Bn,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,s.send(v,r)}catch(k){if(!(2>x))throw k;r(-1,k)}}else r(-1,"No Transport");return T},active:0,lastModified:{},etag:{}});var Rn=[],$n=/\?/,In=/(=)\?(?=&|$)|\?\?/,zn=K.now();K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||K.expando+"_"+zn++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.data,l=n.url,c=n.jsonp!==!1,f=c&&In.test(l),p=c&&!f&&"string"==typeof u&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(u);return"jsonp"===n.dataTypes[0]||f||p?(o=n.jsonpCallback=K.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],f?n.url=l.replace(In,"$1"+o):p?n.data=u.replace(In,"$1"+o):c&&(n.url+=($n.test(l)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||K.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Rn.push(o)),s&&K.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),K.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,o){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Xn,Un=e.ActiveXObject?function(){for(var e in Xn)Xn[e](0,1)}:!1,Yn=0;K.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||D()}:j,function(e){K.extend(K.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(n){if(!n.crossDomain||K.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,f,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=K.noop,Un&&delete Xn[a]),i)4!==u.readyState&&u.abort();else{s=u.status,c=u.getAllResponseHeaders(),f={},p=u.responseXML,p&&p.documentElement&&(f.xml=p);try{f.text=u.responseText}catch(e){}try{l=u.statusText}catch(d){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(h){i||o(-1,h)}f&&o(s,l,f,c)},n.async?4===u.readyState?setTimeout(r,0):(a=++Yn,Un&&(Xn||(Xn={},K(e).unload(Un)),Xn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Vn,Gn=/^(?:toggle|show|hide)$/,Qn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Kn=/queueHooks$/,Zn=[O],er={"*":[function(e,t){var n,r,i,o=this.createTween(e,t),a=Qn.exec(t),s=o.cur(),u=+s||0,l=1;if(a){if(n=+a[2],r=a[3]||(K.cssNumber[e]?"":"px"),"px"!==r&&u){u=K.css(o.elem,e,!0)||n||1;do i=l=l||".5",u/=l,K.style(o.elem,e,u+r),l=o.cur()/s;while(1!==l&&l!==i)}o.unit=r,o.start=u,o.end=a[1]?u+(a[1]+1)*n:n}return o}]};K.Animation=K.extend(F,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),K.Tween=_,_.prototype={constructor:_,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t,n=_.propHooks[this.prop];return this.pos=t=this.options.duration?K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(r,i,o){return null==r||"boolean"==typeof r||!e&&K.isFunction(r)&&K.isFunction(i)?n.apply(this,arguments):this.animate(q(t,!0),r,i,o)}}),K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=F(this,K.extend({},e),o);i&&t.stop(!0)};return i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=K.timers,a=K._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Kn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&K.dequeue(this,e)})}}),K.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.timers=[],K.fx=_.prototype.init,K.fx.tick=function(){for(var e,t=K.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||K.fx.stop()},K.fx.timer=function(e){e()&&K.timers.push(e)&&!Vn&&(Vn=setInterval(K.fx.tick,K.fx.interval))},K.fx.interval=13,K.fx.stop=function(){clearInterval(Vn),Vn=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fx.step={},K.expr&&K.expr.filters&&(K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;return K.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){K.offset.setOffset(this,e,t)});var n,r,i,o,a,s,u,l,c,f,p=this[0],d=p&&p.ownerDocument;if(d)return(i=d.body)===p?K.offset.bodyOffset(p):(r=d.documentElement,K.contains(r,p)?(n=p.getBoundingClientRect(),o=B(d),a=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,u=o.pageYOffset||r.scrollTop,l=o.pageXOffset||r.scrollLeft,c=n.top+u-a,f=n.left+l-s,{top:c,left:f}):{top:0,left:0})},K.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(K.css(e,"marginTop"))||0,n+=parseFloat(K.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=K.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=K(e),s=a.offset(),u=K.css(e,"top"),l=K.css(e,"left"),c=("absolute"===r||"fixed"===r)&&K.inArray("auto",[u,l])>-1,f={},p={};c?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},K.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(K.css(e,"marginTop"))||0,n.left-=parseFloat(K.css(e,"marginLeft"))||0,r.top+=parseFloat(K.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(K.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||R.body;e&&!tr.test(e.nodeName)&&"static"===K.css(e,"position");)e=e.offsetParent;return e||R.body})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);K.fn[e]=function(i){return K.access(this,function(e,i,o){var a=B(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(r?K(a).scrollLeft():o,r?o:K(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),K.each({Height:"height",Width:"width"},function(e,n){K.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){K.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return K.access(this,function(n,r,i){var o;return K.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?K.css(n,r,i,s):K.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K}),K}(window)});
},{}],"jquery":[function(require,module,exports){
module.exports=require('UErKnN');
},{}],"mox-interface":[function(require,module,exports){
module.exports=require('p56Ja0');
},{}],"p56Ja0":[function(require,module,exports){
var Stapes=require("stapes"),Interface=Stapes.subclass({constructor:function(){}});module.exports=Interface;
},{"stapes":"9b+syo"}],"dwjOKa":[function(require,module,exports){
var Ractive=require("ractive"),$=require("jquery"),Lockscreen={loadingHidden:!1,hideLoading:function(e){if(this.loadingHidden)return!0;var e=arguments.length?e:250,n=$("#loading");return this.loadingHidden=!0,n.length?(n.fadeOut(e),!0):!0},setLock:function(){$("body").addClass("with-global-lock")},showOffline:function(){var e=Ractive.extend({el:"body",template:require("./views/offline.ract").template,append:!0,complete:function(){this.on("workoffline",function(){console.log("Offline mode enabled")})}});return new e},showError:function(e,n){var t=Ractive.extend({el:"body",template:require("./views/error.ract").template,append:!0,data:{message:e,buttons:n}});return new t}};module.exports=function(e){return $=e,Lockscreen};
},{"./views/error.ract":12,"./views/offline.ract":13,"jquery":"UErKnN","ractive":"apCE4A"}],"mox-lockscreen":[function(require,module,exports){
module.exports=require('dwjOKa');
},{}],12:[function(require,module,exports){
exports.template={v:1,t:[{t:7,e:"div",a:{id:"error","class":"lock-screen"},f:[{t:7,e:"div",a:{"class":"vertical"},f:[{t:7,e:"div",a:{"class":"horizontal"},f:[{t:7,e:"i",a:{"class":"fa fa-warning"}}," ",{t:7,e:"div",a:{"class":"body"},f:[{t:7,e:"div",a:{"class":"message"},f:[{t:2,r:"message"}]}," ",{t:7,e:"div",a:{"class":"buttons"},f:[{t:4,r:"buttons",f:[{t:7,e:"a",a:{href:[{t:2,r:"url"}],"class":"huge blue btn"},f:[{t:2,r:"text"}]}]}]}]}]}]}]}]};
},{}],13:[function(require,module,exports){
exports.template={v:1,t:[{t:7,e:"div",a:{id:"offline","class":"lock-screen"},f:[{t:7,e:"div",a:{"class":"vertical"},f:[{t:7,e:"div",a:{"class":"horizontal"},f:[{t:7,e:"i",a:{"class":"fa fa-power-off"}}," ",{t:7,e:"div",a:{"class":"body"},f:[{t:7,e:"div",a:{"class":"message"},f:["You are offline."]}," ",{t:7,e:"div",a:{"class":"buttons"},f:[{t:7,e:"a",a:{href:"javascript:;","class":"huge blue btn"},v:{click:"workoffline"},f:["Work Offline"]}]}]}]}]}]}]};
},{}],"73d6EJ":[function(require,module,exports){
var $=require("jquery"),_=require("underscore");require("notifyjs");var Notify={success:function(t,i){return this._notify({text:t,icon:'<i class="fa fa-check" style="top:-2px;"></i>'},_.extend({className:"success"},i))},error:function(t,i){return this._notify({text:t,icon:'<i class="fa fa-times-circle"></i>'},_.extend({className:"error"},i))},info:function(t,i){return this._notify({text:t,icon:'<i class="fa fa-info-circle"></i>'},_.extend({className:"info"},i))},warning:function(t,i){return this._notify({text:t,icon:'<i class="fa fa-warning"></i>'},_.extend({className:"warning"},i))},show:function(t,i,e){return this[t](i,e)},_notify:function(t,i){$.notify(t,i)},_addStyle:function(){$.notify.addStyle("flat",{html:'<div><div class="icon" data-notify-html="icon"/><div class="text-wrapper sans-font"><div class="md-text text" data-notify-text="text"/></div></div>',classes:{}})},_addDefaults:function(){$.notify.defaults({clickToHide:!0,autoHide:!0,autoHideDelay:1e4,arrowShow:!1,arrowSize:5,elementPosition:"bottom left",globalPosition:"top right",style:"flat",className:"error",showAnimation:"fadeIn",showDuration:400,hideAnimation:"fadeOut",hideDuration:200,gap:2})}};Notify._addStyle(),Notify._addDefaults(),module.exports=Notify;
},{"jquery":"UErKnN","notifyjs":"lXRrHb","underscore":"ZKusGn"}],"mox-notify":[function(require,module,exports){
module.exports=require('73d6EJ');
},{}],"148roI":[function(require,module,exports){
var Superagent=require("superagent"),_=require("underscore"),Notify=null,Lockscreen=null,Request={basePath:null,post:function(e,t,n,r){var o=this,t=arguments.length>1?arguments[1]:{},n=arguments.length>2?arguments[2]:function(){},r=arguments.length>3?arguments[3]:function(){};return Superagent.post(this.basePath+e).send(t).set("Accept","application/json").type("form").end(function(e,t){return e?o.handleNetworkError(e):o.handleResponse(t,n,r)})},get:function(e,t,n){var r=this,t=arguments.length>1?arguments[1]:function(){},n=arguments.length>2?arguments[2]:function(){};return Superagent.get(this.basePath+e).end(function(e,o){return e?r.handleNetworkError(e,n):r.handleResponse(o,t,n)})},handleResponse:function(e,t,n){if(!this.handle404(e)||!this.handle401(e))return Lockscreen.hideLoading(),n(e);_.has(e,"ok")&&e.ok||4==e.xhr.readyState&&Lockscreen.showOffline();var r=!e.ok;r||"POST"!=e.req.method||(r=!_.has(e,"body")||!e.body||!_.has(e.body,"code")||parseInt(e.body.code)>=400);var o={clickToHide:r?!1:!0,autoHide:r?!1:!0};if(r&&Lockscreen.setLock(),_.has(e,"body")&&e.body&&_.has(e.body,"messages")&&e.body.messages.length)for(i in e.body.messages){var s=_.pairs(e.body.messages[i]);Notify.show(s[0][0],s[0][1],o)}return r?void 0:t(e.body,e)},handle404:function(e){return 404==e.status?(Lockscreen.showError("There was a problem connecting to TeachBoost.",[{url:this.basePath+"/dashboard",text:"Back to Dashboard"}],404),!1):!0},handle401:function(e){return 401==e.status?(Lockscreen.showError("You're not authorized to view that resource.",[{url:this.basePath+"/dashboard",text:"Back to Dashboard"}],401),!1):!0},handleNetworkError:function(e,t){return Lockscreen.showOffline(),t(e)}};module.exports=function(e,t,n){return Request.basePath=e,Lockscreen=t,Notify=n,Request};
},{"superagent":"bBcoDq","underscore":"ZKusGn"}],"mox-request":[function(require,module,exports){
module.exports=require('148roI');
},{}],"mox-router":[function(require,module,exports){
module.exports=require('L52y5v');
},{}],"L52y5v":[function(require,module,exports){
var Stapes=require("stapes"),Page=require("page"),Router=Stapes.subclass({constructor:function(){},page:function(){Page.apply(this,arguments)},start:function(){Page.start.apply(this,arguments)},base:function(){Page.base.apply(this,arguments)}});module.exports=Router;
},{"page":"c8LduW","stapes":"9b+syo"}],"mox-toolbelt":[function(require,module,exports){
module.exports=require('9CxDSh');
},{}],"9CxDSh":[function(require,module,exports){
var Toolbelt={getUrlSegment:function(t){var l=window.history.location||window.location,e=l.pathname;"/"===e.charAt(0)&&(e=e.substr(1)),e=e.replace(/\/\#!?\//,"/");var o=e.split("/");if(t>o.length)return null;var r=o[t-1].split("#");return r.length?r[0]:o[t-1]}};module.exports=Toolbelt;
},{}],"c8LduW":[function(require,module,exports){
(function (global){
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.page=t()}}(function(){return function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[o]={exports:{}};e[o][0].call(p.exports,function(t){var n=e[o][1][t];return i(n?n:t)},p,p.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e){function n(t,e){if("function"==typeof t)return n("*",t);if("function"==typeof e)for(var r=new a(t),i=1;i<arguments.length;++i)n.callbacks.push(r.middleware(arguments[i]));else"string"==typeof t?n.show(t,e):n.start(t)}function r(t){var e=y.pathname+y.search;e!=t.canonicalPath&&(n.stop(),t.unhandled=!0,y=t.canonicalPath)}function i(t,e){"/"==t[0]&&0!=t.indexOf(v)&&(t=v+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(v,"")||"/",this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?t.slice(n+1):"",this.pathname=~n?t.slice(0,n):t,this.params=[],this.hash="",~this.path.indexOf("#")){var r=this.path.split("#");this.path=r[0],this.hash=r[1]||"",this.querystring=this.querystring.split("#")[0]}}function a(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=f(this.path,this.keys=[],e.sensitive,e.strict)}function o(t){if(t.state){var e=t.state.path;n.replace(e,t.state)}}function s(t){if(c(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target||t.srcElement;e&&"A"!=e.nodeName;)e=e.parentNode;if(e&&"A"==e.nodeName){var r=e.getAttribute("href");if(!(e.pathname==y.pathname&&(e.hash||"#"==r)||r.indexOf("mailto:")>-1||e.target||!u(e.href))){var i=e.pathname+e.search+(e.hash||"");"/"!==i[0]&&(i="/"+i);var a=i+e.hash;i=i.replace(v,""),v&&a==i||(t.preventDefault?t.preventDefault():t.returnValue=!1,n.show(a))}}}}function c(t){return t=t||window.event,null==t.which?0==t.button:1==t.which}function u(t){var e=y.protocol+"//"+y.hostname;return y.port&&(e+=":"+y.port),0==t.indexOf(e)}function p(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}var f=t("path-to-regexp");e.exports=n;var l,d=!0,v="",y=window.history.location||window.location,m=!1;Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var a,o,s=[];for(a in i)t.call(i,a)&&s.push(a);if(e)for(o=0;r>o;o++)t.call(i,n[o])&&s.push(n[o]);return s}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),n.callbacks=[],n.base=function(t){return 0==arguments.length?v:void(v=t)},n.start=function(t){if(t=t||{},!l&&(l=!0,!1===t.dispatch&&(d=!1),!1!==t.popstate&&p(window,"popstate",o),!1!==t.click&&p(document,"click",s),!0===t.hashbang&&(m=!0),d)){var e=y.pathname+y.search+y.hash;n.replace(e,null,!0,d)}},n.stop=function(){l=!1,h(document,"click",s),h(window,"popstate",o)},n.show=function(t,e,r){var a=new i(t,e);return!1!==r&&n.dispatch(a),a.unhandled||a.pushState(),a},n.replace=function(t,e,r,a){var o=new i(t,e);return o.init=r,null==a&&(a=!0),a&&n.dispatch(o),o.save(),o},n.dispatch=function(t){function e(){var a=n.callbacks[i++];return a?void a(t,e):r(t)}var i=0;e()},n.Context=i,i.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},i.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},n.Route=a,a.prototype.middleware=function(t){var e=this;return function(n,r){return e.match(n.path,n.params)?t(n,r):void r()}},a.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),i=~r?t.slice(0,r):t,a=this.regexp.exec(decodeURIComponent(i));if(!a)return!1;for(var o=1,s=a.length;s>o;++o){var c=n[o-1],u="string"==typeof a[o]?decodeURIComponent(a[o]):a[o];c?e[c.name]=void 0!==e[c.name]?e[c.name]:u:e.push(u)}return!0}},{"path-to-regexp":2}],2:[function(t,e){function n(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function r(t,e,o){e&&!Array.isArray(e)&&(o=e,e=null),e=e||[],o=o||{};var s=o.strict,c=o.end!==!1,u=o.sensitive?"":"i",p=0;if(t instanceof RegExp){var h=t.source.match(/\((?!\?)/g)||[];return e.push.apply(e,h.map(function(t,e){return{name:e,delimiter:null,optional:!1,repeat:!1}})),a(t,e)}if(Array.isArray(t))return t=t.map(function(t){return r(t,e,o).source}),a(new RegExp("(?:"+t.join("|")+")",u),e);t=t.replace(i,function(t,r,i,a,o,s,c,u){if(r)return r;if(u)return"\\"+u;var h="+"===c||"*"===c,f="?"===c||"*"===c;return e.push({name:a||p++,delimiter:i||"/",optional:f,repeat:h}),i=i?"\\"+i:"",o=n(o||s||"[^"+(i||"\\/")+"]+?"),h&&(o=o+"(?:"+i+o+")*"),f?"(?:"+i+"("+o+"))?":i+"("+o+")"});var f="/"===t[t.length-1];return s||(t=(f?t.slice(0,-2):t)+"(?:\\/(?=$))?"),c||(t+=s&&f?"":"(?=\\/|$)"),a(new RegExp("^"+t+(c?"$":""),u),e)}e.exports=r;var i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),a=function(t,e){return t.keys=e,t}},{}]},{},[1])(1)});
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"page":[function(require,module,exports){
module.exports=require('c8LduW');
},{}],24:[function(require,module,exports){
"use strict";function arrayFirst(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r)===!0)return t[r];return!1}function yankError(t){return function(e,r){e||r[0].error?t(e||r[0]):t(null,r[0])}}function computeHeight(t){var e={},r=[];return merge.traverseRevTree(t,function(t,n,o,i){var s=n+"-"+o;return t&&(e[s]=0),void 0!==i&&r.push({from:i,to:s}),s}),r.reverse(),r.forEach(function(t){e[t.from]=void 0===e[t.from]?1+e[t.to]:Math.min(e[t.from],1+e[t.to])}),e}function allDocsKeysQuery(t,e,r){var n="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&n.reverse(),!n.length)return t._allDocs({limit:0},r);var o={offset:e.skip};return Promise.all(n.map(function(r){var n=utils.extend(!0,{key:r,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete n[t]}),new Promise(function(e,i){t._allDocs(n,function(t,n){return t?i(t):(o.total_rows=n.total_rows,void e(n.rows[0]||{key:r,error:"not_found"}))})})})).then(function(t){return o.rows=t,o})}function AbstractPouchDB(){var t=this;EventEmitter.call(this),t.autoCompact=function(e){return t.auto_compaction?function(r,n){if(r)e(r);else{var o=n.length,i=function(){o--,o||e(null,n)};n.forEach(function(e){e.ok&&e.id?t.compactDocument(e.id,1,i):i()})}}:e};var e,r=0,n=["change","delete","create","update"];this.on("newListener",function(o){if(~n.indexOf(o)){if(r)return void r++;r++;var i=0;e=this.changes({conflicts:!0,include_docs:!0,continuous:!0,since:"now",onChange:function(e){e.seq<=i||(i=e.seq,t.emit("change",e),e.doc._deleted?t.emit("delete",e):"1"===e.doc._rev.split("-")[0]?t.emit("create",e):t.emit("update",e))}})}}),this.on("removeListener",function(t){~n.indexOf(t)&&(r--,r||e.cancel())})}var utils=require("./utils"),merge=require("./merge"),errors=require("./deps/errors"),EventEmitter=require("events").EventEmitter,upsert=require("./deps/upsert"),Changes=require("./changes"),Promise=utils.Promise;utils.inherits(AbstractPouchDB,EventEmitter),module.exports=AbstractPouchDB,AbstractPouchDB.prototype.post=utils.adapterFun("post",function(t,e,r){return"function"==typeof e&&(r=e,e={}),"object"!=typeof t||Array.isArray(t)?r(errors.NOT_AN_OBJECT):void this.bulkDocs({docs:[t]},e,this.autoCompact(yankError(r)))}),AbstractPouchDB.prototype.put=utils.adapterFun("put",utils.getArguments(function(t){var e,r,n,o,i=t.shift(),s="_id"in i;if("object"!=typeof i||Array.isArray(i))return(o=t.pop())(errors.NOT_AN_OBJECT);for(i=utils.clone(i);;)if(e=t.shift(),r=typeof e,"string"!==r||s?"string"!==r||!s||"_rev"in i?"object"===r?n=e:"function"===r&&(o=e):i._rev=e:(i._id=e,s=!0),!t.length)break;n=n||{};var c=utils.invalidIdError(i._id);return c?o(c):utils.isLocalId(i._id)&&"function"==typeof this._putLocal?i._deleted?this._removeLocal(i,o):this._putLocal(i,o):void this.bulkDocs({docs:[i]},n,this.autoCompact(yankError(o)))})),AbstractPouchDB.prototype.putAttachment=utils.adapterFun("putAttachment",function(t,e,r,n,o,i){function s(t){return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:n},c.put(t)}var c=this;return"function"==typeof o&&(i=o,o=n,n=r,r=null),"undefined"==typeof o&&(o=n,n=r,r=null),c.get(t).then(function(t){if(t._rev!==r)throw errors.REV_CONFLICT;return s(t)},function(e){if(e.error===errors.MISSING_DOC.error)return s({_id:t});throw e})}),AbstractPouchDB.prototype.removeAttachment=utils.adapterFun("removeAttachment",function(t,e,r,n){var o=this;o.get(t,function(t,i){return t?void n(t):i._rev!==r?void n(errors.REV_CONFLICT):i._attachments?(delete i._attachments[e],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,n)):n()})}),AbstractPouchDB.prototype.remove=utils.adapterFun("remove",function(t,e,r,n){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof r&&(n=r,r={})):(o=t,"function"==typeof e?(n=e,r={}):(n=r,r=e)),r=utils.clone(r||{}),r.was_delete=!0;var i={_id:o._id,_rev:o._rev||r.rev};return i._deleted=!0,utils.isLocalId(i._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,n):void this.bulkDocs({docs:[i]},r,yankError(n))}),AbstractPouchDB.prototype.revsDiff=utils.adapterFun("revsDiff",function(t,e,r){function n(t,e){c.has(t)||c.set(t,{missing:[]}),c.get(t).missing.push(e)}function o(e,r){var o=t[e].slice(0);merge.traverseRevTree(r,function(t,r,i,s,c){var a=r+"-"+i,u=o.indexOf(a);-1!==u&&(o.splice(u,1),"available"!==c.status&&n(e,a))}),o.forEach(function(t){n(e,t)})}"function"==typeof e&&(r=e,e={}),e=utils.clone(e);var i=Object.keys(t);if(!i.length)return r(null,{});var s=0,c=new utils.Map;i.map(function(e){this._getRevisionTree(e,function(n,a){if(n&&"not_found"===n.name&&"missing"===n.message)c.set(e,{missing:t[e]});else{if(n)return r(n);o(e,a)}if(++s===i.length){var u={};return c.forEach(function(t,e){u[e]=t}),r(null,u)}})},this)}),AbstractPouchDB.prototype.compactDocument=function(t,e,r){var n=this;this._getRevisionTree(t,function(o,i){if(o)return r(o);var s=computeHeight(i),c=[],a=[];Object.keys(s).forEach(function(t){s[t]>e&&c.push(t)}),merge.traverseRevTree(i,function(t,e,r,n,o){var i=e+"-"+r;"available"===o.status&&-1!==c.indexOf(i)&&(o.status="missing",a.push(i))}),n._doCompaction(t,i,a,r)})},AbstractPouchDB.prototype.compact=utils.adapterFun("compact",function(t,e){"function"==typeof t&&(e=t,t={});var r=this;this.changes({complete:function(t,n){if(t)return void e();var o=n.results.length;return o?void n.results.forEach(function(t){r.compactDocument(t.id,0,function(){o--,o||e()})}):void e()}})}),AbstractPouchDB.prototype.get=utils.adapterFun("get",function(t,e,r){function n(){var n=[],s=o.length;return s?void o.forEach(function(o){i.get(t,{rev:o,revs:e.revs,attachments:e.attachments},function(t,e){n.push(t?{missing:o}:{ok:e}),s--,s||r(null,n)})}):r(null,n)}if("function"==typeof e&&(r=e,e={}),"string"!=typeof t)return r(errors.INVALID_ID);if(utils.isLocalId(t)&&"function"==typeof this._getLocal)return this._getLocal(t,r);var o=[],i=this;if(!e.open_revs)return this._get(t,e,function(t,n){if(e=utils.clone(e),t)return r(t);var o=n.doc;if(!o)return r(new Error("no doc!"));var s=n.metadata,c=n.ctx;if(e.conflicts){var a=merge.collectConflicts(s);a.length&&(o._conflicts=a)}if(e.revs||e.revs_info){var u=merge.rootToLeaf(s.rev_tree),f=arrayFirst(u,function(t){return-1!==t.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])}),l=f.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])+1,p=f.ids.length-l;if(f.ids.splice(l,p),f.ids.reverse(),e.revs&&(o._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map(function(t){return t.id})}),e.revs_info){var d=f.pos+f.ids.length;o._revs_info=f.ids.map(function(t){return d--,{rev:d+"-"+t.id,status:t.opts.status}})}}if(e.local_seq&&(o._local_seq=n.metadata.seq),e.attachments&&o._attachments){var h=o._attachments,v=Object.keys(h).length;if(0===v)return r(null,o);Object.keys(h).forEach(function(t){this._getAttachment(h[t],{encode:!0,ctx:c},function(e,n){var i=o._attachments[t];i.data=n,delete i.stub,--v||r(null,o)})},i)}else{if(o._attachments)for(var _ in o._attachments)o._attachments.hasOwnProperty(_)&&(o._attachments[_].stub=!0);r(null,o)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){t&&(e=[]),o=merge.collectLeaves(e).map(function(t){return t.rev}),n()});else{if(!Array.isArray(e.open_revs))return r(errors.error(errors.UNKNOWN_ERROR,"function_clause"));o=e.open_revs;for(var s=0;s<o.length;s++){var c=o[s];if("string"!=typeof c||!/^\d+-/.test(c))return r(errors.error(errors.BAD_REQUEST,"Invalid rev format"))}n()}}),AbstractPouchDB.prototype.getAttachment=utils.adapterFun("getAttachment",function(t,e,r,n){var o=this;r instanceof Function&&(n=r,r={}),r=utils.clone(r),this._get(t,r,function(t,i){return t?n(t):i.doc._attachments&&i.doc._attachments[e]?(r.ctx=i.ctx,void o._getAttachment(i.doc._attachments[e],r,n)):n(errors.MISSING_DOC)})}),AbstractPouchDB.prototype.allDocs=utils.adapterFun("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t=utils.clone(t),t.skip="undefined"!=typeof t.skip?t.skip:0,"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(r)return void e(errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `"+r+"` is not compatible with multi-get"));if("http"!==this.type())return allDocsKeysQuery(this,t,e)}return this._allDocs(t,e)}),AbstractPouchDB.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new Changes(this,t,e)},AbstractPouchDB.prototype.close=utils.adapterFun("close",function(t){return this._closed=!0,this._close(t)}),AbstractPouchDB.prototype.info=utils.adapterFun("info",function(t){var e=this;this._info(function(r,n){return r?t(r):(n.db_name=n.db_name||e._db_name,void t(null,n))})}),AbstractPouchDB.prototype.id=utils.adapterFun("id",function(t){return this._id(t)}),AbstractPouchDB.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},AbstractPouchDB.prototype.bulkDocs=utils.adapterFun("bulkDocs",function(t,e,r){if("function"==typeof e&&(r=e,e={}),e=utils.clone(e),Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return r(errors.MISSING_BULK_DOCS);for(var n=0;n<t.docs.length;++n)if("object"!=typeof t.docs[n]||Array.isArray(t.docs[n]))return r(errors.NOT_AN_OBJECT);return t=utils.clone(t),"new_edits"in e||(e.new_edits="new_edits"in t?t.new_edits:!0),this._bulkDocs(t,e,this.autoCompact(r))}),AbstractPouchDB.prototype.registerDependentDatabase=utils.adapterFun("registerDependentDatabase",function(t,e){function r(e){return e.dependentDbs=e.dependentDbs||{},e.dependentDbs[t]?!1:(e.dependentDbs[t]=!0,e)}var n=new this.constructor(t,{adapter:this._adapter});upsert(this,"_local/_pouch_dependentDbs",r,function(t){return t?e(t):e(null,{db:n})})});
},{"./changes":29,"./deps/errors":34,"./deps/upsert":36,"./merge":42,"./utils":47,"events":4}],25:[function(require,module,exports){
"use strict";function parseUri(e){for(var t=parseUri.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[t.key[o]]=n[o]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,o){n&&(r[t.q.name][n]=o)}),r}function encodeDocId(e){return/^_(design|local)/.test(e)?e:encodeURIComponent(e)}function getHost(e,t){if(/http(s?):/.test(e)){var n=parseUri(e);n.remote=!0,(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var r=n.path.replace(/(^\/|\/$)/g,"").split("/");if(n.db=r.pop(),n.path=r.join("/"),t=t||{},t=utils.clone(t),n.headers=t.headers||{},t.auth||n.auth){var o=t.auth||n.auth,s=utils.btoa(o.username+":"+o.password);n.headers.Authorization="Basic "+s}return t.headers&&(n.headers=t.headers),n}return{host:"",path:"/",db:e,auth:!1}}function genDBUrl(e,t){return genUrl(e,e.db+"/"+t)}function genUrl(e,t){if(e.remote){var n=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+n+t}return"/"+t}function HttpPouch(e,t){function n(e,t){return utils.ajax(utils.extend({},i,e),t)}var r=this;r.getHost=e.getHost?e.getHost:getHost;var o=r.getHost(e.name,e),s=genDBUrl(o,"");r.getUrl=function(){return s};var i=e.ajax||{};e=utils.clone(e);var u=function(){n({headers:o.headers,method:"PUT",url:s},function(e){e&&401===e.status?n({headers:o.headers,method:"HEAD",url:s},function(e){e?t(e):t(null,r)}):e&&412!==e.status?t(e):t(null,r)})};e.skipSetup||n({headers:o.headers,method:"GET",url:s},function(e){e?404===e.status?u():t(e):t(null,r)}),r.type=function(){return"http"},r.id=utils.adapterFun("id",function(e){n({headers:o.headers,method:"GET",url:genUrl(o,"")},function(t,n){var r=n&&n.uuid?n.uuid+o.db:genDBUrl(o,"");e(null,r)})}),r.request=utils.adapterFun("request",function(e,t){e.headers=o.headers,e.url=genDBUrl(o,e.url),n(e,t)}),r.compact=utils.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=utils.clone(e),n({headers:o.headers,url:genDBUrl(o,"_compact"),method:"POST"},function(){function n(){r.info(function(r,o){o.compact_running?setTimeout(n,e.interval||200):t()})}"function"==typeof t&&n()})}),r._info=function(e){n({headers:o.headers,method:"GET",url:genDBUrl(o,"")},function(t,n){t?e(t):(n.host=genDBUrl(o,""),e(null,n))})},r.get=utils.adapterFun("get",function(e,t,r){"function"==typeof t&&(r=t,t={}),t=utils.clone(t),void 0===t.auto_encode&&(t.auto_encode=!0);var s=[];t.revs&&s.push("revs=true"),t.revs_info&&s.push("revs_info=true"),t.local_seq&&s.push("local_seq=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),s.push("open_revs="+t.open_revs)),t.attachments&&s.push("attachments=true"),t.rev&&s.push("rev="+t.rev),t.conflicts&&s.push("conflicts="+t.conflicts),s=s.join("&"),s=""===s?"":"?"+s,t.auto_encode&&(e=encodeDocId(e));var i={headers:o.headers,method:"GET",url:genDBUrl(o,e+s)},u=e.split("/");(u.length>1&&"_design"!==u[0]&&"_local"!==u[0]||u.length>2&&"_design"===u[0]&&"_local"!==u[0])&&(i.binary=!0),n(i,function(e,t,n){return e?r(e):void r(null,t,n)})}),r.remove=utils.adapterFun("remove",function(e,t,r,s){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(s=r,r={})):(i=e,"function"==typeof t?(s=t,r={}):(s=r,r=t));var u=i._rev||r.rev;n({headers:o.headers,method:"DELETE",url:genDBUrl(o,encodeDocId(i._id))+"?rev="+u},s)}),r.getAttachment=utils.adapterFun("getAttachment",function(e,t,n,o){"function"==typeof n&&(o=n,n={}),n=utils.clone(n),void 0===n.auto_encode&&(n.auto_encode=!0),n.auto_encode&&(e=encodeDocId(e)),n.auto_encode=!1,r.get(e+"/"+t,n,o)}),r.removeAttachment=utils.adapterFun("removeAttachment",function(e,t,r,s){n({headers:o.headers,method:"DELETE",url:genDBUrl(o,encodeDocId(e)+"/"+t)+"?rev="+r},s)}),r.putAttachment=utils.adapterFun("putAttachment",function(e,t,r,s,i,u){"function"==typeof i&&(u=i,i=s,s=r,r=null),"undefined"==typeof i&&(i=s,s=r,r=null);var a=encodeDocId(e)+"/"+t,l=genDBUrl(o,a);r&&(l+="?rev="+r);var d={headers:utils.clone(o.headers),method:"PUT",url:l,processData:!1,body:s,timeout:6e4};d.headers["Content-Type"]=i,n(d,u)}),r.put=utils.adapterFun("put",utils.getArguments(function(e){var t,r,s,i,u=e.shift(),a="_id"in u;if("object"!=typeof u||Array.isArray(u))return(i=e.pop())(errors.NOT_AN_OBJECT);for(u=utils.clone(u);;)if(t=e.shift(),r=typeof t,"string"!==r||a?"string"!==r||!a||"_rev"in u?"object"===r?s=utils.clone(t):"function"===r&&(i=t):u._rev=t:(u._id=t,a=!0),!e.length)break;s=s||{};var l=utils.invalidIdError(u._id);if(l)return i(l);var d=[];s&&"undefined"!=typeof s.new_edits&&d.push("new_edits="+s.new_edits),d=d.join("&"),""!==d&&(d="?"+d),n({headers:o.headers,method:"PUT",url:genDBUrl(o,encodeDocId(u._id))+d,body:u},function(e,t){return e?i(e):(t.ok=!0,void i(null,t))})})),r.post=utils.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=utils.clone(t),"object"!=typeof e?n(errors.NOT_AN_OBJECT):("_id"in e||(e._id=utils.uuid()),void r.put(e,t,function(e,t){return e?n(e):(t.ok=!0,void n(null,t))}))}),r._bulkDocs=function(e,t,r){"undefined"!=typeof t.new_edits&&(e.new_edits=t.new_edits),n({headers:o.headers,method:"POST",url:genDBUrl(o,"_bulk_docs"),body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})},r.allDocs=utils.adapterFun("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=utils.clone(e);var r,s=[],i="GET";if(e.conflicts&&s.push("conflicts=true"),e.descending&&s.push("descending=true"),e.include_docs&&s.push("include_docs=true"),e.key&&s.push("key="+encodeURIComponent(JSON.stringify(e.key))),e.startkey&&s.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&s.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),"undefined"!=typeof e.inclusive_end&&s.push("inclusive_end="+!!e.inclusive_end),"undefined"!=typeof e.limit&&s.push("limit="+e.limit),"undefined"!=typeof e.skip&&s.push("skip="+e.skip),s=s.join("&"),""!==s&&(s="?"+s),"undefined"!=typeof e.keys){var u=2e3,a="keys="+encodeURIComponent(JSON.stringify(e.keys));a.length+s.length+1<=u?s+=(-1!==s.indexOf("?")?"&":"?")+a:(i="POST",r=JSON.stringify({keys:e.keys}))}n({headers:o.headers,method:i,url:genDBUrl(o,"_all_docs"+s),body:r},t)}),r._changes=function(e){var t="batch_size"in e?e.batch_size:CHANGES_BATCH_SIZE;e=utils.clone(e),e.timeout=e.timeout||3e4;var r={timeout:e.timeout-5e3},s="undefined"!=typeof e.limit?e.limit:!1;0===s&&(s=1);var i;i="returnDocs"in e?e.returnDocs:!0;var u=s;if(e.style&&(r.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(r.include_docs=!0),e.continuous&&(r.feed="longpoll"),e.conflicts&&(r.conflicts=!0),e.descending&&(r.descending=!0),e.filter&&"string"==typeof e.filter&&(r.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(r.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var a in e.query_params)e.query_params.hasOwnProperty(a)&&(r[a]=e.query_params[a]);var l,d,c=function(i,a){if(!e.aborted){r.since=i,e.descending?s&&(r.limit=u):r.limit=!s||u>t?t:u;var c="?"+Object.keys(r).map(function(e){return e+"="+r[e]}).join("&"),f={headers:o.headers,method:"GET",url:genDBUrl(o,"_changes"+c),timeout:e.timeout};d=i,e.aborted||(l=n(f,a))}},f=10,p=0,h={results:[]},v=function(n,r){if(!e.aborted){var o=0;if(r&&r.results){o=r.results.length,h.last_seq=r.last_seq;var a={};a.query=e.query_params,r.results=r.results.filter(function(t){u--;var n=utils.filterChange(e)(t);return n&&(i&&h.results.push(t),utils.call(e.onChange,t)),n})}else if(n)return e.aborted=!0,void utils.call(e.complete,n);r&&r.last_seq&&(d=r.last_seq);var l=s&&0>=u||r&&t>o||e.descending;if((!e.continuous||s&&0>=u)&&l)utils.call(e.complete,null,h);else{n?p+=1:p=0;var y=1<<p,_=f*y,m=e.maximumWait||3e4;if(_>m)return void utils.call(e.complete,n||errors.UNKNOWN_ERROR);setTimeout(function(){c(d,v)},_)}}};return c(e.since||0,v),{cancel:function(){e.aborted=!0,l&&l.abort()}}},r.revsDiff=utils.adapterFun("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n({headers:o.headers,method:"POST",url:genDBUrl(o,"_revs_diff"),body:JSON.stringify(e)},r)}),r._close=function(e){e()},r.destroy=utils.adapterFun("destroy",function(e){n({url:genDBUrl(o,""),method:"DELETE",headers:o.headers},function(t,n){t?(r.emit("error",t),e(t)):(r.emit("destroyed"),e(null,n))})})}var CHANGES_BATCH_SIZE=25,utils=require("../utils"),errors=require("../deps/errors");parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},HttpPouch.destroy=utils.toPromise(function(e,t,n){var r=getHost(e,t);t=t||{},"function"==typeof t&&(n=t,t={}),t=utils.clone(t),t.headers=r.headers,t.method="DELETE",t.url=genDBUrl(r,"");var o=t.ajax||{};t=utils.extend({},t,o),utils.ajax(t,n)}),HttpPouch.valid=function(){return!0},module.exports=HttpPouch;
},{"../deps/errors":34,"../utils":47}],26:[function(require,module,exports){
(function (process,global){
"use strict";function tryCode(e,t,r){try{e.apply(t,r)}catch(n){window.PouchDB&&window.PouchDB.emit("error",n)}}function applyNext(){if(!taskQueue.running&&taskQueue.queue.length){taskQueue.running=!0;var e=taskQueue.queue.shift();e.action(function(t,r){tryCode(e.callback,this,[t,r]),taskQueue.running=!1,process.nextTick(applyNext)})}}function idbError(e){return function(t){var r=t.target&&t.target.error&&t.target.error.name||t.target;e(errors.error(errors.IDB_ERROR,r,t.type))}}function isModernIdb(){var e="_pouch__checkModernIdb_"+(global.navigator&&global.navigator.appVersion),t=utils.hasLocalStorage()&&global.localStorage[e];if(t)return JSON.parse(t);var r="_pouch__checkModernIdb",n=null===global.indexedDB.open(r,1).onupgradeneeded;return global.indexedDB.deleteDatabase&&global.indexedDB.deleteDatabase(r),utils.hasLocalStorage()&&(global.localStorage[e]=JSON.stringify(n)),n}function IdbPouch(e,t){var r=this;taskQueue.queue.push({action:function(t){init(r,e,t)},callback:t}),applyNext()}function init(e,t,r){function n(e){e.createObjectStore(l,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),e.createObjectStore(d,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(f,{keyPath:"digest"}),e.createObjectStore(v,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(g)}function o(e,t){var r=e.currentTarget.transaction,n=r.objectStore(l);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var a=o.value,i=utils.isDeleted(a);a.deletedOrLocal=i?"1":"0",n.put(a),o["continue"]()}else t(r)}}function a(e){e.createObjectStore(_,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function i(e,t){t=t||e.currentTarget.transaction;var r=t.objectStore(_),n=t.objectStore(l),o=t.objectStore(d),a=n.openCursor();a.onsuccess=function(e){var t=e.target.result;if(t){var a=t.value,i=a.id,c=utils.isLocalId(i),u=merge.winningRev(a);if(c){var s=i+"::"+u,l=o.index("_doc_id_rev");l.get(s).onsuccess=function(e){var a=e.target.result;r.put(a),n["delete"](t.primaryKey),l.getKey(s).onsuccess=function(e){o["delete"](e.target.result),t["continue"]()}}}else t["continue"]()}}}function c(e,t,r){var n="startkey"in t?t.startkey:!1,o="endkey"in t?t.endkey:!1,a="key"in t?t.key:!1,i=t.skip||0,c="number"==typeof t.limit?t.limit:-1,u=t.inclusive_end!==!1,s="descending"in t&&t.descending?"prev":null,f=!1;s&&n&&o&&(f=o,o=!1);var v=null;try{n&&o?v=global.IDBKeyRange.bound(n,o,!1,!u):n?v=s?global.IDBKeyRange.upperBound(n):global.IDBKeyRange.lowerBound(n):o?v=s?global.IDBKeyRange.lowerBound(o,!u):global.IDBKeyRange.upperBound(o,!u):a&&(v=global.IDBKeyRange.only(a))}catch(_){return"DataError"===_.name&&0===_.code?r(null,{total_rows:e,offset:t.skip,rows:[]}):r(errors.error(errors.IDB_ERROR,_.name,_.message))}var g=y.transaction([l,d],"readonly");g.oncomplete=function(){r(null,{total_rows:e,offset:t.skip,rows:h})};var b=g.objectStore(l),p=s?b.openCursor(v,s):b.openCursor(v),h=[];p.onsuccess=function(e){function r(e,r){var o={id:e.id,key:e.id,value:{rev:a}};if(t.include_docs){o.doc=r,o.doc._rev=a,o.doc._doc_id_rev&&delete o.doc._doc_id_rev,t.conflicts&&(o.doc._conflicts=merge.collectConflicts(e));for(var s in o.doc._attachments)o.doc._attachments.hasOwnProperty(s)&&(o.doc._attachments[s].stub=!0)}var l=utils.isDeleted(e,a);if("ok"===t.deleted)l&&(o.value.deleted=!0,o.doc=null),h.push(o);else if(!l&&i--<=0){if(f){if(u&&o.key<f)return;if(!u&&o.key<=f)return}if(h.push(o),0===--c)return}n["continue"]()}if(e.target.result){var n=e.target.result,o=n.value,a=o.winningRev||merge.winningRev(o);if(t.include_docs){var s=g.objectStore(d).index("_doc_id_rev"),l=o.id+"::"+a;s.get(l).onsuccess=function(e){r(n.value,e.target.result)}}else r(o)}}}function u(e){if(-1!==S)return e(null,S);var t,r=y.transaction([l],"readonly"),n=r.objectStore(l).index("deletedOrLocal");n.count(global.IDBKeyRange.only("0")).onsuccess=function(e){t=e.target.result},r.onerror=idbError(e),r.oncomplete=function(){S=t,e(null,S)}}var s=3,l="document-store",d="by-sequence",f="attach-store",v="meta-store",_="local-store",g="detect-blob-support",b=t.name,p=null,h=null,m=!1,y=null,S=-1;e.type=function(){return"idb"},e._id=utils.toPromise(function(e){e(null,h)}),e._bulkDocs=function(t,r,n){function o(e){var t=e.target.result;t.updateSeq=(t.updateSeq||0)+x,j.objectStore(v).put(t)}function a(){if(++O===B.length)return void(j.objectStore(v).get(v).onsuccess=o);var t=B[O];if(t._id&&utils.isLocalId(t._id))return void e[t._deleted?"_removeLocal":"_putLocal"](t,{ctx:j},function(e){w.push(e?e:{}),a()});var r=t.metadata.id;if(q.has(r))return g(q.get(r),t);var n=j.objectStore(l).get(r);n.onsuccess=function(e){var r=e.target.result;r?g(r,t):h(t)}}function i(){var e=w.map(function(e){if(e._bulk_seq)delete e._bulk_seq;else if(!Object.keys(e).length)return{ok:!0};if(e.error)return e;var t=e.metadata,r=merge.winningRev(t);return{ok:!0,id:t.id,rev:r}});IdbPouch.Changes.notify(b),S=-1,n(null,e)}function c(e,t){if(e.stub)return t();if("string"==typeof e.data){var r;try{r=atob(e.data)}catch(o){var a=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return n(a)}if(p){var i=e.content_type;r=utils.fixBinary(r),e.data=utils.createBlob([r],{type:i})}return void utils.MD5(r).then(function(r){e.digest="md5-"+r,t()})}var c=new FileReader;c.onloadend=function(){var r=utils.arrayBufferToBinaryString(this.result);p||(e.data=btoa(r)),utils.MD5(r).then(function(r){e.digest="md5-"+r,t()})},c.readAsArrayBuffer(e.data)}function u(e){function t(){r++,B.length===r&&e()}if(!B.length)return e();var r=0;B.forEach(function(e){function r(){o++,o===n.length&&t()}var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!n.length)return t();var o=0;for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&c(e.data._attachments[a],r)})}function s(e,t,r,n){function o(e){c||(e?(c=e,n(c)):u===s.length&&i())}function a(e){u++,o(e)}function i(){function o(o){var a=e.metadata;a.seq=o.target.result,delete a.rev,a.deletedOrLocal=r?"1":"0",a.winningRev=t;var i=j.objectStore(l).put(a);i.onsuccess=function(){delete a.deletedOrLocal,delete a.winningRev,w.push(e),q.set(e.metadata.id,e.metadata),utils.call(n)}}x++,e.data._doc_id_rev=e.data._id+"::"+e.data._rev;var a=j.objectStore(d),i=a.index("_doc_id_rev"),c=a.put(e.data);c.onsuccess=o,c.onerror=function(t){t.preventDefault(),t.stopPropagation();var r=i.getKey(e.data._doc_id_rev);r.onsuccess=function(t){var r=a.put(e.data,t.target.result);x--,r.onsuccess=o}}}var c=null,u=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,r&&(e.data._deleted=!0);var s=e.data._attachments?Object.keys(e.data._attachments):[];for(var f in e.data._attachments)if(e.data._attachments[f].stub)u++,o();else{var v=e.data._attachments[f].data;delete e.data._attachments[f].data;var _=e.data._attachments[f].digest;I(e,_,v,a)}s.length||i()}function g(e,t){var r=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),n=utils.isDeleted(e),o=utils.isDeleted(t.metadata),i=n&&o&&D||!n&&D&&"new_leaf"!==r.conflicts;if(i)return w.push(m(errors.REV_CONFLICT,t._bulk_seq)),a();t.metadata.rev_tree=r.tree;var c=merge.winningRev(t.metadata);o=utils.isDeleted(t.metadata,c),s(t,c,o,a)}function h(e){var t=merge.winningRev(e.metadata),n=utils.isDeleted(e.metadata,t);return"was_delete"in r&&n?(w.push(errors.MISSING_DOC),a()):void s(e,t,n,a)}function m(e,t){return e._bulk_seq=t,e}function I(e,t,r,n){var o=j.objectStore(f);o.get(t).onsuccess=function(a){var i=a.target.result&&a.target.result.refs||{},c=[e.metadata.id,e.metadata.rev].join("@"),u={digest:t,body:r,refs:i};u.refs[c]=!0,o.put(u).onsuccess=function(){utils.call(n)}}}var D=r.new_edits,k=t.docs,B=k.map(function(e,t){if(e._id&&utils.isLocalId(e._id))return e;var r=utils.parseDoc(e,D);return r._bulk_seq=t,r}),R=B.filter(function(e){return e.error});if(R.length)return n(R[0]);var j,w=[],q=new utils.Map,x=0,O=-1;u(function(){var e=[l,d,f,v,_];j=y.transaction(e,"readwrite"),j.onerror=idbError(n),j.ontimeout=idbError(n),j.oncomplete=i,a()})},e._get=function(e,t,r){function n(){r(i,{doc:o,metadata:a,ctx:c})}var o,a,i,c;t=utils.clone(t),c=t.ctx?t.ctx:y.transaction([l,d,f],"readonly"),c.objectStore(l).get(e).onsuccess=function(e){if(a=e.target.result,!a)return i=errors.MISSING_DOC,n();if(utils.isDeleted(a)&&!t.rev)return i=errors.error(errors.MISSING_DOC,"deleted"),n();var r=c.objectStore(d),u=t.rev||a.winningRev||merge.winningRev(a),s=a.id+"::"+u;r.index("_doc_id_rev").get(s).onsuccess=function(e){return o=e.target.result,o&&o._doc_id_rev&&delete o._doc_id_rev,o?void n():(i=errors.MISSING_DOC,n())}}},e._getAttachment=function(e,t,r){var n,o;t=utils.clone(t),o=t.ctx?t.ctx:y.transaction([l,d,f],"readonly");var a=e.digest,i=e.content_type;o.objectStore(f).get(a).onsuccess=function(e){var o=e.target.result.body;if(t.encode)if(p){var a=new FileReader;a.onloadend=function(){var e=utils.arrayBufferToBinaryString(this.result);n=btoa(e),r(null,n)},a.readAsArrayBuffer(o)}else n=o,r(null,n);else p?n=o:(o=utils.fixBinary(atob(o)),n=utils.createBlob([o],{type:i})),r(null,n)}},e._allDocs=function(e,t){u(function(r,n){return r?t(r):0===e.limit?t(null,{total_rows:n,offset:e.skip,rows:[]}):void c(n,e,t)})},e._info=function(e){u(function(t,r){if(t)return e(t);if(null===y){var n=new Error("db isn't open");return n.id="idbNull",e(n)}var o=0,a=y.transaction([v],"readonly");a.objectStore(v).get(v).onsuccess=function(e){o=e.target.result&&e.target.result.updateSeq||0},a.oncomplete=function(){e(null,{doc_count:r,update_seq:o})}})},e._changes=function(t){function r(){f=y.transaction([l,d],"readonly"),f.oncomplete=o;var e;e=i?f.objectStore(d).openCursor(global.IDBKeyRange.lowerBound(t.since,!0),i):f.objectStore(d).openCursor(global.IDBKeyRange.lowerBound(t.since,!0)),e.onsuccess=n,e.onerror=onerror}function n(e){var r=e.target.result;if(r){var n=r.value;if(t.doc_ids&&-1===t.doc_ids.indexOf(n._id))return r["continue"]();var o=f.objectStore(l);o.get(n._id).onsuccess=function(e){var o=e.target.result;c<o.seq&&(c=o.seq);var a=o.winningRev||merge.winningRev(o);if(n._rev!==a)return r["continue"]();delete n._doc_id_rev;var i=t.processChange(n,o,t);i.seq=r.key,g(i)&&(_++,s&&v.push(i),t.onChange(i)),_!==u&&r["continue"]()}}}function o(){t.continuous||t.complete(null,{results:v,last_seq:c})}if(t=utils.clone(t),t.continuous){var a=b+":"+utils.uuid();return IdbPouch.Changes.addListener(b,a,e,t),IdbPouch.Changes.notify(b),{cancel:function(){IdbPouch.Changes.removeListener(b,a)}}}var i=t.descending?"prev":null,c=0;t.since=t.since&&!i?t.since:0;var u="limit"in t?t.limit:-1;0===u&&(u=1);var s;s="returnDocs"in t?t.returnDocs:!0;var f,v=[],_=0,g=utils.filterChange(t);r()},e._close=function(e){return null===y?e(errors.NOT_OPEN):(y.close(),delete cachedDBs[b],y=null,void e())},e._getRevisionTree=function(e,t){var r=y.transaction([l],"readonly"),n=r.objectStore(l).get(e);n.onsuccess=function(e){var r=e.target.result;r?t(null,r.rev_tree):t(errors.MISSING_DOC)}},e._doCompaction=function(e,t,r,n){var o=y.transaction([l,d],"readwrite"),a=o.objectStore(l);a.get(e).onsuccess=function(n){var a=n.target.result;a.rev_tree=t;var i=r.length;r.forEach(function(t){var r=o.objectStore(d).index("_doc_id_rev"),n=e+"::"+t;r.getKey(n).onsuccess=function(e){var t=e.target.result;t&&(o.objectStore(d)["delete"](t),i--,i||o.objectStore(l).put(a))}})},o.oncomplete=function(){utils.call(n)}},e._getLocal=function(e,t){var r=y.transaction([_],"readonly"),n=r.objectStore(_).get(e);n.onerror=idbError(t),n.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(errors.MISSING_DOC)}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n=e._rev,o=e._id;e._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-0",e._doc_id_rev=o+"::"+e._rev;var a,i=t.ctx;i||(i=y.transaction([_],"readwrite"),i.onerror=idbError(r),i.oncomplete=function(){a&&r(null,a)});var c,u=i.objectStore(_);if(n){var s=u.index("_doc_id_rev"),l=o+"::"+n;c=s.get(l),c.onsuccess=function(n){if(n.target.result){var o=u.put(e);o.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,a)}}else r(errors.REV_CONFLICT)}}else c=u.get(o),c.onsuccess=function(n){if(n.target.result)r(errors.REV_CONFLICT);else{var o=u.put(e);o.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,a)}}}},e._removeLocal=function(e,t){var r,n=y.transaction([_],"readwrite");n.oncomplete=function(){r&&t(null,r)};var o=e._id+"::"+e._rev,a=n.objectStore(_),i=a.index("_doc_id_rev"),c=i.get(o);c.onerror=idbError(t),c.onsuccess=function(e){var n=e.target.result;if(n){var c=i.getKey(o);c.onsuccess=function(e){var t=e.target.result;a["delete"](t),r={ok:!0,id:n._id,rev:"0-0"}}}else t(errors.MISSING_DOC)}};var I=cachedDBs[b];if(I)return y=I.idb,p=I.blobSupport,h=I.instanceId,m=I.idStored,void process.nextTick(function(){r(null,e)});var D=global.indexedDB.open(b,s);"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.openReqList[b]=D,D.onupgradeneeded=function(e){var t=e.target.result;e.oldVersion<1&&n(t),e.oldVersion<3&&(a(t),e.oldVersion<2?o(e,function(t){i(e,t)}):i(e))},D.onsuccess=function(t){y=t.target.result,y.onversionchange=function(){y.close(),delete cachedDBs[b]},y.onabort=function(){y.close(),delete cachedDBs[b]};var n=y.transaction([v,g],"readwrite"),o=n.objectStore(v).get(v);o.onsuccess=function(t){var o=function(){null!==p&&m&&(cachedDBs[b]={idb:y,blobSupport:p,instanceId:h,idStored:m,loaded:!0},r(null,e))},a=t.target.result||{id:v};b+"_id"in a?(h=a[b+"_id"],m=!0,o()):(h=utils.uuid(),a[b+"_id"]=h,n.objectStore(v).put(a).onsuccess=function(){m=!0,o()});try{n.objectStore(g).put(utils.createBlob(),"key"),p=!0}catch(i){p=!1}finally{o()}}},D.onerror=idbError(r)}function destroy(e,t,r){"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.Changes.removeAllListeners(e),IdbPouch.openReqList[e]&&IdbPouch.openReqList[e].result&&IdbPouch.openReqList[e].result.close();var n=global.indexedDB.deleteDatabase(e);n.onsuccess=function(){IdbPouch.openReqList[e]&&(IdbPouch.openReqList[e]=null),utils.hasLocalStorage()&&delete global.localStorage[e],delete cachedDBs[e],r(null,{ok:!0})},n.onerror=idbError(r)}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors"),cachedDBs={},taskQueue={running:!1,queue:[]};IdbPouch.valid=function(){return global.indexedDB&&isModernIdb()},IdbPouch.destroy=utils.toPromise(function(e,t,r){taskQueue.queue.push({action:function(r){destroy(e,t,r)},callback:r}),applyNext()}),IdbPouch.Changes=new utils.Changes,module.exports=IdbPouch;
}).call(this,require("FWaASH"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../deps/errors":34,"../merge":42,"../utils":47,"FWaASH":5}],27:[function(require,module,exports){
module.exports=["idb","websql"];
},{}],28:[function(require,module,exports){
(function (global){
"use strict";function quote(e){return"'"+e+"'"}function select(e,t,n,i,r){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(i?" WHERE "+("string"==typeof i?i:i.join(" AND ")):"")+(r?" ORDER BY "+r:"")}function unknownError(e){return function(t){var n=t&&t.constructor.toString().match(/function ([^\(]+)/),i=n&&n[1]||t.type,r=t.target||t.message;e(errors.error(errors.WSQ_ERROR,r,i))}}function decodeUtf8(e){return decodeURIComponent(window.escape(e))}function parseHexString(e,t){for(var n="",i="UTF-8"===t?2:4,r=0,a=e.length;a>r;r+=i){var o=e.substring(r,r+i);4===i&&(o=o.substring(2,4)+o.substring(0,2)),n+=String.fromCharCode(parseInt(o,16))}return n="UTF-8"===t?decodeUtf8(n):n}function stringifyDoc(e){return delete e._id,delete e._rev,JSON.stringify(e)}function unstringifyDoc(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function getSize(e){if("size"in e)return 1e6*e.size;var t=/Android/.test(window.navigator.userAgent);return t?5e6:1}function WebSqlPouch(e,t){function n(){utils.hasLocalStorage()&&(global.localStorage["_pouch__websqldb_"+d]=!0),t(null,l)}function i(e,t){e.executeSql(DOC_STORE_WINNINGSEQ_INDEX_SQL),e.executeSql("ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(BY_SEQ_STORE_DELETED_INDEX_SQL),e.executeSql("ALTER TABLE "+DOC_STORE+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+DOC_STORE+" (local, id)");var n="SELECT "+DOC_STORE+".winningseq AS seq, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq";e.executeSql(n,[],function(e,n){for(var i=[],r=[],a=0;a<n.rows.length;a++){var o=n.rows.item(a),E=o.seq,s=JSON.parse(o.metadata);utils.isDeleted(s)&&i.push(E),utils.isLocalId(s.id)&&r.push(s.id)}e.executeSql("UPDATE "+DOC_STORE+"SET local = 1 WHERE id IN ("+r.map(function(){return"?"}).join(",")+")",r,function(){e.executeSql("UPDATE "+BY_SEQ_STORE+" SET deleted = 1 WHERE seq IN ("+i.map(function(){return"?"}).join(",")+")",i,t)})})})})}function r(e,t){var n="CREATE TABLE IF NOT EXISTS "+LOCAL_STORE+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+DOC_STORE+".id AS id, "+BY_SEQ_STORE+".json AS data FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function i(){if(!r.length)return t();var n=r.shift(),a=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+LOCAL_STORE+" (id, rev, json) VALUES (?,?,?)",[n.id,a,n.data],function(e){e.executeSql("DELETE FROM "+DOC_STORE+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+BY_SEQ_STORE+" WHERE seq=?",[n.seq],function(){i()})})})}for(var r=[],a=0;a<n.rows.length;a++)r.push(n.rows.item(a));i()})})}function a(e,t){function n(n,i){function r(){if(!n.length)return t();var a=n.shift(),o=parseHexString(a.hex,i),E=o.lastIndexOf("::"),s=o.substring(0,E),u=o.substring(E+2),c="UPDATE "+BY_SEQ_STORE+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[s,u,o],function(){r()})}r()}var i="ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN doc_id";e.executeSql(i,[],function(e){var t="ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(BY_SEQ_STORE_DOC_ID_REV_INDEX_SQL,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+BY_SEQ_STORE;e.executeSql(t,[],function(e,t){for(var i=[],r=0;r<t.rows.length;r++)i.push(t.rows.item(r));e.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+META_STORE,[],function(e,t){var r=t.rows.item(0).dbid,a=t.rows.item(0).hexId,o=a.length===2*r.length?"UTF-8":"UTF-16";n(i,o)})})})})})}function o(e){for(;O.length>0;){var t=O.pop();t(null,_)}E(e)}function E(e){e.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+META_STORE,[],function(e,t){var n=t.rows.item(0).dbid,i=t.rows.item(0).hexId;S=i.length===2*n.length?"UTF-8":"UTF-16"})}function s(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+META_STORE+" (update_seq INTEGER, dbid, db_version INTEGER)",E="CREATE TABLE IF NOT EXISTS "+ATTACH_STORE+" (digest, json, body BLOB)",s="CREATE TABLE IF NOT EXISTS "+DOC_STORE+" (id unique, json, winningseq)",u="CREATE TABLE IF NOT EXISTS "+BY_SEQ_STORE+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",c="CREATE TABLE IF NOT EXISTS "+LOCAL_STORE+" (id UNIQUE, rev, json)";e.executeSql(E),e.executeSql(c),e.executeSql(s,[],function(){e.executeSql(DOC_STORE_WINNINGSEQ_INDEX_SQL),e.executeSql(u,[],function(){e.executeSql(BY_SEQ_STORE_DELETED_INDEX_SQL),e.executeSql(BY_SEQ_STORE_DOC_ID_REV_INDEX_SQL),e.executeSql(n,[],function(){var t="INSERT INTO "+META_STORE+" (update_seq, db_version, dbid) VALUES (?, ?, ?)";_=utils.uuid();var n=[0,ADAPTER_VERSION,_];e.executeSql(t,n,function(e){o(e)})})})})}else{var S=function(){var n=ADAPTER_VERSION>t;n&&e.executeSql("UPDATE "+META_STORE+" SET db_version = "+ADAPTER_VERSION);var i="SELECT dbid FROM "+META_STORE;e.executeSql(i,[],function(e,t){_=t.rows.item(0).dbid,o(e)})};switch(t){case 1:i(e,function(){r(e,function(){a(e,S)})});break;case 2:r(e,function(){a(e,S)});break;case 3:a(e,S);break;default:S()}}}function u(){R.transaction(function(e){e.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+META_STORE,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+META_STORE,[],function(e,t){var n=t.rows.item(0).db_version;s(e,n)}):e.executeSql("ALTER TABLE "+META_STORE+" ADD COLUMN db_version INTEGER",[],function(){s(e,1)}):s(e,0)})},unknownError(t),n)}function c(e,t){if(-1!==f)return t(f);var n=select("COUNT("+DOC_STORE+".id) AS 'num'",[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,BY_SEQ_STORE+".deleted=0");e.executeSql(n,[],function(e,n){f=n.rows.item(0).num,t(f)})}var S,l=this,_=null,d=e.name,T=getSize(e),O=[],f=-1,R=openDB(d,POUCH_VERSION,d,T);return R?("function"!=typeof R.readTransaction&&(R.readTransaction=R.transaction),utils.isCordova()&&"undefined"!=typeof global?global.addEventListener(d+"_pouch",function v(){global.removeEventListener(d+"_pouch",v,!1),u()},!1):u(),l.type=function(){return"websql"},l._id=utils.toPromise(function(e){e(null,_)}),l._info=function(e){R.readTransaction(function(t){c(t,function(n){var i="SELECT update_seq FROM "+META_STORE;t.executeSql(i,[],function(t,i){var r=i.rows.item(0).update_seq;e(null,{doc_count:n,update_seq:r})})})},unknownError(e))},l._bulkDocs=function(e,t,n){function i(){var e=D.map(function(e){if(e._bulk_seq)delete e._bulk_seq;else if(!Object.keys(e).length)return{ok:!0};if(e.error)return e;var t=e.metadata,n=merge.winningRev(t);return{ok:!0,id:t.id,rev:n}});WebSqlPouch.Changes.notify(d);var t="SELECT update_seq FROM "+META_STORE;g.executeSql(t,[],function(t,i){var r=i.rows.item(0).update_seq+C,a="UPDATE "+META_STORE+" SET update_seq=?";t.executeSql(a,[r],function(){n(null,e)})})}function r(e,t){if(e.stub)return t();if("string"==typeof e.data){try{e.data=atob(e.data)}catch(i){var r=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return n(r)}var a=utils.fixBinary(e.data);e.data=utils.createBlob([a],{type:e.content_type})}var o=new FileReader;o.onloadend=function(){var n=utils.arrayBufferToBinaryString(this.result);e.data=n,utils.MD5(n).then(function(n){e.digest="md5-"+n,t()})},o.readAsArrayBuffer(e.data)}function a(e){function t(){n++,O.length===n&&e()}if(!O.length)return e();var n=0;O.forEach(function(e){function n(){a++,a===i.length&&t()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return t();for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&r(e.data._attachments[o],n)})}function o(e,t,n,i,r){function a(){C++;var t=e.data,i=n?1:0,r=t._id,a=t._rev,o=stringifyDoc(t),E="INSERT INTO "+BY_SEQ_STORE+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",u=[r,a,o,i];g.executeSql(E,u,function(e,t){s(e,t.insertId)},function(){var e=select("seq",BY_SEQ_STORE,null,"doc_id=? AND rev=?");return g.executeSql(e,[r,a],function(e,t){var n=t.rows.item(0).seq,E="UPDATE "+BY_SEQ_STORE+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",u=[o,i,r,a];e.executeSql(E,u,function(e){C--,s(e,n)})}),!1})}function o(e){u||(e?(u=e,i(u)):c===l.length&&a())}function E(e){c++,o(e)}function s(n,a){e.metadata.seq=a,delete e.metadata.rev;var o=r?"UPDATE "+DOC_STORE+" SET json=?, winningseq=(SELECT seq FROM "+BY_SEQ_STORE+" WHERE doc_id="+DOC_STORE+".id AND rev=?) WHERE id=?":"INSERT INTO "+DOC_STORE+" (id, winningseq, json) VALUES (?, ?, ?);",E=JSON.stringify(e.metadata),s=e.metadata.id,u=r?[E,t,s]:[s,a,E];n.executeSql(o,u,function(){D.push(e),q.set(s,e.metadata),i()})}var u=null,c=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,n&&(e.data._deleted=!0);var l=e.data._attachments?Object.keys(e.data._attachments):[];for(var _ in e.data._attachments)if(e.data._attachments[_].stub)c++,o();else{var d=e.data._attachments[_].data;delete e.data._attachments[_].data;var T=e.data._attachments[_].digest;S(e,T,d,E)}l.length||a()}function E(e,t){var n=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),i=utils.isDeleted(t.metadata),r=utils.isDeleted(e),a=r&&i&&_||!r&&_&&"new_leaf"!==n.conflicts;if(a)return D.push(c(errors.REV_CONFLICT,t._bulk_seq)),u();t.metadata.rev_tree=n.tree;var E=merge.winningRev(t.metadata);i=utils.isDeleted(t.metadata,E),o(t,E,i,u,!0)}function s(e){var n=merge.winningRev(e.metadata),i=utils.isDeleted(e.metadata,n);return"was_delete"in t&&i?(D.push(errors.MISSING_DOC),u()):void o(e,n,i,u,!1)}function u(){if(++A===O.length)return i();var e=O[A];if(e._id&&utils.isLocalId(e._id))return void l[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:g},function(e){D.push(e?e:{}),u()});var t=e.metadata.id;return q.has(t)?E(q.get(t),e):void g.executeSql("SELECT json FROM "+DOC_STORE+" WHERE id = ?",[t],function(t,n){if(n.rows.length){var i=JSON.parse(n.rows.item(0).json);E(i,e)}else s(e)})}function c(e,t){return e._bulk_seq=t,e}function S(e,t,n,i){var r=[e.metadata.id,e.metadata.rev].join("@"),a={digest:t},o="SELECT digest, json FROM "+ATTACH_STORE+" WHERE digest=?";g.executeSql(o,[t],function(e,E){E.rows.length?(a.refs=JSON.parse(E.rows.item(0).json).refs,o="UPDATE "+ATTACH_STORE+" SET json=?, body=? WHERE digest=?",e.executeSql(o,[JSON.stringify(a),n,t],function(){i()})):(a.refs={},a.refs[r]=!0,o="INSERT INTO "+ATTACH_STORE+"(digest, json, body) VALUES (?, ?, ?)",e.executeSql(o,[t,JSON.stringify(a),n],function(){i()}))})}var _=t.new_edits,T=e.docs,O=T.map(function(e,t){if(e._id&&utils.isLocalId(e._id))return e;var n=utils.parseDoc(e,_);return n._bulk_seq=t,n}),v=O.filter(function(e){return e.error});if(v.length)return n(v[0]);var g,D=[],C=0,q=new utils.Map,A=-1;a(function(){R.transaction(function(e){g=e,u()},unknownError(n),function(){f=-1})})},l._get=function(e,t,n){function i(){n(o,{doc:r,metadata:a,ctx:u})}t=utils.clone(t);var r,a,o;if(!t.ctx)return void R.readTransaction(function(i){t.ctx=i,l._get(e,t,n)});var E,s,u=t.ctx;t.rev?(E=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE+".id="+BY_SEQ_STORE+".doc_id",[BY_SEQ_STORE+".doc_id=?",BY_SEQ_STORE+".rev=?"]),s=[e,t.rev]):(E=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,DOC_STORE+".id=?"),s=[e]),u.executeSql(E,s,function(e,n){if(!n.rows.length)return o=errors.MISSING_DOC,i();var E=n.rows.item(0);return a=JSON.parse(E.metadata),E.deleted&&!t.rev?(o=errors.error(errors.MISSING_DOC,"deleted"),i()):(r=unstringifyDoc(E.data,a.id,E.rev),void i())})},l._allDocs=function(e,t){var n,i=[],r="startkey"in e?e.startkey:!1,a="endkey"in e?e.endkey:!1,o="key"in e?e.key:!1,E="descending"in e?e.descending:!1,s="limit"in e?e.limit:-1,u="skip"in e?e.skip:0,S=e.inclusive_end!==!1,l=[],_=[];if(o!==!1)_.push(DOC_STORE+".id = ?"),l.push(o);else if(r!==!1||a!==!1){if(r!==!1&&(_.push(DOC_STORE+".id "+(E?"<=":">=")+" ?"),l.push(r)),a!==!1){var d=E?">":"<";S&&(d+="="),_.push(DOC_STORE+".id "+d+" ?"),l.push(a)}o!==!1&&(_.push(DOC_STORE+".id = ?"),l.push(o))}"ok"!==e.deleted&&_.push(BY_SEQ_STORE+".deleted = 0"),R.readTransaction(function(t){c(t,function(r){if(n=r,0!==s){var a=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,_,DOC_STORE+".id "+(E?"DESC":"ASC"));a+=" LIMIT "+s+" OFFSET "+u,t.executeSql(a,l,function(t,n){for(var r=0,a=n.rows.length;a>r;r++){var o=n.rows.item(r),E=JSON.parse(o.metadata),s=unstringifyDoc(o.data,E.id,o.rev),u=s._rev,c={id:E.id,key:E.id,value:{rev:u}};if(e.include_docs){c.doc=s,c.doc._rev=u,e.conflicts&&(c.doc._conflicts=merge.collectConflicts(E));for(var S in c.doc._attachments)c.doc._attachments.hasOwnProperty(S)&&(c.doc._attachments[S].stub=!0)}if(o.deleted){if("ok"!==e.deleted)continue;c.value.deleted=!0,c.doc=null}i.push(c)}})}})},unknownError(t),function(){t(null,{total_rows:n,offset:e.skip,rows:i})})},l._changes=function(e){function t(){var t=[DOC_STORE+".winningseq > "+e.since],n=[];e.doc_ids&&(t.push(DOC_STORE+".id IN ("+e.doc_ids.map(function(){return"?"}).join(",")+")"),n=e.doc_ids);var s=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,t,DOC_STORE+".winningseq "+(i?"DESC":"ASC")),u=utils.filterChange(e);e.view||e.filter||(s+=" LIMIT "+r),R.readTransaction(function(t){t.executeSql(s,n,function(t,n){for(var i=0,s=0,c=n.rows.length;c>s;s++){var S=n.rows.item(s),l=JSON.parse(S.metadata);i<S.seq&&(i=S.seq);var _=unstringifyDoc(S.data,l.id,S.rev),d=e.processChange(_,l,e);if(d.seq=S.seq,u(d)&&(E++,a&&o.push(d),e.onChange(d)),E===r)break}e.continuous||e.complete(null,{results:o,last_seq:i})})})}if(e=utils.clone(e),e.continuous){var n=d+":"+utils.uuid();return WebSqlPouch.Changes.addListener(d,n,l,e),WebSqlPouch.Changes.notify(d),{cancel:function(){WebSqlPouch.Changes.removeListener(d,n)}}}var i=e.descending;e.since=e.since&&!i?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var a;a="returnDocs"in e?e.returnDocs:!0;var o=[],E=0;t()},l._close=function(e){e()},l._getAttachment=function(e,t,n){var i,r=t.ctx,a=e.digest,o=e.content_type,E="SELECT hex(body) as body FROM "+ATTACH_STORE+" WHERE digest=?";r.executeSql(E,[a],function(e,r){var a=parseHexString(r.rows.item(0).body,S);t.encode?i=btoa(a):(a=utils.fixBinary(a),i=utils.createBlob([a],{type:o})),n(null,i)})},l._getRevisionTree=function(e,t){R.readTransaction(function(n){var i="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";n.executeSql(i,[e],function(e,n){if(n.rows.length){var i=JSON.parse(n.rows.item(0).metadata);t(null,i.rev_tree)}else t(errors.MISSING_DOC)})})},l._doCompaction=function(e,t,n,i){return n.length?void R.transaction(function(r){var a="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";r.executeSql(a,[e],function(r,a){if(!a.rows.length)return utils.call(i);var o=JSON.parse(a.rows.item(0).metadata);o.rev_tree=t;var E=0;n.forEach(function(t){var a="DELETE FROM "+BY_SEQ_STORE+" WHERE doc_id=? AND rev=?";r.executeSql(a,[e,t],function(t){if(++E===n.length){var r="UPDATE "+DOC_STORE+" SET json = ? WHERE id = ?";t.executeSql(r,[JSON.stringify(o),e],function(){i()})}})})})}):i()},l._getLocal=function(e,t){R.readTransaction(function(n){var i="SELECT json, rev FROM "+LOCAL_STORE+" WHERE id=?";n.executeSql(i,[e],function(n,i){if(i.rows.length){var r=i.rows.item(0),a=unstringifyDoc(r.json,e,r.rev);t(null,a)}else t(errors.MISSING_DOC)})})},l._putLocal=function(e,t,n){function i(e){var i,u;a?(i="UPDATE "+LOCAL_STORE+" SET rev=?, json=? WHERE id=? AND rev=?",u=[r,s,o,a]):(i="INSERT INTO "+LOCAL_STORE+" (id, rev, json) VALUES (?,?,?)",u=[o,r,s]),e.executeSql(i,u,function(e,i){i.rowsAffected?(E={ok:!0,id:o,rev:r},t.ctx&&n(null,E)):n(errors.REV_CONFLICT)},function(){return n(errors.REV_CONFLICT),!1})}"function"==typeof t&&(n=t,t={});var r,a=e._rev,o=e._id;r=e._rev=a?"0-"+(parseInt(a.split("-")[1],10)+1):"0-0";var E,s=stringifyDoc(e);t.ctx?i(t.ctx):R.transaction(function(e){i(e)},unknownError(n),function(){E&&n(null,E)})},void(l._removeLocal=function(e,t){var n;R.transaction(function(i){var r="DELETE FROM "+LOCAL_STORE+" WHERE id=? AND rev=?",a=[e._id,e._rev];i.executeSql(r,a,function(i,r){return r.rowsAffected?void(n={ok:!0,id:e._id,rev:"0-0"}):t(errors.REV_CONFLICT)})},unknownError(t),function(){t(null,n)})})):t(errors.UNKNOWN_ERROR)}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors"),cachedDatabases={},openDB=utils.getArguments(function(e){if("undefined"!=typeof global){if(global.navigator&&global.navigator.sqlitePlugin&&global.navigator.sqlitePlugin.openDatabase)return navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,e);if(global.sqlitePlugin&&global.sqlitePlugin.openDatabase)return global.sqlitePlugin.openDatabase.apply(global.sqlitePlugin,e);var t=cachedDatabases[e[0]];return t||(t=cachedDatabases[e[0]]=global.openDatabase.apply(global,e)),t}}),POUCH_VERSION=1,ADAPTER_VERSION=4,DOC_STORE=quote("document-store"),BY_SEQ_STORE=quote("by-sequence"),ATTACH_STORE=quote("attach-store"),LOCAL_STORE=quote("local-store"),META_STORE=quote("metadata-store"),BY_SEQ_STORE_DELETED_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+BY_SEQ_STORE+" (seq, deleted)",BY_SEQ_STORE_DOC_ID_REV_INDEX_SQL="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+BY_SEQ_STORE+" (doc_id, rev)",DOC_STORE_WINNINGSEQ_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+DOC_STORE+" (winningseq)",DOC_STORE_AND_BY_SEQ_JOINER=BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq",SELECT_DOCS=BY_SEQ_STORE+".seq AS seq, "+BY_SEQ_STORE+".deleted AS deleted, "+BY_SEQ_STORE+".json AS data, "+BY_SEQ_STORE+".rev AS rev, "+DOC_STORE+".json AS metadata";WebSqlPouch.valid=function(){if("undefined"!=typeof global){if(global.navigator&&global.navigator.sqlitePlugin&&global.navigator.sqlitePlugin.openDatabase)return!0;if(global.sqlitePlugin&&global.sqlitePlugin.openDatabase)return!0;if(global.openDatabase)return!0}return!1},WebSqlPouch.destroy=utils.toPromise(function(e,t,n){WebSqlPouch.Changes.removeAllListeners(e);var i=getSize(t),r=openDB(e,POUCH_VERSION,e,i);r.transaction(function(e){var t=[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE,META_STORE,LOCAL_STORE];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},unknownError(n),function(){utils.hasLocalStorage()&&(delete global.localStorage["_pouch__websqldb_"+e],delete global.localStorage[e]),n(null,{ok:!0})})}),WebSqlPouch.Changes=new utils.Changes,module.exports=WebSqlPouch;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../deps/errors":34,"../merge":42,"../utils":47}],29:[function(require,module,exports){
"use strict";function Changes(e,t,n){function i(){s.cancel()}EE.call(this);var s=this;this.db=e,t=t?utils.clone(t):{};var r=n||t.complete||function(){},o=t.complete=utils.once(function(t,n){t?s.emit("error",t):s.emit("complete",n),s.removeAllListeners(),e.removeListener("destroyed",i)});r&&(s.on("complete",function(e){r(null,e)}),s.on("error",function(e){r(e)}));var l=t.onChange;l&&s.on("change",l),e.once("destroyed",i),t.onChange=function(e){t.isCancelled||(s.emit("change",e),s.startSeq&&s.startSeq<=e.seq&&(s.emit("uptodate"),s.startSeq=!1),e.deleted?s.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,2)?s.emit("create",e):s.emit("update",e))};var c=new utils.Promise(function(e,n){t.complete=function(t,i){t?n(t):e(i)}});s.once("cancel",function(){l&&s.removeListener("change",l),t.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this["catch"]=c["catch"].bind(c),this.then(function(e){o(null,e)},o),e.taskqueue.isReady?s.doChanges(t):e.taskqueue.addTask(function(){s.isCancelled?s.emit("cancel"):s.doChanges(t)})}function processChange(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=merge.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var s={id:t.id,changes:i,doc:e};return utils.isDeleted(t,e._rev)&&(s.deleted=!0),n.conflicts&&(s.doc._conflicts=merge.collectConflicts(t),s.doc._conflicts.length||delete s.doc._conflicts),s}var utils=require("./utils"),merge=require("./merge"),errors=require("./deps/errors"),EE=require("events").EventEmitter,evalFilter=require("./evalFilter"),evalView=require("./evalView");module.exports=Changes,utils.inherits(Changes,EE),Changes.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Changes.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=utils.clone(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=processChange,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(i){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=i.update_seq-1,void t.doChanges(e))},n);if(e.continuous&&"now"!==e.since&&this.db.info().then(function(e){t.startSeq=e.update_seq-1},function(e){if("idbNull"!==e.id)throw e}),"http"!==this.db.type()&&e.filter&&"string"==typeof e.filter)return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var s=t.cancel;t.cancel=utils.getArguments(function(e){i.cancel(),s.apply(this,e)})}},Changes.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var i=new Error("`view` filter parameter is not provided.");return i.status=errors.BAD_REQUEST.status,i.name=errors.BAD_REQUEST.name,i.error=!0,void n(i)}var s=e.view.split("/");this.db.get("_design/"+s[0],function(i,r){if(t.isCancelled)return void n(null,{status:"cancelled"});if(i)return void n(i);if(r&&r.views&&r.views[s[1]]){var o=evalView(r.views[s[1]].map);return e.filter=o,void t.doChanges(e)}var l=r.views?"missing json key: "+s[1]:"missing json key: views";i||(i=new Error(l),i.status=errors.MISSING_DOC.status,i.name=errors.MISSING_DOC.name,i.error=!0),n(i)})}else{var r=e.filter.split("/");this.db.get("_design/"+r[0],function(i,s){if(t.isCancelled)return void n(null,{status:"cancelled"});if(i)return void n(i);if(s&&s.filters&&s.filters[r[1]]){var o=evalFilter(s.filters[r[1]]);return e.filter=o,void t.doChanges(e)}var l=s&&s.filters?"missing json key: "+r[1]:"missing json key: filters";return i||(i=new Error(l),i.status=errors.MISSING_DOC.status,i.name=errors.MISSING_DOC.name,i.error=!0),void n(i)})}};
},{"./deps/errors":34,"./evalFilter":38,"./evalView":39,"./merge":42,"./utils":47,"events":4}],30:[function(require,module,exports){
(function (global){
"use strict";function defaultCallback(e){e&&global.debug&&console.error(e)}function PouchDB(e,t,r){if(!(this instanceof PouchDB))return new PouchDB(e,t,r);var a=this;("function"==typeof t||"undefined"==typeof t)&&(r=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),"undefined"==typeof r&&(r=defaultCallback),t=t||{};var o=r;a.auto_compaction=t.auto_compaction,a.prefix=PouchDB.prefix,Adapter.call(a),a.taskqueue=new TaskQueue;var n=new Promise(function(o,n){r=function(e,t){return e?n(e):(delete t.then,void o(t))},t=utils.clone(t);var i,u,c=t.name||e;return function(){try{if("string"!=typeof c)throw u=new Error("Missing/invalid DB name"),u.code=400,u;if(i=PouchDB.parseAdapter(c,t),t.originalName=c,t.name=i.name,t.prefix&&"http"!==i.adapter&&"https"!==i.adapter&&(t.name=t.prefix+t.name),t.adapter=t.adapter||i.adapter,a._adapter=t.adapter,a._db_name=c,!PouchDB.adapters[t.adapter])throw u=new Error("Adapter is missing"),u.code=404,u;if(!PouchDB.adapters[t.adapter].valid())throw u=new Error("Invalid Adapter"),u.code=404,u}catch(e){a.taskqueue.fail(e),a.changes=utils.toPromise(function(t){t.complete&&t.complete(e)})}}(),u?n(u):(a.adapter=t.adapter,a.replicate={},a.replicate.from=function(e,t,r){return a.constructor.replicate(e,a,t,r)},a.replicate.to=function(e,t,r){return a.constructor.replicate(a,e,t,r)},a.sync=function(e,t,r){return a.constructor.sync(a,e,t,r)},a.replicate.sync=a.sync,a.destroy=utils.adapterFun("destroy",function(e){var t=this;t.info(function(r,a){return r?e(r):void t.constructor.destroy(a.db_name,e)})}),PouchDB.adapters[t.adapter].call(a,t,function(e){function o(e){"destroyed"===e&&(a.emit("destroyed"),PouchDB.removeListener(c,o))}return e?void(r&&(a.taskqueue.fail(e),r(e))):(PouchDB.on(c,o),a.emit("created",a),PouchDB.emit("created",t.originalName),a.taskqueue.ready(a),void r(null,a))}),t.skipSetup&&a.taskqueue.ready(a),void(utils.isCordova()&&cordova.fireWindowEvent(t.name+"_pouch",{})))});n.then(function(e){o(null,e)},o),a.then=n.then.bind(n),a["catch"]=n["catch"].bind(n)}var Adapter=require("./adapter"),utils=require("./utils"),TaskQueue=require("./taskqueue"),Promise=utils.Promise;utils.inherits(PouchDB,Adapter),module.exports=PouchDB;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./adapter":24,"./taskqueue":46,"./utils":47}],31:[function(require,module,exports){
"use strict";function ajax(e,r){function t(r,t,s){if(e.binary||e.json||!e.processData||"string"==typeof r){if(!e.binary&&e.json&&"string"==typeof r)try{r=JSON.parse(r)}catch(o){return s(o)}}else r=JSON.stringify(r);Array.isArray(r)&&(r=r.map(function(e){var r;return e.ok?e:e.error&&"conflict"===e.error?(r=errors.REV_CONFLICT,r.id=e.id,r):e.error&&"forbidden"===e.error?(r=errors.FORBIDDEN,r.id=e.id,r.reason=e.reason,r):e.missing?(r=errors.MISSING_DOC,r.missing=e.missing,r):e})),s(null,r,t)}function s(e,r){var t,s,o,a;try{t=JSON.parse(e.responseText);for(a in errors)if(errors.hasOwnProperty(a)&&errors[a].name===t.error){o=errors[a];break}o||(o=errors.UNKNOWN_ERROR,e.status&&(o.status=e.status),e.statusText&&(e.name=e.statusText)),s=errors.error(o,t.reason)}catch(n){for(var a in errors)if(errors.hasOwnProperty(a)&&errors[a].status===e.status){o=errors[a];break}o||(o=errors.UNKNOWN_ERROR,e.status&&(o.status=e.status),e.statusText&&(e.name=e.statusText)),s=errors.error(o)}e.withCredentials&&0===e.status&&(s.status=405,s.statusText="Method Not Allowed"),r(s)}var o=!1,a=utils.getArguments(function(e){o||(r.apply(this,e),o=!0)});"function"==typeof e&&(a=e,e={}),e=utils.clone(e);var n={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};if(e=utils.extend(!0,n,e),"GET"===e.method&&!e.cache){var i=-1!==e.url.indexOf("?");e.url+=(i?"&":"?")+"_nonce="+utils.uuid(16)}var u,d;d=e.xhr?new e.xhr:new XMLHttpRequest,d.open(e.method,e.url),d.withCredentials=!0,e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(d.responseType="arraybuffer");var p=function(e,r,t){var s="";if(t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3),s="; expires="+o.toGMTString()}document.cookie=e+"="+r+s+"; path=/"};for(var f in e.headers)if("Cookie"===f){var l=e.headers[f].split("=");p(l[0],l[1],10)}else d.setRequestHeader(f,e.headers[f]);"body"in e||(e.body=null);var y=function(){o||(d.abort(),s(d,a))};if(d.onreadystatechange=function(){if(4===d.readyState&&!o)if(clearTimeout(u),d.status>=200&&d.status<300){var r;r=e.binary?createBlob([d.response||""],{type:d.getResponseHeader("Content-Type")}):d.responseText,t(r,d,a)}else s(d,a)},e.timeout>0&&(u=setTimeout(y,e.timeout),d.onprogress=function(){clearTimeout(u),u=setTimeout(y,e.timeout)},"undefined"==typeof hasUpload&&(hasUpload=-1!==Object.keys(d).indexOf("upload")),hasUpload&&(d.upload.onprogress=d.onprogress)),e.body&&e.body instanceof Blob){var c=new FileReader;c.onloadend=function(){for(var e="",r=new Uint8Array(this.result),t=r.byteLength,s=0;t>s;s++)e+=String.fromCharCode(r[s]);e=utils.fixBinary(e),d.send(e)},c.readAsArrayBuffer(e.body)}else d.send(e.body);return{abort:y}}var createBlob=require("./blob.js"),errors=require("./errors"),utils=require("../utils"),hasUpload;module.exports=ajax;
},{"../utils":47,"./blob.js":32,"./errors":34}],32:[function(require,module,exports){
(function (global){
"use strict";function createBlob(e,l){e=e||[],l=l||{};try{return new Blob(e,l)}catch(o){if("TypeError"!==o.name)throw o;for(var r=global.BlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder,t=new r,b=0;b<e.length;b+=1)t.append(e[b]);return t.getBlob(l.type)}}module.exports=createBlob;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],33:[function(require,module,exports){
"use strict";function LazyMap(){this.store={}}function LazySet(){this.store=new LazyMap}exports.Map=LazyMap,exports.Set=LazySet,LazyMap.prototype.mangle=function(t){if("string"!=typeof t)throw new TypeError("key must be a string but Got "+t);return"$"+t},LazyMap.prototype.unmangle=function(t){return t.substring(1)},LazyMap.prototype.get=function(t){var e=this.mangle(t);return e in this.store?this.store[e]:void 0},LazyMap.prototype.set=function(t,e){var r=this.mangle(t);return this.store[r]=e,!0},LazyMap.prototype.has=function(t){var e=this.mangle(t);return e in this.store},LazyMap.prototype["delete"]=function(t){var e=this.mangle(t);return e in this.store?(delete this.store[e],!0):!1},LazyMap.prototype.forEach=function(t){var e=this,r=Object.keys(e.store);r.forEach(function(r){var o=e.store[r];r=e.unmangle(r),t(o,r)})},LazySet.prototype.add=function(t){return this.store.set(t,!0)},LazySet.prototype.has=function(t){return this.store.has(t)},LazySet.prototype["delete"]=function(t){return this.store["delete"](t)};
},{}],34:[function(require,module,exports){
"use strict";function PouchError(r){this.status=r.status,this.name=r.error,this.message=r.reason,this.error=!0}PouchError.prototype__proto__=Error.prototype,PouchError.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},exports.UNAUTHORIZED=new PouchError({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),exports.MISSING_BULK_DOCS=new PouchError({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),exports.MISSING_DOC=new PouchError({status:404,error:"not_found",reason:"missing"}),exports.REV_CONFLICT=new PouchError({status:409,error:"conflict",reason:"Document update conflict"}),exports.INVALID_ID=new PouchError({status:400,error:"invalid_id",reason:"_id field must contain a string"}),exports.MISSING_ID=new PouchError({status:412,error:"missing_id",reason:"_id is required for puts"}),exports.RESERVED_ID=new PouchError({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),exports.NOT_OPEN=new PouchError({status:412,error:"precondition_failed",reason:"Database not open"}),exports.UNKNOWN_ERROR=new PouchError({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),exports.BAD_ARG=new PouchError({status:500,error:"badarg",reason:"Some query argument is invalid"}),exports.INVALID_REQUEST=new PouchError({status:400,error:"invalid_request",reason:"Request was invalid"}),exports.QUERY_PARSE_ERROR=new PouchError({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),exports.DOC_VALIDATION=new PouchError({status:500,error:"doc_validation",reason:"Bad special document member"}),exports.BAD_REQUEST=new PouchError({status:400,error:"bad_request",reason:"Something wrong with the request"}),exports.NOT_AN_OBJECT=new PouchError({status:400,error:"bad_request",reason:"Document must be a JSON object"}),exports.DB_MISSING=new PouchError({status:404,error:"not_found",reason:"Database not found"}),exports.IDB_ERROR=new PouchError({status:500,error:"indexed_db_went_bad",reason:"unknown"}),exports.WSQ_ERROR=new PouchError({status:500,error:"web_sql_went_bad",reason:"unknown"}),exports.LDB_ERROR=new PouchError({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),exports.FORBIDDEN=new PouchError({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),exports.error=function(r,e,o){function s(){this.message=e,o&&(this.name=o)}return s.prototype=r,new s(e)};
},{}],35:[function(require,module,exports){
(function (process,global){
"use strict";function sliceShim(e,t,r){if("function"==typeof e.slice)return e.slice(t,r);t=Math.floor(t||0),r=Math.floor(r||0);var i=e.byteLength;if(t=0>t?Math.max(t+i,0):Math.min(i,t),r=0>r?Math.max(r+i,0):Math.min(i,r),0>=r-t)return new ArrayBuffer(0);var a=new ArrayBuffer(r-t),n=new Uint8Array(a),s=new Uint8Array(e,t,r-t);return n.set(s),a}var crypto=require("crypto"),Md5=require("spark-md5"),setImmediateShim=global.setImmediate||global.setTimeout;module.exports=function(e,t){function r(){var o=n*i,m=o+i;o+i>=e.size&&(m=e.size),n++,a>n?(s.append(sliceShim(e,o,m)),setImmediateShim(r)):(s.append(sliceShim(e,o,m)),t(null,s.end()),s.destroy())}if(!process.browser)return void t(null,crypto.createHash("md5").update(e).digest("hex"));var i=Math.min(524288,e.length),a=Math.ceil(e.length/i),n=0,s=new Md5;r()};
}).call(this,require("FWaASH"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"FWaASH":5,"crypto":3,"spark-md5":77}],36:[function(require,module,exports){
"use strict";function upsert(t,r,n){return new Promise(function(e,u){return r&&"object"==typeof r&&(r=r._id),"string"!=typeof r?u(new Error("doc id is required")):void t.get(r,function(i,o){if(i)return"not_found"!==i.name?u(i):e(tryAndPut(t,n({_id:r}),n));var c=n(o);return c?void e(tryAndPut(t,c,n)):e(o)})})}function tryAndPut(t,r,n){return t.put(r)["catch"](function(e){if("conflict"!==e.name)throw e;return upsert(t,r,n)})}var Promise=require("../utils").Promise;module.exports=function(t,r,n,e){return"function"!=typeof e?upsert(t,r,n):void upsert(t,r,n).then(function(t){e(null,t)},e)};
},{"../utils":47}],37:[function(require,module,exports){
"use strict";function getValue(e){return 0|Math.random()*e}function uuid(e,a){a=a||chars.length;var r="",t=-1;if(e){for(;++t<e;)r+=chars[getValue(a)];return r}for(;++t<36;)switch(t){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=chars[3&getValue(16)|8];break;default:r+=chars[getValue(16)]}return r}var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");module.exports=uuid;
},{}],38:[function(require,module,exports){
"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter;
},{}],39:[function(require,module,exports){
"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView;
},{}],"S6KqvD":[function(require,module,exports){
(function (process){
"use strict";var PouchDB=require("./setup");module.exports=PouchDB,PouchDB.ajax=require("./deps/ajax"),PouchDB.extend=require("pouchdb-extend"),PouchDB.utils=require("./utils"),PouchDB.Errors=require("./deps/errors"),PouchDB.replicate=require("./replicate").replicate,PouchDB.sync=require("./sync"),PouchDB.version=require("./version");var httpAdapter=require("./adapters/http");if(PouchDB.adapter("http",httpAdapter),PouchDB.adapter("https",httpAdapter),PouchDB.adapter("idb",require("./adapters/idb")),PouchDB.adapter("websql",require("./adapters/websql")),PouchDB.plugin(require("pouchdb-mapreduce")),!process.browser){var ldbAdapter=require("./adapters/leveldb");PouchDB.adapter("ldb",ldbAdapter),PouchDB.adapter("leveldb",ldbAdapter)}
}).call(this,require("FWaASH"))
},{"./adapters/http":25,"./adapters/idb":26,"./adapters/leveldb":3,"./adapters/websql":28,"./deps/ajax":31,"./deps/errors":34,"./replicate":43,"./setup":44,"./sync":45,"./utils":47,"./version":48,"FWaASH":5,"pouchdb-extend":68,"pouchdb-mapreduce":71}],"pouchdb":[function(require,module,exports){
module.exports=require('S6KqvD');
},{}],42:[function(require,module,exports){
"use strict";function pathToTree(e){for(var r,t=e.shift(),s=[t.id,t.opts,[]],o=s;e.length;)t=e.shift(),r=[t.id,t.opts,[]],o[2].push(r),o=r;return s}function mergeTree(e,r){for(var t=[{tree1:e,tree2:r}],s=!1;t.length>0;){var o=t.pop(),n=o.tree1,i=o.tree2;(n[1].status||i[1].status)&&(n[1].status="available"===n[1].status||"available"===i[1].status?"available":"missing");for(var u=0;u<i[2].length;u++)if(n[2][0]){for(var c=!1,p=0;p<n[2].length;p++)n[2][p][0]===i[2][u][0]&&(t.push({tree1:n[2][p],tree2:i[2][u]}),c=!0);c||(s="new_branch",n[2].push(i[2][u]),n[2].sort())}else s="new_leaf",n[2][0]=i[2][u]}return{conflicts:s,tree:e}}function doMerge(e,r,t){var s,o=[],n=!1,i=!1;return e.length?(e.forEach(function(e){if(e.pos===r.pos&&e.ids[0]===r.ids[0])s=mergeTree(e.ids,r.ids),o.push({pos:e.pos,ids:s.tree}),n=n||s.conflicts,i=!0;else if(t!==!0){var u=e.pos<r.pos?e:r,c=e.pos<r.pos?r:e,p=c.pos-u.pos,d=[],f=[];for(f.push({ids:u.ids,diff:p,parent:null,parentIdx:null});f.length>0;){var a=f.pop();0!==a.diff?a.ids&&a.ids[2].forEach(function(e,r){f.push({ids:e,diff:a.diff-1,parent:a.ids,parentIdx:r})}):a.ids[0]===c.ids[0]&&d.push(a)}var l=d[0];l?(s=mergeTree(l.ids,c.ids),l.parent[2][l.parentIdx]=s.tree,o.push({pos:u.pos,ids:u.ids}),n=n||s.conflicts,i=!0):o.push(e)}else o.push(e)}),i||o.push(r),o.sort(function(e,r){return e.pos-r.pos}),{tree:o,conflicts:n||"internal_node"}):{tree:[r],conflicts:"new_leaf"}}function stem(e,r){var t=PouchMerge.rootToLeaf(e).map(function(e){var t=e.ids.slice(-r);return{pos:e.pos+(e.ids.length-t.length),ids:pathToTree(t)}});return t.reduce(function(e,r){return doMerge(e,r,!0).tree},[t.shift()])}var extend=require("pouchdb-extend"),PouchMerge={};PouchMerge.merge=function(e,r,t){e=extend(!0,[],e),r=extend(!0,{},r);var s=doMerge(e,r);return{tree:stem(s.tree,t),conflicts:s.conflicts}},PouchMerge.winningRev=function(e){var r=[];return PouchMerge.traverseRevTree(e.rev_tree,function(e,t,s,o,n){e&&r.push({pos:t,id:s,deleted:!!n.deleted})}),r.sort(function(e,r){return e.deleted!==r.deleted?e.deleted>r.deleted?1:-1:e.pos!==r.pos?r.pos-e.pos:e.id<r.id?1:-1}),r[0].pos+"-"+r[0].id},PouchMerge.traverseRevTree=function(e,r){for(var t,s=e.slice();t=s.pop();)for(var o=t.pos,n=t.ids,i=n[2],u=r(0===i.length,o,n[0],t.ctx,n[1]),c=0,p=i.length;p>c;c++)s.push({pos:o+1,ids:i[c],ctx:u})},PouchMerge.collectLeaves=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){e&&r.unshift({rev:t+"-"+s,pos:t,opts:n})}),r.sort(function(e,r){return r.pos-e.pos}),r.map(function(e){delete e.pos}),r},PouchMerge.collectConflicts=function(e){var r=PouchMerge.winningRev(e),t=PouchMerge.collectLeaves(e.rev_tree),s=[];return t.forEach(function(e){e.rev===r||e.opts.deleted||s.push(e.rev)}),s},PouchMerge.rootToLeaf=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){if(o=o?o.slice(0):[],o.push({id:s,opts:n}),e){var i=t+1-o.length;r.unshift({pos:i,ids:o})}return o}),r},module.exports=PouchMerge;
},{"pouchdb-extend":68}],43:[function(require,module,exports){
"use strict";function Replication(){EE.call(this),this.cancelled=!1;var e=this,t=new utils.Promise(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e["catch"]=function(e){return t["catch"](e)},e["catch"](function(){})}function genReplicationId(e,t,n){var r=n.filter?n.filter.toString():"";return e.id().then(function(e){return t.id().then(function(t){var o=e+t+r+JSON.stringify(n.query_params)+n.doc_ids;return utils.MD5(o).then(function(e){return"_local/"+e})})})}function updateCheckpoint(e,t,n){return e.get(t)["catch"](function(e){if(404===e.status)return{_id:t};throw e}).then(function(t){return t.last_seq=n,e.put(t)})}function Checkpointer(e,t,n){this.src=e,this.target=t,this.id=n}function replicate(e,t,n,r,o){function c(){if(0!==k.docs.length){var e=k.docs;return n.bulkDocs({docs:e},{new_edits:!1}).then(function(e){if(o.cancelled)throw p(),new Error("cancelled");var t=[];if(e.forEach(function(e){e.ok||(W.doc_write_failures++,t.push(new Error(e.reason||e.message||"Unknown reason")))}),t.length>0){var n=new Error("bulkDocs error");throw n.other_errors=t,d("target.bulkDocs failed to write docs",n),new Error("bulkWrite partial failure")}},function(t){throw W.doc_write_failures+=e.length,t})}}function i(){var e=Object.keys(k.diffs);if(!e.length)return utils.Promise.resolve();var t=new utils.Map;return k.changes.forEach(function(e){t.set(e.id,e.doc)}),utils.Promise.all(e.map(function(e){return s(e,t.get(e))})).then(function(e){e.forEach(function(e){e.forEach(u)})})}function s(e,n){if(n._deleted)return[{ok:n}];var r=k.diffs,o=r[e].missing,c=n._attachments,i=o.length>1||o[0]!==n._rev;return c||i?t.get(e,{revs:!0,open_revs:"all",attachments:!0}).then(function(e){var t={};return o.forEach(function(e){t[e]=!0}),e.filter(function(e){var n=e.ok?e.ok._rev:e.missing;return t[n]})}):[{ok:n}]}function u(e){var t=k.diffs;return o.cancelled?p():void(e.ok&&(W.docs_read++,k.pendingRevs++,k.docs.push(e.ok),delete t[e.ok._id]))}function a(){return C=!0,M.writeCheckpoint(k.seq).then(function(){if(C=!1,o.cancelled)throw p(),new Error("cancelled");W.last_seq=P=k.seq,W.docs_written+=k.docs.length,o.emit("change",utils.clone(W)),k=void 0,m()})["catch"](function(e){throw C=!1,d("writeCheckpoint completed with error",e),e})}function l(){var e={};return k.changes.forEach(function(t){e[t.id]=t.changes.map(function(e){return e.rev})}),n.revsDiff(e).then(function(e){if(o.cancelled)throw p(),new Error("cancelled");k.diffs=e,k.pendingRevs=0})}function h(){if(!o.cancelled&&!k){if(0===y.length)return void f(!0);k=y.shift(),l().then(i).then(c).then(a).then(h)["catch"](function(e){d("batch processing terminated with error",e)})}}function f(e){return 0===q.changes.length?void(0!==y.length||k||((R&&x.live||E)&&o.emit("uptodate",utils.clone(W)),E&&p())):void((e||E||q.changes.length>=D)&&(y.push(q),q={seq:0,changes:[],docs:[]},h()))}function d(e,t){b||(W.ok=!1,W.status="aborted",W.errors.push(t),y=[],q={seq:0,changes:[],docs:[]},p())}function p(){if(!(b||o.cancelled&&(W.status="cancelled",C))){if(W.status=W.status||"complete",W.end_time=new Date,W.last_seq=P,b=o.cancelled=!0,W.errors.length>0){var e=W.errors.pop();W.errors.length>0&&(e.other_errors=W.errors),e.result=W,o.emit("error",e)}else o.emit("complete",W);o.removeAllListeners()}}function g(e){return o.cancelled?p():(j++,0!==q.changes.length||0!==y.length||k||o.emit("outofdate",utils.clone(W)),q.seq=e.seq,q.changes.push(e),void f(0===y.length))}function v(e){return O=!1,o.cancelled?p():(j>0?(x.since=e.last_seq,m()):R?(x.live=!0,m()):E=!0,void f(!0))}function _(e){return O=!1,o.cancelled?p():void d("changes rejected",e)}function m(){!O&&!E&&y.length<S&&(O=!0,j=0,t.changes(x).on("change",g).then(v)["catch"](_))}function w(){M.getCheckpoint().then(function(e){P=e,x={since:P,limit:D,batch_size:D,style:"all_docs",doc_ids:L,returnDocs:!1,include_docs:!0},r.filter&&(x.filter=r.filter),r.query_params&&(x.query_params=r.query_params),m()})["catch"](function(e){d("getCheckpoint rejected with ",e)})}var k,y=[],q={seq:0,changes:[],docs:[]},C=!1,E=!1,b=!1,P=0,R=r.continuous||r.live||!1,D=r.batch_size||100,S=r.batches_limit||10,O=!1,j=0,L=r.doc_ids,M=new Checkpointer(t,n,e),W={ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]},x={};o.ready(t,n),o.once("cancel",p),"function"==typeof r.onChange&&o.on("change",r.onChange),"function"==typeof r.complete&&(o.once("error",r.complete),o.once("complete",function(e){r.complete(null,e)})),"undefined"==typeof r.since?w():(C=!0,M.writeCheckpoint(r.since).then(function(){return C=!1,o.cancelled?void p():(P=r.since,void w())})["catch"](function(e){throw C=!1,d("writeCheckpoint completed with error",e),e}))}function toPouch(e,t){return"string"==typeof e?new t(e):e.then?e:utils.Promise.resolve(e)}function replicateWrapper(e,t,n,r){"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.complete||(n.complete=r||function(){}),n=utils.clone(n),n.continuous=n.continuous||n.live;var o=new Replication(n),c=n.pouchConstructor||Pouch;return toPouch(e,c).then(function(e){return toPouch(t,c).then(function(t){return genReplicationId(e,t,n).then(function(r){replicate(r,e,t,n,o)})})})["catch"](function(e){o.emit("error",e),n.complete(e)}),o}var utils=require("./utils"),Pouch=require("./index"),EE=require("events").EventEmitter;utils.inherits(Replication,EE),Replication.prototype.cancel=function(){this.cancelled=!0,this.emit("cancel")},Replication.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;e.once("destroyed",n),t.once("destroyed",n),this.then(r,r)},Checkpointer.prototype.writeCheckpoint=function(e){var t=this;return this.updateTarget(e).then(function(){return t.updateSource(e)})},Checkpointer.prototype.updateTarget=function(e){return updateCheckpoint(this.target,this.id,e)},Checkpointer.prototype.updateSource=function(e){var t=this;return this.readOnlySource?utils.Promise.resolve(!0):updateCheckpoint(this.src,this.id,e)["catch"](function(e){var n="number"==typeof e.status&&4===Math.floor(e.status/100);if(n)return t.readOnlySource=!0,!0;throw e})},Checkpointer.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.src.get(e.id).then(function(e){return t.last_seq===e.last_seq?e.last_seq:0},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return 401===n.status?(e.readOnlySource=!0,t.last_seq):0});throw n})})["catch"](function(e){if(404!==e.status)throw e;return 0})},exports.replicate=replicateWrapper;
},{"./index":"S6KqvD","./utils":47,"events":4}],44:[function(require,module,exports){
(function (global){
"use strict";var PouchDB=require("./constructor"),utils=require("./utils"),Promise=utils.Promise,EventEmitter=require("events").EventEmitter;PouchDB.adapters={},PouchDB.preferredAdapters=require("./adapters/preferredAdapters.js"),PouchDB.prefix="_pouch_";var eventEmitter=new EventEmitter,eventEmitterMethods=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"];eventEmitterMethods.forEach(function(e){PouchDB[e]=eventEmitter[e].bind(eventEmitter)}),PouchDB.setMaxListeners(0),PouchDB.parseAdapter=function(e,t){var r,o,n=e.match(/([a-z\-]*):\/\/(.*)/);if(n){if(e=/http(s?)/.test(n[1])?n[1]+"://"+n[2]:n[2],r=n[1],!PouchDB.adapters[r].valid())throw"Invalid adapter";return{name:e,adapter:n[1]}}var i="idb"in PouchDB.adapters&&"websql"in PouchDB.adapters&&utils.hasLocalStorage()&&global.localStorage["_pouch__websqldb_"+PouchDB.prefix+e];if("undefined"!=typeof t&&t.db)o="leveldb";else for(var u=0;u<PouchDB.preferredAdapters.length;++u)if(o=PouchDB.preferredAdapters[u],o in PouchDB.adapters){if(i&&"idb"===o)continue;break}if(r=PouchDB.adapters[o],o&&r){var a="use_prefix"in r?r.use_prefix:!0;return{name:a?PouchDB.prefix+e:e,adapter:o}}throw"No valid adapter found"},PouchDB.destroy=utils.toPromise(function(e,t,r){function o(){u.destroy(s,t,function(t,o){t?r(t):(PouchDB.emit("destroyed",e),PouchDB.emit(e,"destroyed"),r(null,o||{ok:!0}))})}("function"==typeof t||"undefined"==typeof t)&&(r=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0);var n=PouchDB.parseAdapter(t.name||e,t),i=n.name,u=PouchDB.adapters[n.adapter],a="use_prefix"in u?u.use_prefix:!0,c=a?i.replace(new RegExp("^"+PouchDB.prefix),""):i,s=("http"===n.adapter||"https"===n.adapter?"":t.prefix||"")+i,d=utils.extend(!0,{},t,{adapter:n.adapter});new PouchDB(c,d,function(e,i){return e?r(e):void i.get("_local/_pouch_dependentDbs",function(e,i){if(e)return"not_found"!==e.name?r(e):o();var u=i.dependentDbs,c=Object.keys(u).map(function(e){var r=a?e.replace(new RegExp("^"+PouchDB.prefix),""):e,o=utils.extend(!0,t,{adapter:n.adapter});return PouchDB.destroy(r,o)});Promise.all(c).then(o,function(e){r(e)})})})}),PouchDB.allDbs=utils.toPromise(function(e){var t=new Error("allDbs method removed");t.stats="400",e(t)}),PouchDB.adapter=function(e,t){t.valid()&&(PouchDB.adapters[e]=t)},PouchDB.plugin=function(e){Object.keys(e).forEach(function(t){PouchDB.prototype[t]=e[t]})},PouchDB.defaults=function(e){function t(t,r,o){("function"==typeof r||"undefined"==typeof r)&&(o=r,r={}),t&&"object"==typeof t&&(r=t,t=void 0),r=utils.extend(!0,{},e,r),PouchDB.call(this,t,r,o)}return utils.inherits(t,PouchDB),t.destroy=utils.toPromise(function(t,r,o){return("function"==typeof r||"undefined"==typeof r)&&(o=r,r={}),t&&"object"==typeof t&&(r=t,t=void 0),r=utils.extend(!0,{},e,r),PouchDB.destroy(t,r,o)}),eventEmitterMethods.forEach(function(e){t[e]=eventEmitter[e].bind(eventEmitter)}),t.setMaxListeners(0),t.preferredAdapters=PouchDB.preferredAdapters.slice(),Object.keys(PouchDB).forEach(function(e){e in t||(t[e]=PouchDB[e])}),t.replicate=function(e,r,o,n){return"function"==typeof o&&(n=o,o={}),"undefined"==typeof o&&(o={}),o=utils.clone(o),o.pouchConstructor=t,PouchDB.replicate(e,r,o,n)},t},module.exports=PouchDB;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./adapters/preferredAdapters.js":27,"./constructor":30,"./utils":47,"events":4}],45:[function(require,module,exports){
"use strict";function Sync(e,n,t,c){function i(e){a||(a=!0,s.emit("cancel",e))}function l(e){s.emit("change",{direction:"pull",change:e})}function r(e){s.emit("change",{direction:"push",change:e})}function o(e){return function(n,t){var c="change"===n&&(t===l||t===r),o="cancel"===n&&t===i,u=n in p&&t===p[n];(c||o||u)&&(n in m||(m[n]={}),m[n][e]=!0,2===Object.keys(m[n]).length&&s.removeAllListeners(n))}}if(!(this instanceof Sync))return new Sync(e,n,t,c);var s=this;"function"==typeof t&&(c=t,t={}),"undefined"==typeof t&&(t={}),this.canceled=!1,t=utils.clone(t);var u,h;"onChange"in t&&(u=t.onChange,delete t.onChange),"function"!=typeof c||t.complete?"complete"in t&&(h=t.complete,delete t.complete):h=c,this.push=replicate(e,n,t),this.pull=replicate(n,e,t);var a=!1,p={},m={};this.on("newListener",function(e){"change"===e?(s.pull.on("change",l),s.push.on("change",r)):"cancel"===e?(s.pull.on("cancel",i),s.push.on("cancel",i)):"error"===e||"removeListener"===e||"complete"===e||e in p||(p[e]=function(n){s.emit(e,n)},s.pull.on(e,p[e]),s.push.on(e,p[e]))}),this.on("removeListener",function(e){"change"===e?(s.pull.removeListener("change",l),s.push.removeListener("change",r)):"cancel"===e?(s.pull.removeListener("cancel",i),s.push.removeListener("cancel",i)):e in p&&"function"==typeof p[e]&&(s.pull.removeListener(e,p[e]),s.push.removeListener(e,p[e]),delete p[e])}),this.pull.on("removeListener",o("pull")),this.push.on("removeListener",o("push"));var f=utils.Promise.all([this.push,this.pull]).then(function(e){var n={push:e[0],pull:e[1]};return s.emit("complete",n),h&&h(null,n),s.removeAllListeners(),n},function(e){throw s.cancel(),s.emit("error",e),h&&h(e),s.removeAllListeners(),e});this.then=function(e,n){return f.then(e,n)},this["catch"]=function(e){return f["catch"](e)}}var utils=require("./utils"),replicate=require("./replicate").replicate,EE=require("events").EventEmitter;module.exports=Sync,utils.inherits(Sync,EE),Sync.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};
},{"./replicate":43,"./utils":47,"events":4}],46:[function(require,module,exports){
"use strict";function TaskQueue(){this.isReady=!1,this.failed=!1,this.queue=[]}module.exports=TaskQueue,TaskQueue.prototype.execute=function(){var e,t;if(this.failed)for(;e=this.queue.shift();)"function"!=typeof e?(t=e.parameters[e.parameters.length-1],"function"==typeof t?t(this.failed):"changes"===e.name&&"function"==typeof t.complete&&t.complete(this.failed)):e(this.failed);else if(this.isReady)for(;e=this.queue.shift();)"function"==typeof e?e():e.task=this.db[e.name].apply(this.db,e.parameters)},TaskQueue.prototype.fail=function(e){this.failed=e,this.execute()},TaskQueue.prototype.ready=function(e){return this.failed?!1:0===arguments.length?this.isReady:(this.isReady=e?!0:!1,this.db=e,void this.execute())},TaskQueue.prototype.addTask=function(e,t){if("function"!=typeof e){var i={name:e,parameters:t};return this.queue.push(i),this.failed&&this.execute(),i}this.queue.push(e),this.failed&&this.execute()};
},{}],47:[function(require,module,exports){
(function (process,global){
function toObject(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function isChromeApp(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function Changes(){if(!(this instanceof Changes))return new Changes;var e=this;EventEmitter.call(this),this.isChrome=isChromeApp(),this.listeners={},this.hasLocal=!1,this.isChrome||(this.hasLocal=exports.hasLocalStorage()),this.isChrome?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):this.hasLocal&&(global.addEventListener?global.addEventListener("storage",function(t){e.emit(t.key)}):global.attachEvent("storage",function(t){e.emit(t.key)}))}var merge=require("./merge");exports.extend=require("pouchdb-extend"),exports.ajax=require("./deps/ajax"),exports.createBlob=require("./deps/blob"),exports.uuid=require("./deps/uuid"),exports.getArguments=require("argsarray");var buffer=require("./deps/buffer"),errors=require("./deps/errors"),EventEmitter=require("events").EventEmitter,collections=require("./deps/collections");exports.Map=collections.Map,exports.Set=collections.Set,exports.Promise="function"==typeof global.Promise?global.Promise:require("bluebird");var Promise=exports.Promise,reservedWords=toObject(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);exports.clone=function(e){return exports.extend(!0,{},e)},exports.inherits=require("inherits"),exports.invalidIdError=function(e){var t;if(e?"string"!=typeof e?(t=new TypeError(errors.INVALID_ID.message),t.status=400):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=new TypeError(errors.RESERVED_ID.message),t.status=400):(t=new TypeError(errors.MISSING_ID.message),t.status=412),t)throw t},exports.call=exports.getArguments(function(e){if(e.length){var t=e.shift();"function"==typeof t&&t.apply(this,e)}}),exports.isLocalId=function(e){return/^_local/.test(e)},exports.isDeleted=function(e,t){t||(t=merge.winningRev(e));var r=t.indexOf("-");-1!==r&&(t=t.substring(r+1));var n=!1;return merge.traverseRevTree(e.rev_tree,function(e,r,s,o,i){s===t&&(n=!!i.deleted)}),n},exports.filterChange=function(e){return function(t){var r={},n=e.filter&&"function"==typeof e.filter;if(r.query=e.query_params,e.filter&&n&&!e.filter.call(this,t.doc,r))return!1;if(e.doc_ids&&-1===e.doc_ids.indexOf(t.id))return!1;if(e.include_docs)for(var s in t.doc._attachments)t.doc._attachments.hasOwnProperty(s)&&(t.doc._attachments[s].stub=!0);else delete t.doc;return!0}},exports.parseDoc=function(e,t){var r,n,s,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=exports.uuid()),n=exports.uuid(32,16).toLowerCase(),e._rev){if(s=/^(\d+)-(.+)$/.exec(e._rev),!s){var a=new TypeError("invalid value for property '_rev'");a.status=400}e._rev_tree=[{pos:parseInt(s[1],10),ids:[s[2],{status:"missing"},[[n,i,[]]]]}],r=parseInt(s[1],10)+1}else e._rev_tree=[{pos:1,ids:[n,i,[]]}],r=1;else if(e._revisions&&(e._rev_tree=[{pos:e._revisions.start-e._revisions.ids.length+1,ids:e._revisions.ids.reduce(function(e,t){return null===e?[t,i,[]]:[t,{status:"missing"},[e]]},null)}],r=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if(s=/^(\d+)-(.+)$/.exec(e._rev),!s)throw o=new TypeError(errors.BAD_ARG.message),o.status=errors.BAD_ARG.status,o;r=parseInt(s[1],10),n=s[2],e._rev_tree=[{pos:parseInt(s[1],10),ids:[s[2],i,[]]}]}exports.invalidIdError(e._id),e._id=decodeURIComponent(e._id),e._rev=[r,n].join("-");var c={metadata:{},data:{}};for(var u in e)if(e.hasOwnProperty(u)){var l="_"===u[0];if(l&&!reservedWords[u])throw o=new Error(errors.DOC_VALIDATION.message+": "+u),o.status=errors.DOC_VALIDATION.status,o;l&&"_attachments"!==u?c.metadata[u.slice(1)]=e[u]:c.data[u]=e[u]}return c},exports.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},exports.hasLocalStorage=function(){if(isChromeApp())return!1;try{return global.localStorage}catch(e){return!1}},exports.Changes=Changes,exports.inherits(Changes,EventEmitter),Changes.prototype.addListener=function(e,t,r,n){function s(){r.changes({include_docs:n.include_docs,conflicts:n.conflicts,continuous:!1,descending:!1,filter:n.filter,view:n.view,since:n.since,query_params:n.query_params,onChange:function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,exports.call(n.onChange,e))}})}this.listeners[t]||(this.listeners[t]=s,this.on(e,s))},Changes.prototype.removeListener=function(e,t){t in this.listeners&&EventEmitter.prototype.removeListener.call(this,e,this.listeners[t])},Changes.prototype.notifyLocalWindows=function(e){this.isChrome?chrome.storage.local.set({dbName:e}):this.hasLocal&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Changes.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},exports.atob=process.browser&&"atob"in global?function(e){return atob(e)}:function(e){var t=new buffer(e,"base64");if(t.toString("base64")!==e)throw"Cannot base64 encode full string";return t.toString("binary")},exports.btoa=process.browser&&"btoa"in global?function(e){return btoa(e)}:function(e){return new buffer(e,"binary").toString("base64")},exports.fixBinary=function(e){if(!process.browser)return e;for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),s=0;t>s;s++)n[s]=e.charCodeAt(s);return r},exports.once=function(e){var t=!1;return exports.getArguments(function(r){if(t)throw"function"==typeof console.trace&&console.trace(),new Error("once called  more than once");t=!0,e.apply(this,r)})},exports.toPromise=function(e){return exports.getArguments(function(t){var r,n=this,s="function"==typeof t[t.length-1]?t.pop():!1;s&&(r=function(e,t){process.nextTick(function(){s(e,t)})});var o=new Promise(function(r,s){var o;try{var i=exports.once(function(e,t){e?s(e):r(t)});t.push(i),o=e.apply(n,t),o&&"function"==typeof o.then&&r(o)}catch(a){s(a)}});return r&&o.then(function(e){r(null,e)},r),o.cancel=function(){return this},o})},exports.adapterFun=function(e,t){return exports.toPromise(exports.getArguments(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));var n=this;return this.taskqueue.isReady?t.apply(this,r):new exports.Promise(function(t,s){n.taskqueue.addTask(function(o){o?s(o):t(n[e].apply(n,r))})})}))},exports.arrayBufferToBinaryString=function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,s=0;n>s;s++)t+=String.fromCharCode(r[s]);return t},exports.cancellableFun=function(e,t,r){r=r?exports.clone(!0,{},r):{};var n=new EventEmitter,s=r.complete||function(){},o=r.complete=exports.once(function(e,t){e?s(e):(n.emit("end",t),s(null,t)),n.removeAllListeners()}),i=r.onChange||function(){},a=0;t.on("destroyed",function(){n.removeAllListeners()}),r.onChange=function(e){i(e),e.seq<=a||(a=e.seq,n.emit("change",e),e.deleted?n.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,1)?n.emit("create",e):n.emit("update",e))};var c=new Promise(function(e,t){r.complete=function(r,n){r?t(r):e(n)}});return c.then(function(e){o(null,e)},o),c.cancel=function(){c.isCancelled=!0,t.taskqueue.isReady&&r.complete(null,{status:"cancelled"})},t.taskqueue.isReady?e(t,r,c):t.taskqueue.addTask(function(){c.isCancelled?r.complete(null,{status:"cancelled"}):e(t,r,c)}),c.on=n.on.bind(n),c.once=n.once.bind(n),c.addListener=n.addListener.bind(n),c.removeListener=n.removeListener.bind(n),c.removeAllListeners=n.removeAllListeners.bind(n),c.setMaxListeners=n.setMaxListeners.bind(n),c.listeners=n.listeners.bind(n),c.emit=n.emit.bind(n),c},exports.MD5=exports.toPromise(require("./deps/md5"));
}).call(this,require("FWaASH"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./deps/ajax":31,"./deps/blob":32,"./deps/buffer":3,"./deps/collections":33,"./deps/errors":34,"./deps/md5":35,"./deps/uuid":37,"./merge":42,"FWaASH":5,"argsarray":49,"bluebird":54,"events":4,"inherits":50,"pouchdb-extend":68}],48:[function(require,module,exports){
module.exports="3.0.0";
},{}],49:[function(require,module,exports){
'use strict';

module.exports = argsArray;

function argsArray(fun) {
  return function () {
    var len = arguments.length;
    if (len) {
      var args = [];
      var i = -1;
      while (++i < len) {
        args[i] = arguments[i];
      }
      return fun.call(this, args);
    } else {
      return fun.call(this, []);
    }
  };
}
},{}],50:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],51:[function(require,module,exports){
'use strict';

module.exports = INTERNAL;

function INTERNAL() {}
},{}],52:[function(require,module,exports){
'use strict';
var Promise = require('./promise');
var reject = require('./reject');
var resolve = require('./resolve');
var INTERNAL = require('./INTERNAL');
var handlers = require('./handlers');
var noArray = reject(new TypeError('must be an array'));
module.exports = function all(iterable) {
  if (Object.prototype.toString.call(iterable) !== '[object Array]') {
    return noArray;
  }

  var len = iterable.length;
  var called = false;
  if (!len) {
    return resolve([]);
  }

  var values = new Array(len);
  var resolved = 0;
  var i = -1;
  var promise = new Promise(INTERNAL);
  
  while (++i < len) {
    allResolver(iterable[i], i);
  }
  return promise;
  function allResolver(value, i) {
    resolve(value).then(resolveFromAll, function (error) {
      if (!called) {
        called = true;
        handlers.reject(promise, error);
      }
    });
    function resolveFromAll(outValue) {
      values[i] = outValue;
      if (++resolved === len & !called) {
        called = true;
        handlers.resolve(promise, values);
      }
    }
  }
};
},{"./INTERNAL":51,"./handlers":53,"./promise":55,"./reject":57,"./resolve":58}],53:[function(require,module,exports){
'use strict';
var tryCatch = require('./tryCatch');
var resolveThenable = require('./resolveThenable');
var states = require('./states');

exports.resolve = function (self, value) {
  var result = tryCatch(getThen, value);
  if (result.status === 'error') {
    return exports.reject(self, result.value);
  }
  var thenable = result.value;

  if (thenable) {
    resolveThenable.safely(self, thenable);
  } else {
    self.state = states.FULFILLED;
    self.outcome = value;
    var i = -1;
    var len = self.queue.length;
    while (++i < len) {
      self.queue[i].callFulfilled(value);
    }
  }
  return self;
};
exports.reject = function (self, error) {
  self.state = states.REJECTED;
  self.outcome = error;
  var i = -1;
  var len = self.queue.length;
  while (++i < len) {
    self.queue[i].callRejected(error);
  }
  return self;
};

function getThen(obj) {
  // Make sure we only access the accessor once as required by the spec
  var then = obj && obj.then;
  if (obj && typeof obj === 'object' && typeof then === 'function') {
    return function appyThen() {
      then.apply(obj, arguments);
    };
  }
}
},{"./resolveThenable":59,"./states":60,"./tryCatch":61}],54:[function(require,module,exports){
module.exports = exports = require('./promise');

exports.resolve = require('./resolve');
exports.reject = require('./reject');
exports.all = require('./all');
},{"./all":52,"./promise":55,"./reject":57,"./resolve":58}],55:[function(require,module,exports){
'use strict';

var unwrap = require('./unwrap');
var INTERNAL = require('./INTERNAL');
var resolveThenable = require('./resolveThenable');
var states = require('./states');
var QueueItem = require('./queueItem');

module.exports = Promise;
function Promise(resolver) {
  if (!(this instanceof Promise)) {
    return new Promise(resolver);
  }
  if (typeof resolver !== 'function') {
    throw new TypeError('reslover must be a function');
  }
  this.state = states.PENDING;
  this.queue = [];
  this.outcome = void 0;
  if (resolver !== INTERNAL) {
    resolveThenable.safely(this, resolver);
  }
}

Promise.prototype['catch'] = function (onRejected) {
  return this.then(null, onRejected);
};
Promise.prototype.then = function (onFulfilled, onRejected) {
  if (typeof onFulfilled !== 'function' && this.state === states.FULFILLED ||
    typeof onRejected !== 'function' && this.state === states.REJECTED) {
    return this;
  }
  var promise = new Promise(INTERNAL);

  
  if (this.state !== states.PENDING) {
    var resolver = this.state === states.FULFILLED ? onFulfilled: onRejected;
    unwrap(promise, resolver, this.outcome);
  } else {
    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));
  }

  return promise;
};

},{"./INTERNAL":51,"./queueItem":56,"./resolveThenable":59,"./states":60,"./unwrap":62}],56:[function(require,module,exports){
'use strict';
var handlers = require('./handlers');
var unwrap = require('./unwrap');

module.exports = QueueItem;
function QueueItem(promise, onFulfilled, onRejected) {
  this.promise = promise;
  if (typeof onFulfilled === 'function') {
    this.onFulfilled = onFulfilled;
    this.callFulfilled = this.otherCallFulfilled;
  }
  if (typeof onRejected === 'function') {
    this.onRejected = onRejected;
    this.callRejected = this.otherCallRejected;
  }
}
QueueItem.prototype.callFulfilled = function (value) {
  handlers.resolve(this.promise, value);
};
QueueItem.prototype.otherCallFulfilled = function (value) {
  unwrap(this.promise, this.onFulfilled, value);
};
QueueItem.prototype.callRejected = function (value) {
  handlers.reject(this.promise, value);
};
QueueItem.prototype.otherCallRejected = function (value) {
  unwrap(this.promise, this.onRejected, value);
};
},{"./handlers":53,"./unwrap":62}],57:[function(require,module,exports){
'use strict';

var Promise = require('./promise');
var INTERNAL = require('./INTERNAL');
var handlers = require('./handlers');
module.exports = reject;

function reject(reason) {
	var promise = new Promise(INTERNAL);
	return handlers.reject(promise, reason);
}
},{"./INTERNAL":51,"./handlers":53,"./promise":55}],58:[function(require,module,exports){
'use strict';

var Promise = require('./promise');
var INTERNAL = require('./INTERNAL');
var handlers = require('./handlers');
module.exports = resolve;

var FALSE = handlers.resolve(new Promise(INTERNAL), false);
var NULL = handlers.resolve(new Promise(INTERNAL), null);
var UNDEFINED = handlers.resolve(new Promise(INTERNAL), void 0);
var ZERO = handlers.resolve(new Promise(INTERNAL), 0);
var EMPTYSTRING = handlers.resolve(new Promise(INTERNAL), '');

function resolve(value) {
  if (value) {
    if (value instanceof Promise) {
      return value;
    }
    return handlers.resolve(new Promise(INTERNAL), value);
  }
  var valueType = typeof value;
  switch (valueType) {
    case 'boolean':
      return FALSE;
    case 'undefined':
      return UNDEFINED;
    case 'object':
      return NULL;
    case 'number':
      return ZERO;
    case 'string':
      return EMPTYSTRING;
  }
}
},{"./INTERNAL":51,"./handlers":53,"./promise":55}],59:[function(require,module,exports){
'use strict';
var handlers = require('./handlers');
var tryCatch = require('./tryCatch');
function safelyResolveThenable(self, thenable) {
  // Either fulfill, reject or reject with error
  var called = false;
  function onError(value) {
    if (called) {
      return;
    }
    called = true;
    handlers.reject(self, value);
  }

  function onSuccess(value) {
    if (called) {
      return;
    }
    called = true;
    handlers.resolve(self, value);
  }

  function tryToUnwrap() {
    thenable(onSuccess, onError);
  }
  
  var result = tryCatch(tryToUnwrap);
  if (result.status === 'error') {
    onError(result.value);
  }
}
exports.safely = safelyResolveThenable;
},{"./handlers":53,"./tryCatch":61}],60:[function(require,module,exports){
// Lazy man's symbols for states

exports.REJECTED = ['REJECTED'];
exports.FULFILLED = ['FULFILLED'];
exports.PENDING = ['PENDING'];
},{}],61:[function(require,module,exports){
'use strict';

module.exports = tryCatch;

function tryCatch(func, value) {
  var out = {};
  try {
    out.value = func(value);
    out.status = 'success';
  } catch (e) {
    out.status = 'error';
    out.value = e;
  }
  return out;
}
},{}],62:[function(require,module,exports){
'use strict';

var immediate = require('immediate');
var handlers = require('./handlers');
module.exports = unwrap;

function unwrap(promise, func, value) {
  immediate(function () {
    var returnValue;
    try {
      returnValue = func(value);
    } catch (e) {
      return handlers.reject(promise, e);
    }
    if (returnValue === promise) {
      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));
    } else {
      handlers.resolve(promise, returnValue);
    }
  });
}
},{"./handlers":53,"immediate":63}],63:[function(require,module,exports){
'use strict';
var types = [
  require('./nextTick'),
  require('./mutation.js'),
  require('./messageChannel'),
  require('./stateChange'),
  require('./timeout')
];
var draining;
var queue = [];
function drainQueue() {
  draining = true;
  var i, oldQueue;
  var len = queue.length;
  while (len) {
    oldQueue = queue;
    queue = [];
    i = -1;
    while (++i < len) {
      oldQueue[i]();
    }
    len = queue.length;
  }
  draining = false;
}
var scheduleDrain;
var i = -1;
var len = types.length;
while (++ i < len) {
  if (types[i] && types[i].test && types[i].test()) {
    scheduleDrain = types[i].install(drainQueue);
    break;
  }
}
module.exports = immediate;
function immediate(task) {
  if (queue.push(task) === 1 && !draining) {
    scheduleDrain();
  }
}
},{"./messageChannel":64,"./mutation.js":65,"./nextTick":3,"./stateChange":66,"./timeout":67}],64:[function(require,module,exports){
(function (global){
'use strict';

exports.test = function () {
  if (global.setImmediate) {
    // we can only get here in IE10
    // which doesn't handel postMessage well
    return false;
  }
  return typeof global.MessageChannel !== 'undefined';
};

exports.install = function (func) {
  var channel = new global.MessageChannel();
  channel.port1.onmessage = func;
  return function () {
    channel.port2.postMessage(0);
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],65:[function(require,module,exports){
(function (global){
'use strict';
//based off rsvp https://github.com/tildeio/rsvp.js
//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE
//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js

var Mutation = global.MutationObserver || global.WebKitMutationObserver;

exports.test = function () {
  return Mutation;
};

exports.install = function (handle) {
  var called = 0;
  var observer = new Mutation(handle);
  var element = global.document.createTextNode('');
  observer.observe(element, {
    characterData: true
  });
  return function () {
    element.data = (called = ++called % 2);
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],66:[function(require,module,exports){
(function (global){
'use strict';

exports.test = function () {
  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');
};

exports.install = function (handle) {
  return function () {

    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
    var scriptEl = global.document.createElement('script');
    scriptEl.onreadystatechange = function () {
      handle();

      scriptEl.onreadystatechange = null;
      scriptEl.parentNode.removeChild(scriptEl);
      scriptEl = null;
    };
    global.document.documentElement.appendChild(scriptEl);

    return handle;
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],67:[function(require,module,exports){
'use strict';
exports.test = function () {
  return true;
};

exports.install = function (t) {
  return function () {
    setTimeout(t, 0);
  };
};
},{}],68:[function(require,module,exports){
"use strict";

// Extends method
// (taken from http://code.jquery.com/jquery-1.9.0.js)
// Populate the class2type map
var class2type = {};

var types = [
  "Boolean", "Number", "String", "Function", "Array",
  "Date", "RegExp", "Object", "Error"
];
for (var i = 0; i < types.length; i++) {
  var typename = types[i];
  class2type["[object " + typename + "]"] = typename.toLowerCase();
}

var core_toString = class2type.toString;
var core_hasOwn = class2type.hasOwnProperty;

function type(obj) {
  if (obj === null) {
    return String(obj);
  }
  return typeof obj === "object" || typeof obj === "function" ?
    class2type[core_toString.call(obj)] || "object" :
    typeof obj;
}

function isWindow(obj) {
  return obj !== null && obj === obj.window;
}

function isPlainObject(obj) {
  // Must be an Object.
  // Because of IE, we also have to check the presence of
  // the constructor property.
  // Make sure that DOM nodes and window objects don't pass through, as well
  if (!obj || type(obj) !== "object" || obj.nodeType || isWindow(obj)) {
    return false;
  }

  try {
    // Not own constructor property must be Object
    if (obj.constructor &&
      !core_hasOwn.call(obj, "constructor") &&
      !core_hasOwn.call(obj.constructor.prototype, "isPrototypeOf")) {
      return false;
    }
  } catch ( e ) {
    // IE8,9 Will throw exceptions on certain host objects #9897
    return false;
  }

  // Own properties are enumerated firstly, so to speed up,
  // if last one is own, then all properties are own.
  var key;
  for (key in obj) {}

  return key === undefined || core_hasOwn.call(obj, key);
}


function isFunction(obj) {
  return type(obj) === "function";
}

var isArray = Array.isArray || function (obj) {
  return type(obj) === "array";
};

function extend() {
  var options, name, src, copy, copyIsArray, clone,
    target = arguments[0] || {},
    i = 1,
    length = arguments.length,
    deep = false;

  // Handle a deep copy situation
  if (typeof target === "boolean") {
    deep = target;
    target = arguments[1] || {};
    // skip the boolean and the target
    i = 2;
  }

  // Handle case when target is a string or something (possible in deep copy)
  if (typeof target !== "object" && !isFunction(target)) {
    target = {};
  }

  // extend jQuery itself if only one argument is passed
  if (length === i) {
    /* jshint validthis: true */
    target = this;
    --i;
  }

  for (; i < length; i++) {
    // Only deal with non-null/undefined values
    if ((options = arguments[i]) != null) {
      // Extend the base object
      for (name in options) {
        //if (options.hasOwnProperty(name)) {
        if (!(name in Object.prototype)) {

          src = target[name];
          copy = options[name];

          // Prevent never-ending loop
          if (target === copy) {
            continue;
          }

          // Recurse if we're merging plain objects or arrays
          if (deep && copy && (isPlainObject(copy) ||
              (copyIsArray = isArray(copy)))) {
            if (copyIsArray) {
              copyIsArray = false;
              clone = src && isArray(src) ? src : [];

            } else {
              clone = src && isPlainObject(src) ? src : {};
            }

            // Never move original objects, clone them
            target[name] = extend(deep, clone, copy);

          // Don't bring in undefined values
          } else if (copy !== undefined) {
            if (!(isArray(options) && isFunction(copy))) {
              target[name] = copy;
            }
          }
        }
      }
    }
  }

  // Return the modified object
  return target;
}


module.exports = extend;



},{}],69:[function(require,module,exports){
'use strict';

var upsert = require('./upsert');
var utils = require('./utils');
var Promise = utils.Promise;

module.exports = function (opts) {
  var sourceDB = opts.db;
  var viewName = opts.viewName;
  var mapFun = opts.map;
  var reduceFun = opts.reduce;
  var temporary = opts.temporary;

  // the "undefined" part is for backwards compatibility
  var viewSignature = mapFun.toString() + (reduceFun && reduceFun.toString()) +
    'undefined';

  if (!temporary && sourceDB._cachedViews) {
    var cachedView = sourceDB._cachedViews[viewSignature];
    if (cachedView) {
      return Promise.resolve(cachedView);
    }
  }

  return sourceDB.info().then(function (info) {

    var depDbName = info.db_name + '-mrview-' +
      (temporary ? 'temp' : utils.MD5(viewSignature));

    // save the view name in the source PouchDB so it can be cleaned up if necessary
    // (e.g. when the _design doc is deleted, remove all associated view data)
    function diffFunction(doc) {
      doc.views = doc.views || {};
      var fullViewName = viewName;
      if (fullViewName.indexOf('/') === -1) {
        fullViewName = viewName + '/' + viewName;
      }
      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};
      /* istanbul ignore if */
      if (depDbs[depDbName]) {
        return; // no update necessary
      }
      depDbs[depDbName] = true;
      return doc;
    }
    return upsert(sourceDB, '_local/mrviews', diffFunction).then(function () {
      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {
        var db = res.db;
        db.auto_compaction = true;
        var view = {
          name: depDbName,
          db: db, 
          sourceDB: sourceDB,
          adapter: sourceDB.adapter,
          mapFun: mapFun,
          reduceFun: reduceFun
        };
        return view.db.get('_local/lastSeq')["catch"](function (err) {
          /* istanbul ignore if */
          if (err.name !== 'not_found') {
            throw err;
          }
        }).then(function (lastSeqDoc) {
          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;
          if (!temporary) {
            sourceDB._cachedViews = sourceDB._cachedViews || {};
            sourceDB._cachedViews[viewSignature] = view;
            view.db.on('destroyed', function () {
              delete sourceDB._cachedViews[viewSignature];
            });
          }
          return view;
        });
      });
    });
  });
};

},{"./upsert":75,"./utils":76}],70:[function(require,module,exports){
'use strict';

module.exports = function (func, emit, sum, log, isArray, toJSON) {
  /*jshint evil:true,unused:false */
  return eval("'use strict'; (" + func.replace(/;\s*$/, "") + ");");
};

},{}],71:[function(require,module,exports){
(function (process){
'use strict';

var pouchCollate = require('pouchdb-collate');
var TaskQueue = require('./taskqueue');
var collate = pouchCollate.collate;
var toIndexableString = pouchCollate.toIndexableString;
var normalizeKey = pouchCollate.normalizeKey;
var createView = require('./create-view');
var evalFunc = require('./evalfunc');
var log; 
/* istanbul ignore else */
if ((typeof console !== 'undefined') && (typeof console.log === 'function')) {
  log = Function.prototype.bind.call(console.log, console);
} else {
  log = function () {};
}
var utils = require('./utils');
var Promise = utils.Promise;
var mainQueue = new TaskQueue();
var tempViewQueue = new TaskQueue();
var CHANGES_BATCH_SIZE = 50;

function parseViewName(name) {
  // can be either 'ddocname/viewname' or just 'viewname'
  // (where the ddoc name is the same)
  return name.indexOf('/') === -1 ? [name, name] : name.split('/');
}

function tryCode(db, fun, args) {
  // emit an event if there was an error thrown by a map/reduce function.
  // putting try/catches in a single function also avoids deoptimizations.
  try {
    return {
      output : fun.apply(null, args)
    };
  } catch (e) {
    db.emit('error', e);
    return {error : e};
  }
}

function sortByKeyThenValue(x, y) {
  var keyCompare = collate(x.key, y.key);
  return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);
}

function sliceResults(results, limit, skip) {
  skip = skip || 0;
  if (typeof limit === 'number') {
    return results.slice(skip, limit + skip);
  } else if (skip > 0) {
    return results.slice(skip);
  }
  return results;
}

function createBuiltInError(name) {
  var error = new Error('builtin ' + name +
    ' function requires map values to be numbers' +
    ' or number arrays');
  error.name = 'invalid_value';
  error.status = 500;
  return error;
}

function sum(values) {
  var result = 0;
  for (var i = 0, len = values.length; i < len; i++) {
    var num = values[i];
    if (typeof num !== 'number') {
      if (Array.isArray(num)) {
        // lists of numbers are also allowed, sum them separately
        result = typeof result === 'number' ? [result] : result;
        for (var j = 0, jLen = num.length; j < jLen; j++) {
          var jNum = num[j];
          if (typeof jNum !== 'number') {
            throw createBuiltInError('_sum');
          } else if (typeof result[j] === 'undefined') {
            result.push(jNum);
          } else {
            result[j] += jNum;
          }
        }
      } else { // not array/number
        throw createBuiltInError('_sum');
      }
    } else if (typeof result === 'number') {
      result += num;
    } else { // add number to array
      result[0] += num;
    }
  }
  return result;
}

var builtInReduce = {
  _sum: function (keys, values) {
    return sum(values);
  },

  _count: function (keys, values) {
    return values.length;
  },

  _stats: function (keys, values) {
    // no need to implement rereduce=true, because Pouch
    // will never call it
    function sumsqr(values) {
      var _sumsqr = 0;
      for (var i = 0, len = values.length; i < len; i++) {
        var num = values[i];
        _sumsqr += (num * num);
      }
      return _sumsqr;
    }
    return {
      sum     : sum(values),
      min     : Math.min.apply(null, values),
      max     : Math.max.apply(null, values),
      count   : values.length,
      sumsqr : sumsqr(values)
    };
  }
};

function addHttpParam(paramName, opts, params, asJson) {
  // add an http param from opts to params, optionally json-encoded
  var val = opts[paramName];
  if (typeof val !== 'undefined') {
    if (asJson) {
      val = encodeURIComponent(JSON.stringify(val));
    }
    params.push(paramName + '=' + val);
  }
}

function checkQueryParseError(options, fun) {
  var startkeyName = options.descending ? 'endkey' : 'startkey';
  var endkeyName = options.descending ? 'startkey' : 'endkey';

  if (typeof options[startkeyName] !== 'undefined' &&
    typeof options[endkeyName] !== 'undefined' &&
    collate(options[startkeyName], options[endkeyName]) > 0) {
    throw new QueryParseError('No rows can match your key range, reverse your ' +
        'start_key and end_key or set {descending : true}');
  } else if (fun.reduce && options.reduce !== false) {
    if (options.include_docs) {
      throw new QueryParseError('{include_docs:true} is invalid for reduce');
    } else if (options.keys && options.keys.length > 1 &&
        !options.group && !options.group_level) {
      throw new QueryParseError('Multi-key fetches for reduce views must use {group: true}');
    }
  }
  if (options.group_level) {
    if (typeof options.group_level !== 'number') {
      throw new QueryParseError('Invalid value for integer: "' + options.group_level + '"');
    }
    if (options.group_level < 0) {
      throw new QueryParseError('Invalid value for positive integer: ' +
        '"' + options.group_level + '"');
    }
  }
}

function httpQuery(db, fun, opts) {
  // List of parameters to add to the PUT request
  var params = [];
  var body;
  var method = 'GET';

  // If opts.reduce exists and is defined, then add it to the list
  // of parameters.
  // If reduce=false then the results are that of only the map function
  // not the final result of map and reduce.
  addHttpParam('reduce', opts, params);
  addHttpParam('include_docs', opts, params);
  addHttpParam('limit', opts, params);
  addHttpParam('descending', opts, params);
  addHttpParam('group', opts, params);
  addHttpParam('group_level', opts, params);
  addHttpParam('skip', opts, params);
  addHttpParam('stale', opts, params);
  addHttpParam('startkey', opts, params, true);
  addHttpParam('endkey', opts, params, true);
  addHttpParam('inclusive_end', opts, params);
  addHttpParam('key', opts, params, true);

  // Format the list of parameters into a valid URI query string
  params = params.join('&');
  params = params === '' ? '' : '?' + params;

  // If keys are supplied, issue a POST request to circumvent GET query string limits
  // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options
  if (typeof opts.keys !== 'undefined') {
    var MAX_URL_LENGTH = 2000;
    // according to http://stackoverflow.com/a/417184/680742,
    // the de facto URL length limit is 2000 characters

    var keysAsString =
      'keys=' + encodeURIComponent(JSON.stringify(opts.keys));
    if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {
      // If the keys are short enough, do a GET. we do this to work around
      // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)
      params += (params[0] === '?' ? '&' : '?') + keysAsString;
    } else {
      method = 'POST';
      if (typeof fun === 'string') {
        body = JSON.stringify({keys: opts.keys});
      } else { // fun is {map : mapfun}, so append to this
        fun.keys = opts.keys;
      }
    }
  }

  // We are referencing a query defined in the design doc
  if (typeof fun === 'string') {
    var parts = parseViewName(fun);
    return db.request({
      method: method,
      url: '_design/' + parts[0] + '/_view/' + parts[1] + params,
      body: body
    });
  }

  // We are using a temporary view, terrible for performance but good for testing
  body = body || {};
  Object.keys(fun).forEach(function (key) {
    if (Array.isArray(fun[key])) {
      body[key] = fun[key];
    } else {
      body[key] = fun[key].toString();
    }
  });
  return db.request({
    method: 'POST',
    url: '_temp_view' + params,
    body: body
  });
}

function defaultsTo(value) {
  return function (reason) {
    /* istanbul ignore else */
    if (reason.name === 'not_found') {
      return value;
    } else {
      throw reason;
    }
  };
}

// returns a promise for a list of docs to update, based on the input docId.
// we update the metaDoc first (i.e. the doc that points from the sourceDB
// document Id to the ids of the documents in the mrview database), then
// the key/value docs.  that way, if lightning strikes the user's computer
// in the middle of an update, we don't write any docs that we wouldn't
// be able to find later using the metaDoc.
function getDocsToPersist(docId, view, docIdsToEmits) {
  var metaDocId = '_local/doc_' + docId;
  return view.db.get(metaDocId)[
    "catch"](defaultsTo({_id: metaDocId, keys: []}))
    .then(function (metaDoc) {
      return Promise.resolve().then(function () {
        if (metaDoc.keys.length) {
          return view.db.allDocs({
            keys: metaDoc.keys,
            include_docs: true
          });
        }
        return {rows: []}; // no keys, no need for a lookup
      }).then(function (res) {
        var kvDocs = res.rows.map(function (row) {
          return row.doc;
        }).filter(function (row) {
          return row;
        });

        var indexableKeysToKeyValues = docIdsToEmits[docId];
        var oldKeysMap = {};
        kvDocs.forEach(function (kvDoc) {
          oldKeysMap[kvDoc._id] = true;
          kvDoc._deleted = !indexableKeysToKeyValues[kvDoc._id];
          if (!kvDoc._deleted) {
            kvDoc.value = indexableKeysToKeyValues[kvDoc._id];
          }
        });

        var newKeys = Object.keys(indexableKeysToKeyValues);
        newKeys.forEach(function (key) {
          if (!oldKeysMap[key]) {
            // new doc
            kvDocs.push({
              _id: key,
              value: indexableKeysToKeyValues[key]
            });
          }
        });
        metaDoc.keys = utils.uniq(newKeys.concat(metaDoc.keys));
        kvDocs.splice(0, 0, metaDoc);

        return kvDocs;
      });
    });
}

// updates all emitted key/value docs and metaDocs in the mrview database
// for the given batch of documents from the source database
function saveKeyValues(view, docIdsToEmits, seq) {
  var seqDocId = '_local/lastSeq';
  return view.db.get(seqDocId)[
  "catch"](defaultsTo({_id: seqDocId, seq: 0}))
  .then(function (lastSeqDoc) {
    var docIds = Object.keys(docIdsToEmits);
    return Promise.all(docIds.map(function (docId) {
        return getDocsToPersist(docId, view, docIdsToEmits);
      })).then(function (listOfDocsToPersist) {
        var docsToPersist = [];
        listOfDocsToPersist.forEach(function (docList) {
          docsToPersist = docsToPersist.concat(docList);
        });

        // update the seq doc last, so that if a meteor strikes the user's
        // computer in the middle of an update, we can apply the idempotent
        // batch update operation again
        lastSeqDoc.seq = seq;
        docsToPersist.push(lastSeqDoc);

        return view.db.bulkDocs({docs : docsToPersist});
      });
  });
}

var updateView = utils.sequentialize(mainQueue, function (view) {
  // bind the emit function once
  var mapResults;
  var doc;

  function emit(key, value) {
    mapResults.push({
      id  : doc._id,
      key : normalizeKey(key),
      value : normalizeKey(value)
    });
  }

  var mapFun;
  // for temp_views one can use emit(doc, emit), see #38
  if (typeof view.mapFun === "function" && view.mapFun.length === 2) {
    var origMap = view.mapFun;
    mapFun = function (doc) {
      return origMap(doc, emit);
    };
  } else {
    mapFun = evalFunc(view.mapFun.toString(), emit, sum, log, Array.isArray, JSON.parse);
  }

  var currentSeq = view.seq || 0;

  function processChange(docIdsToEmits, seq) {
    return function () {
      return saveKeyValues(view, docIdsToEmits, seq);
    };
  }
  var queue = new TaskQueue();
  // TODO(neojski): https://github.com/daleharvey/pouchdb/issues/1521

  return new Promise(function (resolve, reject) {

    function complete() {
      queue.finish().then(function () {
        view.seq = currentSeq;
        resolve();
      });
    }

    function processNextBatch() {
      view.sourceDB.changes({
        conflicts: true,
        include_docs: true,
        since : currentSeq,
        limit : CHANGES_BATCH_SIZE
      }).on('complete', function (response) {
        var results = response.results;
        if (!results.length) {
          return complete();
        }
        var docIdsToEmits = {};
        for (var i = 0, l = results.length; i < l; i++) {
          var change = results[i];
          if (change.doc._id[0] !== '_') {
            mapResults = [];
            doc = change.doc;

            if (!doc._deleted) {
              tryCode(view.sourceDB, mapFun, [doc]);
            }
            mapResults.sort(sortByKeyThenValue);

            var indexableKeysToKeyValues = {};
            for (var j = 0, jl = mapResults.length; j < jl; j++) {
              var obj = mapResults[j];
              var indexableKey = toIndexableString([obj.key, obj.id, j]);
              indexableKeysToKeyValues[indexableKey] = obj;
            }
            docIdsToEmits[change.doc._id] = indexableKeysToKeyValues;
          }
          currentSeq = change.seq;
        }
        queue.add(processChange(docIdsToEmits, currentSeq));
        if (results.length < CHANGES_BATCH_SIZE) {
          return complete();
        }
        return processNextBatch();
      }).on('error', onError);
      /* istanbul ignore next */
      function onError(err) {
        reject(err);
      }
    }
    processNextBatch();
  });
});

function reduceView(view, results, options) {
  if (options.group_level === 0) {
    delete options.group_level;
  }

  var shouldGroup = options.group || options.group_level;

  var reduceFun;
  if (builtInReduce[view.reduceFun]) {
    reduceFun = builtInReduce[view.reduceFun];
  } else {
    reduceFun = evalFunc(
      view.reduceFun.toString(), null, sum, log, Array.isArray, JSON.parse);
  }

  var groups = [];
  var lvl = options.group_level;
  results.forEach(function (e) {
    var last = groups[groups.length - 1];
    var key = shouldGroup ? e.key : null;

    // only set group_level for array keys
    if (shouldGroup && Array.isArray(key) && typeof lvl === 'number') {
      key = key.length > lvl ? key.slice(0, lvl) : key;
    }

    if (last && collate(last.key[0][0], key) === 0) {
      last.key.push([key, e.id]);
      last.value.push(e.value);
      return;
    }
    groups.push({key: [
      [key, e.id]
    ], value: [e.value]});
  });
  for (var i = 0, len = groups.length; i < len; i++) {
    var e = groups[i];
    var reduceTry = tryCode(view.sourceDB, reduceFun, [e.key, e.value, false]);
    // CouchDB typically just sets the value to null if reduce errors out
    e.value = reduceTry.error ? null : reduceTry.output;
    e.key = e.key[0][0];
  }
  // no total_rows/offset when reducing
  return {rows: sliceResults(groups, options.limit, options.skip)};
}

var queryView = utils.sequentialize(mainQueue, function (view, opts) {
  var totalRows;
  var shouldReduce = view.reduceFun && opts.reduce !== false;
  var skip = opts.skip || 0;
  if (typeof opts.keys !== 'undefined' && !opts.keys.length) {
    // equivalent query
    opts.limit = 0;
    delete opts.keys;
  }

  function fetchFromView(viewOpts) {
    viewOpts.include_docs = true;
    return view.db.allDocs(viewOpts).then(function (res) {
      totalRows = res.total_rows;
      return res.rows.map(function (result) {
        return result.doc.value;
      });
    });
  }

  function onMapResultsReady(results) {
    var res;
    if (shouldReduce) {
      res = reduceView(view, results, opts);
    } else {
      res = {
        total_rows: totalRows,
        offset: skip,
        rows: results
      };
    }
    if (opts.include_docs) {
      var getDocsPromises = results.map(function (row) {
        var val = row.value;
        var docId = (val && typeof val === 'object' && val._id) || row.id;
        return view.sourceDB.get(docId).then(function (joinedDoc) {
          row.doc = joinedDoc;
        }, function () {
          // document error = don't join
        });
      });
      return Promise.all(getDocsPromises).then(function () {
        return res;
      });
    } else {
      return res;
    }
  }

  var flatten = function (array) {
    return array.reduce(function (prev, cur) {
      return prev.concat(cur);
    });
  };

  if (typeof opts.keys !== 'undefined') {
    var keys = opts.keys;
    var fetchPromises = keys.map(function (key) {
      var viewOpts = {
        startkey : toIndexableString([key]),
        endkey   : toIndexableString([key, {}])
      };
      return fetchFromView(viewOpts);
    });
    return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);
  } else { // normal query, no 'keys'
    var viewOpts = {
      descending : opts.descending
    };
    if (typeof opts.startkey !== 'undefined') {
      viewOpts.startkey = opts.descending ?
        toIndexableString([opts.startkey, {}]) :
        toIndexableString([opts.startkey]);
    }
    if (typeof opts.endkey !== 'undefined') {
      var inclusiveEnd = opts.inclusive_end !== false;
      if (opts.descending) {
        inclusiveEnd = !inclusiveEnd;
      }

      viewOpts.endkey = toIndexableString(inclusiveEnd ? [opts.endkey, {}] : [opts.endkey]);
    }
    if (typeof opts.key !== 'undefined') {
      var keyStart = toIndexableString([opts.key]);
      var keyEnd = toIndexableString([opts.key, {}]);
      if (viewOpts.descending) {
        viewOpts.endkey = keyStart;
        viewOpts.startkey = keyEnd;
      } else {
        viewOpts.startkey = keyStart;
        viewOpts.endkey = keyEnd;
      }
    }
    if (!shouldReduce) {
      if (typeof opts.limit === 'number') {
        viewOpts.limit = opts.limit;
      }
      viewOpts.skip = skip;
    }
    return fetchFromView(viewOpts).then(onMapResultsReady);
  }
});

function httpViewCleanup(db) {
  return db.request({
    method: 'POST',
    url: '_view_cleanup'
  });
}

var localViewCleanup = utils.sequentialize(mainQueue, function (db) {
  return db.get('_local/mrviews').then(function (metaDoc) {
    var docsToViews = {};
    Object.keys(metaDoc.views).forEach(function (fullViewName) {
      var parts = parseViewName(fullViewName);
      var designDocName = '_design/' + parts[0];
      var viewName = parts[1];
      docsToViews[designDocName] = docsToViews[designDocName] || {};
      docsToViews[designDocName][viewName] = true;
    });
    var opts = {
      keys : Object.keys(docsToViews),
      include_docs : true
    };
    return db.allDocs(opts).then(function (res) {
      var viewsToStatus = {};
      res.rows.forEach(function (row) {
        var ddocName = row.key.substring(8);
        Object.keys(docsToViews[row.key]).forEach(function (viewName) {
          var fullViewName = ddocName + '/' + viewName;
          /* istanbul ignore if */
          if (!metaDoc.views[fullViewName]) {
            // new format, without slashes, to support PouchDB 2.2.0
            // migration test in pouchdb's browser.migration.js verifies this
            fullViewName = viewName;
          }
          var viewDBNames = Object.keys(metaDoc.views[fullViewName]);
          // design doc deleted, or view function nonexistent
          var statusIsGood = row.doc && row.doc.views && row.doc.views[viewName];
          viewDBNames.forEach(function (viewDBName) {
            viewsToStatus[viewDBName] = viewsToStatus[viewDBName] || statusIsGood;
          });
        });
      });
      var dbsToDelete = Object.keys(viewsToStatus).filter(function (viewDBName) {
        return !viewsToStatus[viewDBName];
      });
      var destroyPromises = dbsToDelete.map(function (viewDBName) {
        return db.constructor.destroy(viewDBName, {adapter : db.adapter});
      });
      return Promise.all(destroyPromises).then(function () {
        return {ok: true};
      });
    });
  }, defaultsTo({ok: true}));
});

exports.viewCleanup = utils.callbackify(function () {
  var db = this;
  if (db.type() === 'http') {
    return httpViewCleanup(db);
  }
  return localViewCleanup(db);
});

function queryPromised(db, fun, opts) {
  if (db.type() === 'http') {
    return httpQuery(db, fun, opts);
  }

  if (typeof fun !== 'string') {
    // temp_view
    checkQueryParseError(opts, fun);

    var createViewOpts = {
      db : db,
      viewName : 'temp_view/temp_view',
      map : fun.map,
      reduce : fun.reduce,
      temporary : true
    };
    tempViewQueue.add(function () {
      return createView(createViewOpts).then(function (view) {
        function cleanup() {
          return view.db.destroy();
        }
        return utils.fin(updateView(view).then(function () {
          return queryView(view, opts);
        }), cleanup);
      });
    });
    return tempViewQueue.finish();
  } else {
    // persistent view
    var fullViewName = fun;
    var parts = parseViewName(fullViewName);
    var designDocName = parts[0];
    var viewName = parts[1];
    return db.get('_design/' + designDocName).then(function (doc) {
      var fun = doc.views && doc.views[viewName];

      if (!fun || typeof fun.map !== 'string') {
        throw new NotFoundError('ddoc ' + designDocName + ' has no view named ' +
          viewName);
      }
      checkQueryParseError(opts, fun);

      var createViewOpts = {
        db : db,
        viewName : fullViewName,
        map : fun.map,
        reduce : fun.reduce
      };
      return createView(createViewOpts).then(function (view) {
        if (opts.stale === 'ok' || opts.stale === 'update_after') {
          if (opts.stale === 'update_after') {
            process.nextTick(function () {
              updateView(view);
            });
          }
          return queryView(view, opts);
        } else { // stale not ok
          return updateView(view).then(function () {
            return queryView(view, opts);
          });
        }
      });
    });
  }
}

exports.query = function (fun, opts, callback) {
  if (typeof opts === 'function') {
    callback = opts;
    opts = {};
  }
  opts = utils.extend(true, {}, opts);

  if (typeof fun === 'function') {
    fun = {map : fun};
  }

  var db = this;
  var promise = Promise.resolve().then(function () {
    return queryPromised(db, fun, opts);
  });
  utils.promisedCallback(promise, callback);
  return promise;
};

function QueryParseError(message) {
  this.status = 400;
  this.name = 'query_parse_error';
  this.message = message;
  this.error = true;
  try {
    Error.captureStackTrace(this, QueryParseError);
  } catch (e) {}
}

utils.inherits(QueryParseError, Error);

function NotFoundError(message) {
  this.status = 404;
  this.name = 'not_found';
  this.message = message;
  this.error = true;
  try {
    Error.captureStackTrace(this, NotFoundError);
  } catch (e) {}
}

utils.inherits(NotFoundError, Error);

}).call(this,require("FWaASH"))
},{"./create-view":69,"./evalfunc":70,"./taskqueue":74,"./utils":76,"FWaASH":5,"pouchdb-collate":72}],72:[function(require,module,exports){
'use strict';

var MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE
var MAGNITUDE_DIGITS = 3; // ditto
var SEP = ''; // set to '_' for easier debugging 

var utils = require('./utils');

exports.collate = function (a, b) {

  if (a === b) {
    return 0;
  }

  a = exports.normalizeKey(a);
  b = exports.normalizeKey(b);

  var ai = collationIndex(a);
  var bi = collationIndex(b);
  if ((ai - bi) !== 0) {
    return ai - bi;
  }
  if (a === null) {
    return 0;
  }
  switch (typeof a) {
    case 'number':
      return a - b;
    case 'boolean':
      return a === b ? 0 : (a < b ? -1 : 1);
    case 'string':
      return stringCollate(a, b);
  }
  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);
};

// couch considers null/NaN/Infinity/-Infinity === undefined,
// for the purposes of mapreduce indexes. also, dates get stringified.
exports.normalizeKey = function (key) {
  switch (typeof key) {
    case 'undefined':
      return null;
    case 'number':
      if (key === Infinity || key === -Infinity || isNaN(key)) {
        return null;
      }
      return key;
    case 'object':
      var origKey = key;
      if (Array.isArray(key)) {
        var len = key.length;
        key = new Array(len);
        for (var i = 0; i < len; i++) {
          key[i] = exports.normalizeKey(origKey[i]);
        }
      } else if (key instanceof Date) {
        return key.toJSON();
      } else if (key !== null) { // generic object
        key = {};
        for (var k in origKey) {
          if (origKey.hasOwnProperty(k)) {
            var val = origKey[k];
            if (typeof val !== 'undefined') {
              key[k] = exports.normalizeKey(val);
            }
          }
        }
      }
  }
  return key;
};

function indexify(key) {
  if (key !== null) {
    switch (typeof key) {
      case 'boolean':
        return key ? 1 : 0;
      case 'number':
        return numToIndexableString(key);
      case 'string':
        // We've to be sure that key does not contain \u0000
        // Do order-preserving replacements:
        // 0 -> 1, 1
        // 1 -> 1, 2
        // 2 -> 2, 2
        return key
          .replace(/\u0002/g, '\u0002\u0002')
          .replace(/\u0001/g, '\u0001\u0002')
          .replace(/\u0000/g, '\u0001\u0001');
      case 'object':
        var isArray = Array.isArray(key);
        var arr = isArray ? key : Object.keys(key);
        var i = -1;
        var len = arr.length;
        var result = '';
        if (isArray) {
          while (++i < len) {
            result += exports.toIndexableString(arr[i]);
          }
        } else {
          while (++i < len) {
            var objKey = arr[i];
            result += exports.toIndexableString(objKey) +
                exports.toIndexableString(key[objKey]);
          }
        }
        return result;
    }
  }
  return '';
}

// convert the given key to a string that would be appropriate
// for lexical sorting, e.g. within a database, where the
// sorting is the same given by the collate() function.
exports.toIndexableString = function (key) {
  var zero = '\u0000';
  key = exports.normalizeKey(key);
  return collationIndex(key) + SEP + indexify(key) + zero;
};

function arrayCollate(a, b) {
  var len = Math.min(a.length, b.length);
  for (var i = 0; i < len; i++) {
    var sort = exports.collate(a[i], b[i]);
    if (sort !== 0) {
      return sort;
    }
  }
  return (a.length === b.length) ? 0 :
    (a.length > b.length) ? 1 : -1;
}
function stringCollate(a, b) {
  // See: https://github.com/daleharvey/pouchdb/issues/40
  // This is incompatible with the CouchDB implementation, but its the
  // best we can do for now
  return (a === b) ? 0 : ((a > b) ? 1 : -1);
}
function objectCollate(a, b) {
  var ak = Object.keys(a), bk = Object.keys(b);
  var len = Math.min(ak.length, bk.length);
  for (var i = 0; i < len; i++) {
    // First sort the keys
    var sort = exports.collate(ak[i], bk[i]);
    if (sort !== 0) {
      return sort;
    }
    // if the keys are equal sort the values
    sort = exports.collate(a[ak[i]], b[bk[i]]);
    if (sort !== 0) {
      return sort;
    }

  }
  return (ak.length === bk.length) ? 0 :
    (ak.length > bk.length) ? 1 : -1;
}
// The collation is defined by erlangs ordered terms
// the atoms null, true, false come first, then numbers, strings,
// arrays, then objects
// null/undefined/NaN/Infinity/-Infinity are all considered null
function collationIndex(x) {
  var id = ['boolean', 'number', 'string', 'object'];
  var idx = id.indexOf(typeof x);
  //false if -1 otherwise true, but fast!!!!1
  if (~idx) {
    if (x === null) {
      return 1;
    }
    if (Array.isArray(x)) {
      return 5;
    }
    return idx < 3 ? (idx + 2) : (idx + 3);
  }
  if (Array.isArray(x)) {
    return 5;
  }
}

// conversion:
// x yyy zz...zz
// x = 0 for negative, 1 for 0, 2 for positive
// y = exponent (for negative numbers negated) moved so that it's >= 0
// z = mantisse
function numToIndexableString(num) {

  if (num === 0) {
    return '1';
  }

  // convert number to exponential format for easier and
  // more succinct string sorting
  var expFormat = num.toExponential().split(/e\+?/);
  var magnitude = parseInt(expFormat[1], 10);

  var neg = num < 0;

  var result = neg ? '0' : '2';

  // first sort by magnitude
  // it's easier if all magnitudes are positive
  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);
  var magString = utils.padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);

  result += SEP + magString;

  // then sort by the factor
  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)
  if (neg) { // for negative reverse ordering
    factor = 10 - factor;
  }

  var factorStr = factor.toFixed(20);

  // strip zeros from the end
  factorStr = factorStr.replace(/\.?0+$/, '');

  result += SEP + factorStr;

  return result;
}

},{"./utils":73}],73:[function(require,module,exports){
'use strict';

function pad(str, padWith, upToLength) {
  var padding = '';
  var targetLength = upToLength - str.length;
  while (padding.length < targetLength) {
    padding += padWith;
  }
  return padding;
}

exports.padLeft = function (str, padWith, upToLength) {
  var padding = pad(str, padWith, upToLength);
  return padding + str;
};

exports.padRight = function (str, padWith, upToLength) {
  var padding = pad(str, padWith, upToLength);
  return str + padding;
};

exports.stringLexCompare = function (a, b) {

  var aLen = a.length;
  var bLen = b.length;

  var i;
  for (i = 0; i < aLen; i++) {
    if (i === bLen) {
      // b is shorter substring of a
      return 1;
    }
    var aChar = a.charAt(i);
    var bChar = b.charAt(i);
    if (aChar !== bChar) {
      return aChar < bChar ? -1 : 1;
    }
  }

  if (aLen < bLen) {
    // a is shorter substring of b
    return -1;
  }

  return 0;
};

/*
 * returns the decimal form for the given integer, i.e. writes
 * out all the digits (in base-10) instead of using scientific notation
 */
exports.intToDecimalForm = function (int) {

  var isNeg = int < 0;
  var result = '';

  do {
    var remainder = isNeg ? -Math.ceil(int % 10) : Math.floor(int % 10);

    result = remainder + result;
    int = isNeg ? Math.ceil(int / 10) : Math.floor(int / 10);
  } while (int);


  if (isNeg && result !== '0') {
    result = '-' + result;
  }

  return result;
};
},{}],74:[function(require,module,exports){
'use strict';
/*
 * Simple task queue to sequentialize actions. Assumes callbacks will eventually fire (once).
 */

var Promise = require('./utils').Promise;

function TaskQueue() {
  this.promise = new Promise(function (fulfill) {fulfill(); });
}
TaskQueue.prototype.add = function (promiseFactory) {
  this.promise = this.promise["catch"](function () {
    // just recover
  }).then(function () {
    return promiseFactory();
  });
  return this.promise;
};
TaskQueue.prototype.finish = function () {
  return this.promise;
};

module.exports = TaskQueue;

},{"./utils":76}],75:[function(require,module,exports){
'use strict';
var Promise = require('./utils').Promise;

// this is essentially the "update sugar" function from daleharvey/pouchdb#1388
// the diffFun tells us what delta to apply to the doc.  it either returns
// the doc, or false if it doesn't need to do an update after all
function upsert(db, docId, diffFun) {
  return new Promise(function (fulfill, reject) {
    if (docId && typeof docId === 'object') {
      docId = docId._id;
    }
    if (typeof docId !== 'string') {
      return reject(new Error('doc id is required'));
    }

    db.get(docId, function (err, doc) {
      if (err) {
        if (err.name !== 'not_found') {
          return reject(err);
        }
        return fulfill(tryAndPut(db, diffFun({_id : docId}), diffFun));
      }
      var newDoc = diffFun(doc);
      if (!newDoc) {
        return fulfill(doc);
      }
      fulfill(tryAndPut(db, newDoc, diffFun));
    });
  });
}

function tryAndPut(db, doc, diffFun) {
  return db.put(doc)["catch"](function (err) {
    if (err.name !== 'conflict') {
      throw err;
    }
    return upsert(db, doc, diffFun);
  });
}

module.exports = upsert;

},{"./utils":76}],76:[function(require,module,exports){
(function (process,global){
'use strict';
/* istanbul ignore if */
if (typeof global.Promise === 'function') {
  exports.Promise = global.Promise;
} else {
  exports.Promise = require('lie');
}
// uniquify a list, similar to underscore's _.uniq
exports.uniq = function (arr) {
  var map = {};
  arr.forEach(function (element) {
    map[element] = true;
  });
  return Object.keys(map);
};

exports.inherits = require('inherits');
exports.extend = require('pouchdb-extend');
var argsarray = require('argsarray');

exports.promisedCallback = function (promise, callback) {
  if (callback) {
    promise.then(function (res) {
      process.nextTick(function () {
        callback(null, res);
      });
    }, function (reason) {
      process.nextTick(function () {
        callback(reason);
      });
    });
  }
  return promise;
};

exports.callbackify = function (fun) {
  return argsarray(function (args) {
    var cb = args.pop();
    var promise = fun.apply(this, args);
    if (typeof cb === 'function') {
      exports.promisedCallback(promise, cb);
    }
    return promise;
  });
};

// Promise finally util similar to Q.finally
exports.fin = function (promise, cb) {
  return promise.then(function (res) {
    var promise2 = cb();
    if (typeof promise2.then === 'function') {
      return promise2.then(function () {
        return res;
      });
    }
    return res;
  }, function (reason) {
    var promise2 = cb();
    if (typeof promise2.then === 'function') {
      return promise2.then(function () {
        throw reason;
      });
    }
    throw reason;
  });
};

exports.sequentialize = function (queue, promiseFactory) {
  return function () {
    var args = arguments;
    var that = this;
    return queue.add(function () {
      return promiseFactory.apply(that, args);
    });
  };
};

var crypto = require('crypto');
var Md5 = require('spark-md5');

exports.MD5 = function (string) {
  /* istanbul ignore else */
  if (!process.browser) {
    return crypto.createHash('md5').update(string).digest('hex');
  } else {
    return Md5.hash(string);
  }
};
}).call(this,require("FWaASH"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"FWaASH":5,"argsarray":49,"crypto":3,"inherits":50,"lie":54,"pouchdb-extend":68,"spark-md5":77}],77:[function(require,module,exports){
/*jshint bitwise:false*/
/*global unescape*/

(function (factory) {
    if (typeof exports === 'object') {
        // Node/CommonJS
        module.exports = factory();
    } else if (typeof define === 'function' && define.amd) {
        // AMD
        define(factory);
    } else {
        // Browser globals (with support for web workers)
        var glob;
        try {
            glob = window;
        } catch (e) {
            glob = self;
        }

        glob.SparkMD5 = factory();
    }
}(function (undefined) {

    'use strict';

    ////////////////////////////////////////////////////////////////////////////

    /*
     * Fastest md5 implementation around (JKM md5)
     * Credits: Joseph Myers
     *
     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html
     * @see http://jsperf.com/md5-shootout/7
     */

    /* this function is much faster,
      so if possible we use it. Some IEs
      are the only ones I know of that
      need the idiotic second function,
      generated by an if clause.  */
    var add32 = function (a, b) {
        return (a + b) & 0xFFFFFFFF;
    },

    cmn = function (q, a, b, x, s, t) {
        a = add32(add32(a, q), add32(x, t));
        return add32((a << s) | (a >>> (32 - s)), b);
    },

    ff = function (a, b, c, d, x, s, t) {
        return cmn((b & c) | ((~b) & d), a, b, x, s, t);
    },

    gg = function (a, b, c, d, x, s, t) {
        return cmn((b & d) | (c & (~d)), a, b, x, s, t);
    },

    hh = function (a, b, c, d, x, s, t) {
        return cmn(b ^ c ^ d, a, b, x, s, t);
    },

    ii = function (a, b, c, d, x, s, t) {
        return cmn(c ^ (b | (~d)), a, b, x, s, t);
    },

    md5cycle = function (x, k) {
        var a = x[0],
            b = x[1],
            c = x[2],
            d = x[3];

        a = ff(a, b, c, d, k[0], 7, -680876936);
        d = ff(d, a, b, c, k[1], 12, -389564586);
        c = ff(c, d, a, b, k[2], 17, 606105819);
        b = ff(b, c, d, a, k[3], 22, -1044525330);
        a = ff(a, b, c, d, k[4], 7, -176418897);
        d = ff(d, a, b, c, k[5], 12, 1200080426);
        c = ff(c, d, a, b, k[6], 17, -1473231341);
        b = ff(b, c, d, a, k[7], 22, -45705983);
        a = ff(a, b, c, d, k[8], 7, 1770035416);
        d = ff(d, a, b, c, k[9], 12, -1958414417);
        c = ff(c, d, a, b, k[10], 17, -42063);
        b = ff(b, c, d, a, k[11], 22, -1990404162);
        a = ff(a, b, c, d, k[12], 7, 1804603682);
        d = ff(d, a, b, c, k[13], 12, -40341101);
        c = ff(c, d, a, b, k[14], 17, -1502002290);
        b = ff(b, c, d, a, k[15], 22, 1236535329);

        a = gg(a, b, c, d, k[1], 5, -165796510);
        d = gg(d, a, b, c, k[6], 9, -1069501632);
        c = gg(c, d, a, b, k[11], 14, 643717713);
        b = gg(b, c, d, a, k[0], 20, -373897302);
        a = gg(a, b, c, d, k[5], 5, -701558691);
        d = gg(d, a, b, c, k[10], 9, 38016083);
        c = gg(c, d, a, b, k[15], 14, -660478335);
        b = gg(b, c, d, a, k[4], 20, -405537848);
        a = gg(a, b, c, d, k[9], 5, 568446438);
        d = gg(d, a, b, c, k[14], 9, -1019803690);
        c = gg(c, d, a, b, k[3], 14, -187363961);
        b = gg(b, c, d, a, k[8], 20, 1163531501);
        a = gg(a, b, c, d, k[13], 5, -1444681467);
        d = gg(d, a, b, c, k[2], 9, -51403784);
        c = gg(c, d, a, b, k[7], 14, 1735328473);
        b = gg(b, c, d, a, k[12], 20, -1926607734);

        a = hh(a, b, c, d, k[5], 4, -378558);
        d = hh(d, a, b, c, k[8], 11, -2022574463);
        c = hh(c, d, a, b, k[11], 16, 1839030562);
        b = hh(b, c, d, a, k[14], 23, -35309556);
        a = hh(a, b, c, d, k[1], 4, -1530992060);
        d = hh(d, a, b, c, k[4], 11, 1272893353);
        c = hh(c, d, a, b, k[7], 16, -155497632);
        b = hh(b, c, d, a, k[10], 23, -1094730640);
        a = hh(a, b, c, d, k[13], 4, 681279174);
        d = hh(d, a, b, c, k[0], 11, -358537222);
        c = hh(c, d, a, b, k[3], 16, -722521979);
        b = hh(b, c, d, a, k[6], 23, 76029189);
        a = hh(a, b, c, d, k[9], 4, -640364487);
        d = hh(d, a, b, c, k[12], 11, -421815835);
        c = hh(c, d, a, b, k[15], 16, 530742520);
        b = hh(b, c, d, a, k[2], 23, -995338651);

        a = ii(a, b, c, d, k[0], 6, -198630844);
        d = ii(d, a, b, c, k[7], 10, 1126891415);
        c = ii(c, d, a, b, k[14], 15, -1416354905);
        b = ii(b, c, d, a, k[5], 21, -57434055);
        a = ii(a, b, c, d, k[12], 6, 1700485571);
        d = ii(d, a, b, c, k[3], 10, -1894986606);
        c = ii(c, d, a, b, k[10], 15, -1051523);
        b = ii(b, c, d, a, k[1], 21, -2054922799);
        a = ii(a, b, c, d, k[8], 6, 1873313359);
        d = ii(d, a, b, c, k[15], 10, -30611744);
        c = ii(c, d, a, b, k[6], 15, -1560198380);
        b = ii(b, c, d, a, k[13], 21, 1309151649);
        a = ii(a, b, c, d, k[4], 6, -145523070);
        d = ii(d, a, b, c, k[11], 10, -1120210379);
        c = ii(c, d, a, b, k[2], 15, 718787259);
        b = ii(b, c, d, a, k[9], 21, -343485551);

        x[0] = add32(a, x[0]);
        x[1] = add32(b, x[1]);
        x[2] = add32(c, x[2]);
        x[3] = add32(d, x[3]);
    },

    /* there needs to be support for Unicode here,
       * unless we pretend that we can redefine the MD-5
       * algorithm for multi-byte characters (perhaps
       * by adding every four 16-bit characters and
       * shortening the sum to 32 bits). Otherwise
       * I suggest performing MD-5 as if every character
       * was two bytes--e.g., 0040 0025 = @%--but then
       * how will an ordinary MD-5 sum be matched?
       * There is no way to standardize text to something
       * like UTF-8 before transformation; speed cost is
       * utterly prohibitive. The JavaScript standard
       * itself needs to look at this: it should start
       * providing access to strings as preformed UTF-8
       * 8-bit unsigned value arrays.
       */
    md5blk = function (s) {
        var md5blks = [],
            i; /* Andy King said do it this way. */

        for (i = 0; i < 64; i += 4) {
            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);
        }
        return md5blks;
    },

    md5blk_array = function (a) {
        var md5blks = [],
            i; /* Andy King said do it this way. */

        for (i = 0; i < 64; i += 4) {
            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);
        }
        return md5blks;
    },

    md51 = function (s) {
        var n = s.length,
            state = [1732584193, -271733879, -1732584194, 271733878],
            i,
            length,
            tail,
            tmp,
            lo,
            hi;

        for (i = 64; i <= n; i += 64) {
            md5cycle(state, md5blk(s.substring(i - 64, i)));
        }
        s = s.substring(i - 64);
        length = s.length;
        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (i = 0; i < length; i += 1) {
            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);
        }
        tail[i >> 2] |= 0x80 << ((i % 4) << 3);
        if (i > 55) {
            md5cycle(state, tail);
            for (i = 0; i < 16; i += 1) {
                tail[i] = 0;
            }
        }

        // Beware that the final length might not fit in 32 bits so we take care of that
        tmp = n * 8;
        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);
        lo = parseInt(tmp[2], 16);
        hi = parseInt(tmp[1], 16) || 0;

        tail[14] = lo;
        tail[15] = hi;

        md5cycle(state, tail);
        return state;
    },

    md51_array = function (a) {
        var n = a.length,
            state = [1732584193, -271733879, -1732584194, 271733878],
            i,
            length,
            tail,
            tmp,
            lo,
            hi;

        for (i = 64; i <= n; i += 64) {
            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));
        }

        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1
        // containing the last element of the parent array if the sub array specified starts
        // beyond the length of the parent array - weird.
        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue
        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);

        length = a.length;
        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (i = 0; i < length; i += 1) {
            tail[i >> 2] |= a[i] << ((i % 4) << 3);
        }

        tail[i >> 2] |= 0x80 << ((i % 4) << 3);
        if (i > 55) {
            md5cycle(state, tail);
            for (i = 0; i < 16; i += 1) {
                tail[i] = 0;
            }
        }

        // Beware that the final length might not fit in 32 bits so we take care of that
        tmp = n * 8;
        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);
        lo = parseInt(tmp[2], 16);
        hi = parseInt(tmp[1], 16) || 0;

        tail[14] = lo;
        tail[15] = hi;

        md5cycle(state, tail);

        return state;
    },

    hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'],

    rhex = function (n) {
        var s = '',
            j;
        for (j = 0; j < 4; j += 1) {
            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];
        }
        return s;
    },

    hex = function (x) {
        var i;
        for (i = 0; i < x.length; i += 1) {
            x[i] = rhex(x[i]);
        }
        return x.join('');
    },

    md5 = function (s) {
        return hex(md51(s));
    },



    ////////////////////////////////////////////////////////////////////////////

    /**
     * SparkMD5 OOP implementation.
     *
     * Use this class to perform an incremental md5, otherwise use the
     * static methods instead.
     */
    SparkMD5 = function () {
        // call reset to init the instance
        this.reset();
    };


    // In some cases the fast add32 function cannot be used..
    if (md5('hello') !== '5d41402abc4b2a76b9719d911017c592') {
        add32 = function (x, y) {
            var lsw = (x & 0xFFFF) + (y & 0xFFFF),
                msw = (x >> 16) + (y >> 16) + (lsw >> 16);
            return (msw << 16) | (lsw & 0xFFFF);
        };
    }


    /**
     * Appends a string.
     * A conversion will be applied if an utf8 string is detected.
     *
     * @param {String} str The string to be appended
     *
     * @return {SparkMD5} The instance itself
     */
    SparkMD5.prototype.append = function (str) {
        // converts the string to utf8 bytes if necessary
        if (/[\u0080-\uFFFF]/.test(str)) {
            str = unescape(encodeURIComponent(str));
        }

        // then append as binary
        this.appendBinary(str);

        return this;
    };

    /**
     * Appends a binary string.
     *
     * @param {String} contents The binary string to be appended
     *
     * @return {SparkMD5} The instance itself
     */
    SparkMD5.prototype.appendBinary = function (contents) {
        this._buff += contents;
        this._length += contents.length;

        var length = this._buff.length,
            i;

        for (i = 64; i <= length; i += 64) {
            md5cycle(this._state, md5blk(this._buff.substring(i - 64, i)));
        }

        this._buff = this._buff.substr(i - 64);

        return this;
    };

    /**
     * Finishes the incremental computation, reseting the internal state and
     * returning the result.
     * Use the raw parameter to obtain the raw result instead of the hex one.
     *
     * @param {Boolean} raw True to get the raw result, false to get the hex result
     *
     * @return {String|Array} The result
     */
    SparkMD5.prototype.end = function (raw) {
        var buff = this._buff,
            length = buff.length,
            i,
            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            ret;

        for (i = 0; i < length; i += 1) {
            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);
        }

        this._finish(tail, length);
        ret = !!raw ? this._state : hex(this._state);

        this.reset();

        return ret;
    };

    /**
     * Finish the final calculation based on the tail.
     *
     * @param {Array}  tail   The tail (will be modified)
     * @param {Number} length The length of the remaining buffer
     */
    SparkMD5.prototype._finish = function (tail, length) {
        var i = length,
            tmp,
            lo,
            hi;

        tail[i >> 2] |= 0x80 << ((i % 4) << 3);
        if (i > 55) {
            md5cycle(this._state, tail);
            for (i = 0; i < 16; i += 1) {
                tail[i] = 0;
            }
        }

        // Do the final computation based on the tail and length
        // Beware that the final length may not fit in 32 bits so we take care of that
        tmp = this._length * 8;
        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);
        lo = parseInt(tmp[2], 16);
        hi = parseInt(tmp[1], 16) || 0;

        tail[14] = lo;
        tail[15] = hi;
        md5cycle(this._state, tail);
    };

    /**
     * Resets the internal state of the computation.
     *
     * @return {SparkMD5} The instance itself
     */
    SparkMD5.prototype.reset = function () {
        this._buff = "";
        this._length = 0;
        this._state = [1732584193, -271733879, -1732584194, 271733878];

        return this;
    };

    /**
     * Releases memory used by the incremental buffer and other aditional
     * resources. If you plan to use the instance again, use reset instead.
     */
    SparkMD5.prototype.destroy = function () {
        delete this._state;
        delete this._buff;
        delete this._length;
    };


    /**
     * Performs the md5 hash on a string.
     * A conversion will be applied if utf8 string is detected.
     *
     * @param {String}  str The string
     * @param {Boolean} raw True to get the raw result, false to get the hex result
     *
     * @return {String|Array} The result
     */
    SparkMD5.hash = function (str, raw) {
        // converts the string to utf8 bytes if necessary
        if (/[\u0080-\uFFFF]/.test(str)) {
            str = unescape(encodeURIComponent(str));
        }

        var hash = md51(str);

        return !!raw ? hash : hex(hash);
    };

    /**
     * Performs the md5 hash on a binary string.
     *
     * @param {String}  content The binary string
     * @param {Boolean} raw     True to get the raw result, false to get the hex result
     *
     * @return {String|Array} The result
     */
    SparkMD5.hashBinary = function (content, raw) {
        var hash = md51(content);

        return !!raw ? hash : hex(hash);
    };

    /**
     * SparkMD5 OOP implementation for array buffers.
     *
     * Use this class to perform an incremental md5 ONLY for array buffers.
     */
    SparkMD5.ArrayBuffer = function () {
        // call reset to init the instance
        this.reset();
    };

    ////////////////////////////////////////////////////////////////////////////

    /**
     * Appends an array buffer.
     *
     * @param {ArrayBuffer} arr The array to be appended
     *
     * @return {SparkMD5.ArrayBuffer} The instance itself
     */
    SparkMD5.ArrayBuffer.prototype.append = function (arr) {
        // TODO: we could avoid the concatenation here but the algorithm would be more complex
        //       if you find yourself needing extra performance, please make a PR.
        var buff = this._concatArrayBuffer(this._buff, arr),
            length = buff.length,
            i;

        this._length += arr.byteLength;

        for (i = 64; i <= length; i += 64) {
            md5cycle(this._state, md5blk_array(buff.subarray(i - 64, i)));
        }

        // Avoids IE10 weirdness (documented above)
        this._buff = (i - 64) < length ? buff.subarray(i - 64) : new Uint8Array(0);

        return this;
    };

    /**
     * Finishes the incremental computation, reseting the internal state and
     * returning the result.
     * Use the raw parameter to obtain the raw result instead of the hex one.
     *
     * @param {Boolean} raw True to get the raw result, false to get the hex result
     *
     * @return {String|Array} The result
     */
    SparkMD5.ArrayBuffer.prototype.end = function (raw) {
        var buff = this._buff,
            length = buff.length,
            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            i,
            ret;

        for (i = 0; i < length; i += 1) {
            tail[i >> 2] |= buff[i] << ((i % 4) << 3);
        }

        this._finish(tail, length);
        ret = !!raw ? this._state : hex(this._state);

        this.reset();

        return ret;
    };

    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;

    /**
     * Resets the internal state of the computation.
     *
     * @return {SparkMD5.ArrayBuffer} The instance itself
     */
    SparkMD5.ArrayBuffer.prototype.reset = function () {
        this._buff = new Uint8Array(0);
        this._length = 0;
        this._state = [1732584193, -271733879, -1732584194, 271733878];

        return this;
    };

    /**
     * Releases memory used by the incremental buffer and other aditional
     * resources. If you plan to use the instance again, use reset instead.
     */
    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;

    /**
     * Concats two array buffers, returning a new one.
     *
     * @param  {ArrayBuffer} first  The first array buffer
     * @param  {ArrayBuffer} second The second array buffer
     *
     * @return {ArrayBuffer} The new array buffer
     */
    SparkMD5.ArrayBuffer.prototype._concatArrayBuffer = function (first, second) {
        var firstLength = first.length,
            result = new Uint8Array(firstLength + second.byteLength);

        result.set(first);
        result.set(new Uint8Array(second), firstLength);

        return result;
    };

    /**
     * Performs the md5 hash on an array buffer.
     *
     * @param {ArrayBuffer} arr The array buffer
     * @param {Boolean}     raw True to get the raw result, false to get the hex result
     *
     * @return {String|Array} The result
     */
    SparkMD5.ArrayBuffer.hash = function (arr, raw) {
        var hash = md51_array(new Uint8Array(arr));

        return !!raw ? hash : hex(hash);
    };

    return SparkMD5;
}));

},{}],"ractify":[function(require,module,exports){
module.exports=require('ZAm/jY');
},{}],"ZAm/jY":[function(require,module,exports){
throw new Error('require("ractify") is deprecated in 0.4.x. Replace with require("ractive/build/ractive.runtime"). See ractify readme for more details');
},{}],"apCE4A":[function(require,module,exports){
!function(t){"use strict";var e=t.Ractive,n=function(){var t={el:void 0,append:!1,template:{v:1,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1};return t}(),r={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},i=[],o=Object.prototype.hasOwnProperty,s=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),a=function(){var t=Object.prototype.toString;return function(e){return e&&"[object Object]"===t.call(e)}}(),u=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},h=function(t,e,n,r,i){var o,s,a;return t.push(function(){s=t.interpolate}),a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return i(t)&&i(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var r,i,o,a;if(!n(t)||!n(e))return null;for(r=[],i=[],a=o=Math.min(t.length,e.length);a--;)i[a]=s(t[a],e[a]);for(a=o;a<t.length;a+=1)r[a]=t[a];for(a=o;a<e.length;a+=1)r[a]=e[a];return function(t){for(var e=o;e--;)r[e]=i[e](t);return r}},object:function(t,n){var i,o,a,u,h;if(!r(t)||!r(n))return null;i=[],u={},a={};for(h in t)e.call(t,h)&&(e.call(n,h)?(i.push(h),a[h]=s(t[h],n[h])):u[h]=t[h]);for(h in n)e.call(n,h)&&!e.call(t,h)&&(u[h]=n[h]);return o=i.length,function(t){for(var e,n=o;n--;)e=i[n],u[e]=a[e](t);return u}},cssLength:function(t,e){var n,r,i,o,s,u,h,c;return 0!==t&&"string"!=typeof t||0!==e&&"string"!=typeof e?null:(n=a.exec(t),r=a.exec(e),i=n?n[2]:"",o=r?r[2]:"",i&&o&&i!==o?null:(h=i||o,s=n?+n[1]:0,u=r?+r[1]:0,c=u-s,c?function(t){return s+t*c+h}:function(){return s+h}))}}}(i,o,s,a,u),c=function(){var t;return t="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),f=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},l=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,i,o){var s;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof r)e.then(i,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)i(e);else{try{s=e.then}catch(a){return void o(a)}if("function"==typeof s){var u,h,c;h=function(e){u||(u=!0,n(t,e,i,o))},c=function(t){u||(u=!0,o(t))};try{s.call(e,h,c)}catch(a){if(!u)return o(a),void(u=!0)}}else i(e)}}var r,i={},o={},s={};return"function"==typeof l?r=l:(r=function(a){var u,h,c,f,l,d,p=[],v=[],m=i;c=function(n){return function(r){m===i&&(u=r,m=n,h=e(m===o?p:v,u),t(h))}},f=c(o),l=c(s);try{a(f,l)}catch(g){l(g)}return d={then:function(e,o){var s=new r(function(r,a){var u=function(t,e,i){e.push("function"==typeof t?function(e){var i;try{i=t(e),n(s,i,r,a)}catch(o){a(o)}}:i)};u(e,p,r),u(o,v,a),m!==i&&t(h)});return s}},d["catch"]=function(t){return this.then(null,t)},d},r.all=function(t){return new r(function(e,n){var r,i,o,s=[];if(!t.length)return void e(s);for(o=function(i){t[i].then(function(t){s[i]=t,--r||e(s)},n)},r=i=t.length;i--;)o(i)})},r.resolve=function(t){return new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})}),r}(),d=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),p=function(t){do if(t.context)return t.context;while(t=t.parent);return""},v=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},m=function(t,e,n){var r;t.push(function(){return r=t.runloop});var i=function(t,e,n,r,i){this.root=t,this.keypath=e,this.priority=i,this.otherInstance=n,this.otherKeypath=r,this.bind(),this.value=this.root.viewmodel.get(this.keypath)};return i.prototype={setValue:function(t){var i=this;return this.updating||this.counterpart&&this.counterpart.updating?void(this.value=t):void(e(t)&&t._ractive&&t._ractive.setting||n(t,this.value)||(this.updating=!0,r.addViewmodel(this.otherInstance.viewmodel),this.otherInstance.viewmodel.set(this.otherKeypath,t),this.value=t,r.scheduleTask(function(){return i.updating=!1})))},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(t){this.unbind(),this.keypath=t,this.counterpart.otherKeypath=t,this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}},function(t,e,n,r){var o,s,a,u,h,c;o=n+"="+r,a=t.bindings,a[o]||(a[o]=!0,s=t.instance,u=t.parentFragment.priority,h=new i(e,n,s,r,u),a.push(h),s.twoway&&(c=new i(s,r,e,n,1),a.push(c),h.counterpart=c,c.counterpart=h))}}(i,s,v),g=function(t,e,n){function r(t,e){var n;if("."===e)return t;if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error(i);n.pop(),e=e.substring(3)}return n.push(e),n.join(".")}return t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,"")}var i,o;return i='Could not resolve reference - too many "../" prefixes',o={evaluateWrapped:!0},function s(i,a,u){var h,c,f,l,d,p,v,m,g,y;if(a=t(a),"~/"===a.substr(0,2))return a.substring(2);if("."===a.charAt(0))return r(e(u),a);c=a.split(".")[0];do if(h=u.context,h&&(p=!0,d=i.viewmodel.get(h,o),d&&("object"==typeof d||"function"==typeof d)&&c in d))return h+"."+a;while(u=u.parent);if(c in i.data||c in i.viewmodel.computations)return a;if(i._parent&&!i.isolated){if(u=i.component.parentFragment,u.indexRefs&&void 0!==(f=u.indexRefs[a]))return i.component.indexRefBindings[a]=a,void i.viewmodel.set(a,f,!0);if(l=s(i._parent,a,u)){for(v=l.split("."),m=a.split(".");v.length>1&&m.length>1&&v[v.length-1]===m[m.length-1];)v.pop(),m.pop();return g=v.join("."),y=m.join("."),i.viewmodel.set(y,i._parent.viewmodel.get(g),!0),n(i.component,i._parent,g,y),a}}return p?void 0!==i.viewmodel.get(a)?a:void 0:a}}(d,p,m),y=function(t){function e(t){t.detach()}function n(t){t.detachNodes()}function r(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}var i=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};return i.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,r(this)},decrementTotal:function(){this.totalChildren-=1,r(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},remove:function(e){var n=e.isIntro?this.intros:this.outros;t(n,e),r(this)},init:function(){this.ready=!0,r(this)},detachNodes:function(){this.detachQueue.forEach(e),this.children.forEach(n)}},i}(f),w=function(t,e,n,r,i){function o(){var t,e,n;for(t=0;t<a.viewmodels.length;t+=1)e=a.viewmodels[t],n=e.applyChanges(),n&&e.ractive.fire("change",n);for(a.viewmodels.length=0,s(),t=0;t<a.views.length;t+=1)a.views[t].update();for(a.views.length=0,t=0;t<a.tasks.length;t+=1)a.tasks[t]();return a.tasks.length=0,a.viewmodels.length?o():void 0}function s(){var t,e,n;if(h.length)for(t=h.splice(0,h.length);e=t.pop();)e.keypath||(n=r(e.root,e.ref,e.parentFragment),void 0!==n?e.resolve(n):h.push(e))}var a,u,h=[];return u={start:function(t,e){var r,o;return e&&(r=new n(function(t){return o=t})),a={previousBatch:a,transitionManager:new i(o,a&&a.transitionManager),views:[],tasks:[],viewmodels:[]},t&&a.viewmodels.push(t.viewmodel),r},end:function(){o(),a.transitionManager.init(),a=a.previousBatch},addViewmodel:function(t){a?-1===a.viewmodels.indexOf(t)&&a.viewmodels.push(t):t.applyChanges()},registerTransition:function(t){t._manager=a.transitionManager,a.transitionManager.add(t)},addView:function(t){a.views.push(t)},addUnresolved:function(t){h.push(t)},removeUnresolved:function(t){e(h,t)},detachWhenReady:function(t){a.transitionManager.detachQueue.push(t)},scheduleTask:function(t){a?a.tasks.push(t):t()}},t.runloop=u,u}(i,f,l,g,y),b=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),E=function(t,e,n){function r(e,n,r){function i(e){var r,i;e.value=n,e.updating||(i=e.ractive,r=e.keypath,e.updating=!0,t.start(i),i.viewmodel.mark(r),t.end(),e.updating=!1)}var o,s,a,u,h,c;if(o=e.obj,s=e.prop,r&&!r.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}r&&(a=r.get,u=r.set),h=a||function(){return n},c=function(t){u&&u(t),n=a?a():t,c._ractiveWrappers.forEach(i)},c._ractiveWrappers=[e],Object.defineProperty(o,s,{get:h,set:c,enumerable:!0,configurable:!0})}var i,o;try{Object.defineProperty({},"test",{value:0}),i={filter:function(t,e,r){var i,o,s,a,u;return e?(i=e.split("."),o=i.pop(),s=i.join("."),(a=r.viewmodel.wrapped[s])&&!a.magic?!1:(u=r.get(s),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new o(t,e,n)}},o=function(t,e,n){var i,o,s,a;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=o?t.get(o):t.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers)?void(-1===a.indexOf(this)&&a.push(this)):void r(this,e,s)},o.prototype={get:function(){return this.value},reset:function(e){this.updating||(this.updating=!0,this.obj[this.prop]=e,t.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(s){i=!1}return i}(w,b,s),x=function(t){return!!t}(E),_={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},k=function(t,e){var n;return n=t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(c,_),O=function(){var t="object"==typeof document;return t}(),T=function(t){var e;try{Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),e=Object.defineProperty}catch(n){e=function(t,e,n){t[e]=n.value}}return e}(O),A=function(t,e,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}n&&Object.defineProperties(t("div"),{test:{value:0}}),r=Object.defineProperties}catch(i){r=function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}return r}(k,T,O),C=function(t){return function(e,n,r){var i;if("string"!=typeof n||!t(r))throw new Error("Bad arguments");if(i=+e.get(n)||0,!t(i))throw new Error("Cannot add to a non-numeric value");return e.set(n,i+r)}}(u),R=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(C),S=function(t){var e=/^\.+/;return function(n){return t(n).replace(e,"")}}(d),N=["o","ms","moz","webkit"],L=function(t){var e;return"undefined"==typeof window?e=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(t,0,window),e=window.requestAnimationFrame),e}(N),I=function(){var t;return t="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),P=function(t,e,n){var r=[],i={tick:function(){var o,s,a;for(a=e(),n.start(),o=0;o<r.length;o+=1)s=r[o],s.tick(a)||r.splice(o--,1);n.end(),r.length?t(i.tick):i.running=!1},add:function(e){r.push(e),i.running||(i.running=!0,t(i.tick))},abort:function(t,e){for(var n,i=r.length;i--;)n=r[i],n.root===e&&n.keypath===t&&n.stop()}};return i}(L,I,w),F=function(){var t,e={};return t="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(t,n){if(!n){if(e[t])return;e[t]=!0}console.warn(t)}:function(){}}(),j=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,r=/\/\*.*?\*\//g,i=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,o=/^@media/,s=/\[data-rvcguid="[a-z0-9-]+"]/g;return function(a,u){var h,c;return c=function(t){var n,r,o,s,a,h,c,f,l=[];for(n=[];r=i.exec(t);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(s='[data-rvcguid="'+u+'"]',a=n.map(e),f=n.length;f--;)c=a.slice(),o=n[f],c[f]=o.base+s+o.modifiers||"",h=a.slice(),h[f]=s+" "+h[f],l.push(c.join(" "),h.join(" "));return l.join(", ")},h=s.test(a)?a.replace(s,'[data-rvcguid="'+u+'"]'):a.replace(r,"").replace(n,function(e,n){var r,i;return o.test(n)?e:(r=n.split(",").map(t),i=r.map(c).join(", ")+" ",e.replace(n,i))})}}(),V=function(t){function e(t,e,r){var i,o=e.constructor._guid;(i=n(r.css,r,o)||n(t.css,t,o))&&(e.constructor.css=i)}function n(e,n,r){return e?n.noCssTransform?e:t(e,r):void 0}var r={name:"css",extend:e,init:function(){}};return r}(j),M=function(){function t(t,e){return"function"==typeof e&&/_super/.test(t)}return function(e,n,r){return r||t(e,n)?function(){var t,r="_super"in this,i=this._super;return this._super=n,t=e.apply(this,arguments),r&&(this._super=i),t}:e}}(),D=function(t){function e(t,e,n){var r=n.data||{},i=o(t.prototype.data);return s(i,r)}function n(t,n,r){n.data=e(t,n,r)}function r(t,n,r){var i=r.data,o=e(t,n,r);return"function"==typeof o&&(o=o.call(n,i)||i),n.data=o||{}}function i(t){var e=this.init(t.constructor,t,t);return e?(t.data=e,!0):void 0}function o(t){if("function"!=typeof t||!Object.keys(t).length)return t;var e={};return a(t,e),s(t,e)}function s(t,e){return"function"==typeof e?c(e,t):"function"==typeof t?h(e,t):u(e,t)}function a(t,e,n){for(var r in t)n&&r in e||(e[r]=t[r])}function u(t,e){return t=t||{},e?(a(e,t,!0),t):t}function h(t,e){return function(n){var r;if(t){r=[];for(var i in t)n&&i in n||r.push(i)}return n=e.call(this,n)||n,r&&r.length&&(n=n||{},r.forEach(function(e){n[e]=t[e]})),n}}function c(e,n){var r;return r="function"!=typeof n?function(t){u(t,n)}:function(e){return n=t(n,function(){},!0),n.call(this,e)||e},t(e,r)}var f={name:"data",extend:n,init:r,reset:i};return f}(M),U={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned'},B=null,W=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}return t}(),$=function(){var t,e,n;return"undefined"==typeof window&&(n=null),t=window,e=t.document,n={},e||(n=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in i)t.call(i,s)&&o.push(s);if(e)for(var a=0;r>a;a++)t.call(i,n[a])&&o.push(n[a]);return o}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),n=this.length;n>e;e++)if(this.hasOwnProperty(e)&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i,o=this,s=[];for(o instanceof String&&(o=o.toString(),i=!0),n=0,r=o.length;r>n;n+=1)(o.hasOwnProperty(n)||i)&&(s[n]=t.call(e,o[n],n,o));return s}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,r,i,o;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=this.length,o=!1,arguments.length>1&&(r=e,o=!0),n=0;i>n;n+=1)this.hasOwnProperty(n)?o&&(r=t(r,this[n],n,this)):(r=this[n],o=!0);if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),Array.prototype.filter||(Array.prototype.filter=function(t,e){var n,r,i=[];for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)&&(i[i.length]=this[n]);return i}),Array.prototype.every||(Array.prototype.every=function(t,e){var n,r,i;if(null==this)throw new TypeError;if(n=Object(this),r=n.length>>>0,"function"!=typeof t)throw new TypeError;for(i=0;r>i;i+=1)if(i in n&&!t.call(e,n[i],i,n))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e,n,r,i,o=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return e=o.call(arguments,1),n=this,r=function(){},i=function(){var i=this instanceof r&&t?this:t;return n.apply(i,e.concat(o.call(arguments)))},r.prototype=this.prototype,i.prototype=new r,i}),t.addEventListener||!function(t,e){var n,r,i,o,s,a;n=function(t,e){var n,r=this;for(n in t)r[n]=t[n];r.currentTarget=e,r.target=t.srcElement||e,r.timeStamp=+new Date,r.preventDefault=function(){t.returnValue=!1},r.stopPropagation=function(){t.cancelBubble=!0}},r=function(t,e){var r,i,o=this;r=o.listeners||(o.listeners=[]),i=r.length,r[i]=[e,function(t){e.call(o,new n(t,o))}],o.attachEvent("on"+t,r[i][1])},i=function(t,e){var n,r,i=this;if(i.listeners)for(n=i.listeners,r=n.length;r--;)n[r][0]===e&&i.detachEvent("on"+t,n[r][1])},t.addEventListener=e.addEventListener=r,t.removeEventListener=e.removeEventListener=i,"Element"in t?(t.Element.prototype.addEventListener=r,t.Element.prototype.removeEventListener=i):(a=e.createElement,e.createElement=function(t){var e=a(t);return e.addEventListener=r,e.removeEventListener=i,e},o=e.getElementsByTagName("head")[0],s=e.createElement("style"),o.insertBefore(s,o.firstChild))}(t,e),t.getComputedStyle||(n.getComputedStyle=function(){function t(n,r,i,o){var s,a=r[i],u=parseFloat(a),h=a.split(/\d/)[0];return isNaN(u)&&/^thin|medium|thick$/.test(a)&&(u=e(a),h=""),o=null!=o?o:/%|em/.test(h)&&n.parentElement?t(n.parentElement,n.parentElement.currentStyle,"fontSize",null):16,s="fontSize"==i?o:/width/i.test(i)?n.clientWidth:n.clientHeight,"em"==h?u*o:"in"==h?96*u:"pt"==h?96*u/72:"%"==h?u/100*s:u}function e(t){var e,n;return o[t]||(e=document.createElement("div"),e.style.display="block",e.style.position="fixed",e.style.width=e.style.height="0",e.style.borderRight=t+" solid black",document.getElementsByTagName("body")[0].appendChild(e),n=e.getBoundingClientRect(),o[t]=n.right-n.left),o[t]}function n(t,e){var n="border"==e?"Width":"",r=e+"Top"+n,i=e+"Right"+n,o=e+"Bottom"+n,s=e+"Left"+n;t[e]=(t[r]==t[i]==t[o]==t[s]?[t[r]]:t[r]==t[o]&&t[s]==t[i]?[t[r],t[i]]:t[s]==t[i]?[t[r],t[i],t[o]]:[t[r],t[i],t[o],t[s]]).join(" ")}function r(e){var r,i,o,s;r=e.currentStyle,i=this,o=t(e,r,"fontSize",null);for(s in r)/width|height|margin.|padding.|border.+W/.test(s)?"auto"===r[s]?/^width|height/.test(s)?i[s]=("width"===s?e.clientWidth:e.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(s)&&(i[s]="0px"):i[s]=t(e,r,s,o)+"px":"styleFloat"===s?i.float=r[s]:i[s]=r[s];return n(i,"margin"),n(i,"padding"),n(i,"border"),i.fontSize=o+"px",i}function i(t){return new r(t)}var o={};return r.prototype={constructor:r,getPropertyPriority:function(){},getPropertyValue:function(t){return this[t]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},i}()),n}(),H=function(){return function(t,e){var n=t.map(e);return t.forEach(function(t,e){n[t]=n[e]}),n}}($),q=function(t){var e,n;return e=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters"],n=t(e,function(t){return t})}(H),Q=function(t,e,n,r,i){function o(t){var e=r(f);return e.parse=function(e,n){return s(e,n||t)},e}function s(e,r){if(!n)throw new Error(t.missingParser);return n(e,r||this.options)}function a(t,n){var r;if(!e){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(u(t)&&(t=t.substring(1)),!(r=document.getElementById(t))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+t)}return r.innerHTML}function u(t){return"#"===t.charAt(0)}function h(t){return!("string"==typeof t)}function c(t){return t.defaults&&(t=t.defaults),i.reduce(function(e,n){return e[n]=t[n],e},{})}var f={parse:s,fromId:a,isHashedId:u,isParsed:h,getParseOptions:c,createHelper:o};return f}(U,O,B,W,q),G=function(t,e){function n(t){var e,n=t._config.template;if(n&&n.fn)return e=r(t,n.fn),e!==n.result?(n.result=e,e=i(e,t)):void 0}function r(e,n){var r=t.createHelper(t.getParseOptions(e));return n.call(e,e.data,r)}function i(n,r){if("string"==typeof n)"#"===n[0]&&(n=t.fromId(n)),n=e(n,t.getParseOptions(r));else if(1!==n.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return n}function o(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}var s={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,e.template="function"==typeof r?r:i(r,e))},init:function(t,e,n){var s,a;s="template"in n?n.template:t.prototype.template,"function"==typeof s&&(a=s,s=r(e,a),e._config.template={fn:a,result:s}),s=i(s,e),e.template=s.t,s.p&&o(e.partials,s.p)},reset:function(t){var e,r=n(t);return r?(e=i(r,t),t.template=e.t,o(t.partials,e.p,!0),!0):void 0}};return s}(Q,B),K=function(t){function e(t,e){this.name=t,this.useDefaults=e}function n(t,e){var r,i;return(r=e(t))?r:!t.isolated&&(i=t._parent)?n(i,e):void 0}return e.prototype={constructor:e,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,e,n)},configure:function(e,n,r){var i,o=this.name,s=r[o];i=t(e[o]);for(var a in s)i[a]=s[a];n[o]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n},findOwner:function(t,e){return t[this.name].hasOwnProperty(e)?t:this.findConstructor(t.constructor,e)},findConstructor:function(t,e){return t?t[this.name].hasOwnProperty(e)?t:this.findConstructor(t._parent,e):void 0},find:function(t,e){var r=this;return n(t,function(t){return t[r.name][e]})},findInstance:function(t,e){var r=this;return n(t,function(t){return t[r.name][e]?t:void 0})}},e}(W,$),z=function(t,e){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=t(n,function(t){return new e(t,"computed"===t)});return r}(H,K),Y=function(){},J=function(t){function e(e,n){var r;if(n in e){var i=e[n];r="function"==typeof i?i:function(){return i}}else r=t;return r}return function(t,n,r){if(!/_super/.test(r))return r;var i=function(){var t,o=e(i._parent,n),s="_super"in this,a=this._super;return this._super=o,t=r.apply(this,arguments),s?this._super=a:delete this._super,t};return i._parent=t,i._method=r,i}}(Y),X=function(t,e){function n(e,n,i){if(n in e){if(i in e)throw new Error(r(n,i,!0));t(r(n,i)),e[i]=e[n]}}function r(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function i(t){n(t,"eventDefinitions","events")}function o(t){e(t.adaptors)&&n(t,"adaptors","adapt")}return function(t){i(t),o(t)}}(F,s),Z=function(t,e,n,r,i,o,s,a){function u(t,e,n,r,i){c[e][t](n,r,i)}function h(t,e,r,i){a(i),u(t,"data",e,r,i),l.parseOptions.forEach(function(t){t in i&&(r[t]=i[t])});for(var o in i)if(o in n&&!(o in l.parseOptions)&&!(o in c)){var h=i[o];r[o]="function"==typeof h?s(e.prototype,o,h):h}l.registries.forEach(function(n){n[t](e,r,i)}),u(t,"template",e,r,i),u(t,"css",e,r,i)}var c,f,l;c={data:e,template:r,css:t},f=Object.keys(n).filter(function(t){return!o[t]&&!c[t]&&!i[t]}),l=[].concat(c.data,i,f,o,c.template,c.css);for(var d in c)l[d]=c[d];return l.keys=Object.keys(n).concat(o.map(function(t){return t.name})).concat(["css"]),l.parseOptions=i,l.registries=o,l.extend=function(t,e,n){h("extend",t,e,n)},l.init=function(t,e,n){h("init",t,e,n),e._config&&(e._config.options=n)},l.reset=function(t){return l.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},l}(V,D,n,G,q,z,J,X),te=function(t,e,n,r){function i(t){return function(){return t}}var o=function(t,o,s,a){if(t===o)return i(o);if(a){var u=r.registries.interpolators.find(s,a);if(u)return u(t,o)||i(o);e('Missing "'+a+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,o)||n.array(t,o)||n.object(t,o)||n.cssLength(t,o)||i(o)};return t.interpolate=o,o}(i,F,h,Z),ee=function(t,e,n){var r=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return r.prototype={tick:function(){var n,r,i,o,s,a;return a=this.keypath,this.running?(o=Date.now(),n=o-this.startTime,n>=this.duration?(null!==a&&(e.start(this.root),this.root.viewmodel.set(a,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),s=this.root._animations.indexOf(this),-1===s&&t("Animation was not found"),this.root._animations.splice(s,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==a&&(i=this.interpolator(r),e.start(this.root),this.root.viewmodel.set(a,i),e.end()),this.step&&this.step(r,i),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},r}(F,w,te),ne=function(t,e,n,r,i){function o(e,o,s,u){var h,c,f,l;return o&&(o=n(o)),null!==o&&(l=e.viewmodel.get(o)),r.abort(o,e),t(l,s)?(u.complete&&u.complete(u.to),a):(u.easing&&(h="function"==typeof u.easing?u.easing:e.easing[u.easing],"function"!=typeof h&&(h=null)),c=void 0===u.duration?400:u.duration,f=new i({keypath:o,from:l,to:s,root:e,duration:c,easing:h,interpolator:u.interpolator,step:u.step,complete:u.complete}),r.add(f),e._animations.push(f),f)}var s=function(){},a={stop:s};return function(t,n,r){var i,a,u,h,c,f,l,d,p,v,m,g,y,w;if(i=new e(function(t){a=t}),"object"==typeof t){r=n||{},f=r.easing,l=r.duration,c=[],d=r.step,p=r.complete,(d||p)&&(m={},r.step=null,r.complete=null,v=function(t){return function(e,n){m[t]=n}});for(u in t)t.hasOwnProperty(u)&&((d||p)&&(g=v(u),r={easing:f,duration:l},d&&(r.step=g)),r.complete=p?g:s,c.push(o(this,u,t[u],r)));return(d||p)&&(w={easing:f,duration:l},d&&(w.step=function(t){d(t,m)}),p&&i.then(function(t){p(t,m)}),w.complete=a,y=o(this,null,null,w),c.push(y)),{stop:function(){for(var t;t=c.pop();)t.stop();y&&y.stop()}}}return r=r||{},r.complete&&i.then(r.complete),r.complete=a,h=o(this,t,n,r),i.stop=function(){h.stop()},i}}(v,l,S,P,ee),re=function(t){return function(){return this.el&&t(this.el.__ractive_instances__,this),this.fragment.detach()}}(f),ie=function(t){return this.el?this.fragment.find(t):null},oe=function(t,e,n){var r,i,o,s,a,u,h,c;if(t){for(i=n("div"),o=["matches","matchesSelector"],c=function(t){return function(e,n){return e[t](n)}},u=o.length;u--&&!r;)if(s=o[u],i[s])r=c(s);else for(h=e.length;h--;)if(a=e[u]+s.substr(0,1).toUpperCase()+s.substring(1),i[a]){r=c(a);break}r||(r=function(t,e){var n,r,o;for(r=t.parentNode,r||(i.innerHTML="",r=i,t=t.cloneNode(),i.appendChild(t)),n=r.querySelectorAll(e),o=n.length;o--;)if(n[o]===t)return!0;return!1})}else r=null;return r}(O,N,k),se=function(t){return function(e,n){var r=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return r?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(oe),ae=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},ue=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,r;for(n=[e],r=t(e);r;)n.push(r),r=t(r);return n}return function(t,n){var r,i,o,s,a,u,h,c,f,l;for(r=e(t.component||t._ractive.proxy),i=e(n.component||n._ractive.proxy),o=r[r.length-1],s=i[i.length-1];o&&o===s;)r.pop(),i.pop(),a=o,o=r[r.length-1],s=i[i.length-1];if(o=o.component||o,s=s.component||s,f=o.parentFragment,l=s.parentFragment,f===l)return u=f.items.indexOf(o),h=l.items.indexOf(s),u-h||r.length-i.length;if(c=a.fragments)return u=c.indexOf(f),h=c.indexOf(l),u-h||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),he=function(t){return function(e,n){var r;return e.compareDocumentPosition?(r=e.compareDocumentPosition(n),2&r?1:-1):t(e,n)}}(ue),ce=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(he,ue),fe=function(t){return function(){var e=this;this._dirty||(this._dirty=!0,t.scheduleTask(function(){e._sort()}))}}(w),le=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},de=function(t,e,n,r,i,o){return function(s,a,u,h){var c=[];return t(c,{selector:{value:a},live:{value:u},_isComponentQuery:{value:h},_test:{value:e}}),u?(t(c,{cancel:{value:n},_root:{value:s},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),c):c}}(A,se,ae,ce,fe,le),pe=function(t){return function(e,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!1),i.live&&(r.push(e),r["_"+e]=i),this.fragment.findAll(e,i),i)):[]}}(de),ve=function(t){return function(e,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!0),i.live&&(r.push(e),r["_"+e]=i),this.fragment.findAllComponents(e,i),i)
}}(de),me=function(t){return this.fragment.findComponent(t)},ge=function(t){var e,n,r,i=this._subs[t];if(i)for(e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;r>n;n+=1)i[n].apply(this,e)},ye=function(t){var e={capture:!0};return function(n){return n=t(n),this.viewmodel.get(n,e)}}(S),we=function(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},be=function(t){return function(e,n){if(!this.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this)}}(we),Ee=function(t,e,n){return function(r,i,o){var s,a;return r=n(r),s=this.viewmodel.get(r),e(s)&&e(i)?(a=t.start(this,!0),this.viewmodel.merge(r,s,i,o),t.end(),o&&o.complete&&a.then(o.complete),a):this.set(r,i,o&&o.complete)}}(w,s,S),xe=function(t,e){var n=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.priority=0,this.context=r&&r.context?r.context:t};return n.prototype={init:function(t){this.value=this.root.viewmodel.get(this.keypath),t!==!1&&this.update()},setValue:function(n){var r=this;e(n,this.value)||(this.value=n,this.defer&&this.ready?t.scheduleTask(function(){return r.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}},n}(w,v),_e=function(t){return function(e,n){function r(n,r){var i,o,s;i=e.viewmodel.wrapped[r]?e.viewmodel.wrapped[r].get():e.get(r);for(o in i)!i.hasOwnProperty(o)||"_ractive"===o&&t(i)||(s=r?r+"."+o:o,n.push(s));return n}function i(t){return function(e){return e?e+"."+t:t}}var o,s,a;for(o=n.split("."),a=[""];s=o.shift();)"*"===s?a=a.reduce(r,[]):""===a[0]?a[0]=s:a=a.map(i(s));return a}}(s),ke=function(t){return function(e,n){var r,i;return r=t(e,n),i={},r.forEach(function(t){i[t]=e.get(t)}),i}}(_e),Oe=function(t,e,n){var r,i=/\*/,o=Array.prototype.slice;return r=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:t},r.prototype={init:function(t){var e,r;if(e=n(this.root,this.keypath),t!==!1)for(r in e)e.hasOwnProperty(r)&&this.update(r);else this.values=e},update:function(e){var r;if(i.test(e)){r=n(this.root,e);for(e in r)r.hasOwnProperty(e)&&this.update(e)}else if(!this.root.viewmodel.implicitChanges[e])return this.defer&&this.ready?void t.addObserver(this.getProxy(e)):void this.reallyUpdate(e)},reallyUpdate:function(t){var n,r,i;return n=this.root.viewmodel.get(t),this.updating?void(this.values[t]=n):(this.updating=!0,e(n,this.values[t])&&this.ready||(r=o.call(this.regex.exec(t),1),i=[n,this.values[t],t].concat(r),this.callback.apply(this.context,i),this.values[t]=n),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},r}(w,v,ke),Te=function(t,e,n){var r=/\*/,i={};return function(o,s,a,u){var h,c,f;return s=t(s),u=u||i,r.test(s)?(h=new n(o,s,a,u),o.viewmodel.patternObservers.push(h),c=!0):h=new e(o,s,a,u),o.viewmodel.register(s,h,c?"patternObservers":"observers"),h.init(u.init),h.ready=!0,{cancel:function(){var t;f||(c&&(t=o.viewmodel.patternObservers.indexOf(h),o.viewmodel.patternObservers.splice(t,1),o.viewmodel.unregister(s,h,"patternObservers")),o.viewmodel.unregister(s,h,"observers"),f=!0)}}}}(S,xe,Oe),Ae=function(t,e){return function(n,r,i){var o,s,a,u;if(t(n)){i=r,s=n,o=[];for(n in s)s.hasOwnProperty(n)&&(r=s[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",e(this,n,r,i);if(a=n.split(" "),1===a.length)return e(this,n,r,i);for(o=[],u=a.length;u--;)n=a[u],n&&o.push(e(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(a,Te),Ce=function(t){return t.trim()},Re=function(t){return""!==t},Se=function(t,e){return function(n,r){var i,o=this;if(n)i=n.split(" ").map(t).filter(e),i.forEach(function(t){var e,n;(e=o._subs[t])&&(r?(n=e.indexOf(r),-1!==n&&e.splice(n,1)):o._subs[t]=[])});else for(n in this._subs)delete this._subs[n];return this}}(Ce,Re),Ne=function(t,e){return function(n,r){var i,o,s,a=this,u=this;if("object"==typeof n){i=[];for(o in n)n.hasOwnProperty(o)&&i.push(this.on(o,n[o]));return{cancel:function(){for(var t;t=i.pop();)t.cancel()}}}return s=n.split(" ").map(t).filter(e),s.forEach(function(t){(a._subs[t]||(a._subs[t]=[])).push(r)}),{cancel:function(){u.off(n,r)}}}}(Ce,Re),Le=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},Ie=function(t,e){var n,r,i,o,s,a;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),o=Math.max(0,e.length-2),s=void 0!==e[1]?e[1]:t.length-n,s=Math.min(s,t.length-n),a=o-s,i=t.length+a,r=a?Math.max(t.length,i):n+o,{rangeStart:n,rangeEnd:r,balance:a,added:o,removed:s}):null},Pe=function(t,e,n,r){var i=Array.prototype;return function(o){return function(s){var a,u,h,c,f=Array.prototype.slice,l=f.call(arguments,1);if(a=this.get(s),!t(a))throw new Error("Called ractive."+o+"('"+s+"'), but '"+s+"' does not refer to an array");return u=n(a,o,l),h=r(a,u),i[o].apply(a,l),c=e.start(this,!0),h?this.viewmodel.splice(s,h):this.viewmodel.mark(s),e.end(),c}}}(s,w,Le,Ie),Fe=function(t){return t("pop")}(Pe),je=function(t){return t("push")}(Pe),Ve=function(t,e,n){var r,i,o,s,a,u,h,c="/* Ractive.js component styles */\n",f={},l=[];return e?(t.push(function(){o=t.runloop}),s=document.createElement("style"),s.type="text/css",a=document.getElementsByTagName("head")[0],h=!1,u=s.styleSheet,i=function(){var t;l.length?(t=c+l.join(" "),u?u.cssText=t:s.innerHTML=t,h||(a.appendChild(s),h=!0)):h&&(a.removeChild(s),h=!1)},r={add:function(t){t.css&&(f[t._guid]||(f[t._guid]=0,l.push(t.css),o.scheduleTask(i)),f[t._guid]+=1)},remove:function(t){t.css&&(f[t._guid]-=1,f[t._guid]||(n(l,t.css),o.scheduleTask(i)))}}):r=null,r}(i,O,f),Me=function(t,e,n){function r(t){t.init&&t.init(t._config.options),i(t).forEach(r),o[t._guid]=null}function i(t){return o[t._guid]||(o[t._guid]=[])}var o={},s={};return function(o,a){var u,h,c=this;if(s[this._guid]=!0,u=t.start(this,!0),this.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return o=n(o)||this.el,a=n(a)||this.anchor,this.el=o,this.anchor=a,this.constructor.css&&e.add(this.constructor),o&&((h=o.__ractive_instances__)?h.push(this):o.__ractive_instances__=[this],a?o.insertBefore(this.fragment.render(),a):o.appendChild(this.fragment.render())),this._hasInited||(this._hasInited=!0,this._parent&&s[this._parent._guid]?i(this._parent).push(this):r(this)),s[this._guid]=!1,t.end(),this.rendered=!0,this.complete&&u.then(function(){return c.complete()}),u}}(w,Ve,we),De=function(){this.dirtyValue=this.dirtyArgs=!0,this.inited&&this.owner.bubble&&this.owner.bubble()},Ue=function(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.detach())}),t)},Be=function(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}},We=function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e},$e=function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e},He=function(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}},qe=function(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},Qe=function(){return this.items&&this.items[0]?this.items[0].firstNode():null},Ge=function(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.el},Ke={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53},ze={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},Ye=function(t){var e=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;return(r=n.matchPattern(e))?{t:t.NUMBER_LITERAL,v:r}:null}}(Ke),Je=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}(Ke),Xe=function(){var t,e,n;return t=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,e=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(r){return function(i){var o,s,a,u;for(o=i.pos,s='"',a=!1;!a;)u=i.matchPattern(t)||i.matchPattern(e)||i.matchString(r),u?s+='"'===u?'\\"':"\\'"===u?"'":u:(u=i.matchPattern(n),u?s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):a=!0);return s+='"',JSON.parse(s)}}}(),Ze=function(t){return t('"')}(Xe),tn=function(t){return t("'")}(Xe),en=function(t,e,n){return function(r){var i,o;return i=r.pos,r.matchString('"')?(o=n(r),r.matchString('"')?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):r.matchString("'")?(o=e(r),r.matchString("'")?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}(Ke,Ze,tn),nn={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},rn=function(t,e,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=t(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(i))?o.v:(o=i.matchPattern(n.name))?o:void 0}}(en,Ye,nn),on=function(t,e){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=e(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.matchString(":")?(n.allowWhitespace(),o=n.readExpression(),null===o?(n.pos=r,null):{t:t.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(Ke,rn),sn=function(t){return function e(n){var r,i,o,s;return r=n.pos,o=t(n),null===o?null:(i=[o],n.matchString(",")?(s=e(n),s?i.concat(s):(n.pos=r,null)):i)}}(on),an=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("{")?(i=e(n),n.allowWhitespace(),n.matchString("}")?{t:t.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(Ke,sn),un=function(t){return function e(n){function r(t){o.push(t)}var i,o,s,a;return i=n.pos,n.allowWhitespace(),s=n.readExpression(),null===s?null:(o=[s],n.allowWhitespace(),n.matchString(",")&&(a=e(n),null===a&&n.error(t.expectedExpression),a.forEach(r)),o)}}(ze),hn=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("[")?(i=e(n),n.matchString("]")?{t:t.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(Ke,un),cn=function(t,e,n,r,i){return function(o){var s=t(o)||e(o)||n(o)||r(o)||i(o);return s}}(Ye,Je,en,an,hn),fn=function(t,e){var n,r,i,o,s;return n=/^\.[a-zA-Z_$0-9]+/,i=function(t){var e=t.matchPattern(r);return e?"."+e:null},r=/^\[(0|[1-9][0-9]*)\]/,o=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,s=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,function(r){var a,u,h,c,f,l,d;if(a=r.pos,r.matchString("~/"))u="~/";else for(u="";r.matchString("../");)u+="../";if(u||(c=r.matchString(".")||""),h=r.matchPattern(/^@(?:index|key)/)||r.matchPattern(e.name)||"",s.test(h))return r.pos=a,null;if(!u&&!c&&o.test(h))return{t:t.GLOBAL,v:h};if(f=(u||c)+h,!f)return null;for(;l=r.matchPattern(n)||i(r);)f+=l;return r.matchString("(")&&(d=f.lastIndexOf("."),-1!==d?(f=f.substr(0,d),r.pos=a+f.length):r.pos-=1),{t:t.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}}}(Ke,nn),ln=function(t,e){return function(n){var r,i;return r=n.pos,n.matchString("(")?(n.allowWhitespace(),i=n.readExpression(),i||n.error(e.expectedExpression),n.allowWhitespace(),n.matchString(")")||n.error(e.expectedParen),{t:t.BRACKETED,x:i}):null}}(Ke,ze),dn=function(t,e,n){return function(r){return t(r)||e(r)||n(r)}}(cn,fn,ln),pn=function(t,e,n){return function(r){var i,o,s;if(i=r.pos,r.allowWhitespace(),r.matchString(".")){if(r.allowWhitespace(),o=r.matchPattern(n.name))return{t:t.REFINEMENT,n:o};r.error("Expected a property name")}return r.matchString("[")?(r.allowWhitespace(),s=r.readExpression(),s||r.error(e.expectedExpression),r.allowWhitespace(),r.matchString("]")||r.error("Expected ']'"),{t:t.REFINEMENT,x:s}):null}}(Ke,ze,nn),vn=function(t,e,n,r,i){return function(o){var s,a,u,h;if(a=e(o),!a)return null;for(;a;)if(s=o.pos,u=r(o))a={t:t.MEMBER,x:a,r:u};else{if(!o.matchString("("))break;o.allowWhitespace(),h=n(o),o.allowWhitespace(),o.matchString(")")||o.error(i.expectedParen),a={t:t.INVOCATION,x:a},h&&(a.o=h)}return a}}(Ke,dn,un,pn,ze),mn=function(t,e,n){var r,i;return i=function(n,r){return function(i){var o;return(o=r(i))?o:i.matchString(n)?(i.allowWhitespace(),o=i.readExpression(),o||i.error(e.expectedExpression),{s:n,o:o,t:t.PREFIX_OPERATOR}):null}},function(){var t,e,o,s,a;for(s="! ~ + - typeof".split(" "),a=n,t=0,e=s.length;e>t;t+=1)o=i(s[t],a),a=o;r=a}(),r}(Ke,ze,vn),gn=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o,s;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.matchString(e))return r.pos=i,o;if("in"===e&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),s=n(r),!s)return r.pos=i,o;o={t:t.INFIX_OPERATOR,s:e,o:[o,s]}}}},function(){var t,i,o,s,a;for(s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(Ke,mn),yn=function(t,e,n){return function(r){var i,o,s,a;return(o=e(r))?(i=r.pos,r.allowWhitespace(),r.matchString("?")?(r.allowWhitespace(),s=r.readExpression(),s||r.error(n.expectedExpression),r.allowWhitespace(),r.matchString(":")||r.error('Expected ":"'),r.allowWhitespace(),a=r.readExpression(),a||r.error(n.expectedExpression),{t:t.CONDITIONAL,o:[o,s,a]}):(r.pos=i,o)):null}}(Ke,gn,ze),wn=function(t,e){function n(t){return JSON.stringify(String(t))}function r(n,i){var o,s;if(n.t===t.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),s=n.o||n.m)if(e(s))r(s,i);else for(o=s.length;o--;)r(s[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(e,r,o){var s=function(t){return i(e,t,o)};switch(r.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return r.v;case t.STRING_LITERAL:return n(r.v);case t.ARRAY_LITERAL:return"["+(r.m?r.m.map(s).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(r.m?r.m.map(s).join(","):"")+"}";case t.KEY_VALUE_PAIR:return r.k+":"+i(e,r.v,o);case t.PREFIX_OPERATOR:return("typeof"===r.s?"typeof ":r.s)+i(e,r.o,o);case t.INFIX_OPERATOR:return i(e,r.o[0],o)+("in"===r.s.substr(0,2)?" "+r.s+" ":r.s)+i(e,r.o[1],o);case t.INVOCATION:return i(e,r.x,o)+"("+(r.o?r.o.map(s).join(","):"")+")";case t.BRACKETED:return"("+i(e,r.x,o)+")";case t.MEMBER:return i(e,r.x,o)+i(e,r.r,o);case t.REFINEMENT:return r.n?"."+r.n:"["+i(e,r.x,o)+"]";case t.CONDITIONAL:return i(e,r.o[0],o)+"?"+i(e,r.o[1],o)+":"+i(e,r.o[2],o);case t.REFERENCE:return"${"+o.indexOf(r.n)+"}";default:e.error("Expected legal JavaScript")}}return function(t){var e,n=[];return r(t,n),e={r:n,s:i(this,t,n)}}}(Ke,a),bn=function(t,e,n,r,i){var o,s,a=/^\s+/;return s=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},s.prototype=Error.prototype,o=function(t,e){var n,r;for(this.str=t,this.options=e||{},this.pos=0,this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},o.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(){var t,e,n,r,i,o;t=this.str.split("\n"),i=-1,r=0;do n=r,i++,e=t[i],r+=e.length+1;while(r<=this.pos);return o=this.pos-n,{line:i+1,ch:o+1,text:e,toJSON:function(){return[this.line,this.ch]},toString:function(){return"line "+this.line+" character "+this.ch+":\n"+this.text+"\n"+this.text.substr(0,this.ch-1).replace(/[\S]/g," ")+"^----"}}},error:function(t){var e,n;throw e=this.getLinePos(),n=t+" at "+e,new s(n)},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(a)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},o.extend=function(t){var r,i,s=this;r=function(t,e){o.call(this,t,e)},r.prototype=e(s.prototype);for(i in t)n.call(t,i)&&(r.prototype[i]=t[i]);return r.extend=o.extend,r},t.Parser=o,o}(i,W,o,yn,wn),En=function(t,e,n){function r(t){var e,r,i;return t.allowWhitespace(),(e=n(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(r=t.read())?(i.value=r.v,i):null):null):null}var i,o,s,a,u,h,c;return o={"true":!0,"false":!1,undefined:void 0,"null":null},s=new RegExp("^(?:"+Object.keys(o).join("|")+")"),a=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,u=/\$\{([^\}]+)\}/g,h=/^\$\{([^\}]+)\}/,c=/^\s*$/,i=t.extend({init:function(t,e){this.values=e.values},postProcess:function(t){return 1===t.length&&c.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(h),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(s))?{v:o[e]}:void 0},function(t){var e;return(e=t.matchPattern(a))?{v:+e}:void 0},function(t){var n,r=e(t);return r&&(n=t.values)?{v:r.v.replace(u,function(t,e){return e in n?n[e]:e})}:r},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=r(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]}),function(t,e){var n=new i(t,{values:e});return n.result}}(bn,en,rn),xn=function(t){function e(t,n,r,i){return i=i||0,t.map(function(t){var o,s,a;return t.text?t.text:t.fragments?t.fragments.map(function(t){return e(t.items,n,r,i)}).join(""):(o=r+"-"+i++,a=(s=t.root.viewmodel.wrapped[t.keypath])?s.value:t.getValue(),n[o]=a,"${"+o+"}")}).join("")}var n={};return function(){var r=arguments[0];void 0===r&&(r=n);var i,o,s,a,u,h,c;return i=r.args,u=i?"argsList":"value",h=i?"dirtyArgs":"dirtyValue",this[h]&&(s=e(this.items,o={},this.root._guid),a=t(i?"["+s+"]":s,o),c=a?a.value:i?[this.toString()]:this.toString(),this[u]=c,this[h]=!1),this[u]}}(En),_n=function(){var t=/</g,e=/>/g;return function(n){return n.replace(t,"&lt;").replace(e,"&gt;")}}(),kn=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t),t},On=function(t){return function(){return t(this.node)}}(kn),Tn=function(t,e,n){var r=function(e){this.type=t.TEXT,this.text=e.template};return r.prototype={detach:n,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?e(this.text):this.text},unrender:function(t){return t?this.detach():void 0}},r}(Ke,_n,On),An=function(t){return function(){this.keypath?this.root.viewmodel.unregister(this.keypath,this):t.removeUnresolved(this),this.resolver&&this.resolver.teardown()}}(w),Cn=function(){return this.value},Rn=function(t){var e=function(e,n,r,i){this.root=e,this.ref=n,this.parentFragment=r,this.resolve=i,t.addUnresolved(this)};return e.prototype={teardown:function(){t.removeUnresolved(this)}},e}(w),Sn=function(t,e){return t.substr(0,e.length+1)===e+"."},Nn=function(t){return function(e,n,r){return e===n?r:t(e,n)?e.replace(n+".",r+"."):void 0}}(Sn),Ln=function(t,e){function n(t){var n=e[t.message]||t.message||"";return r(n,t.args)}function r(t,e){return t.replace(/{([^{}]*)}/g,function(t,n){return e[n]})}var i={warn:function(t,e){(t.debug||e)&&this.logger(n(t),t.allowDuplicates)},error:function(t){this.errorOnly(t),t.debug||this.warn(t,!0)},errorOnly:function(t){t.debug&&this.critical(t)},critical:function(t){var e=t.err||new Error(n(t));this.thrower(e)},logger:t,thrower:function(t){throw t}};return i}(F,U),In=function(t,e,n){var r,i;for(r=e.length;r--;)i=e[r],-1===n.indexOf(i)&&t.viewmodel.unregister(i,t,"computed");for(r=n.length;r--;)i=n[r],-1===e.indexOf(i)&&t.viewmodel.register(i,t,"computed");t.dependencies=n.slice()},Pn=function(t,e,n,r){function i(t,e){var n,r;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),u[t])return u[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),u[t]=n,n}function o(t,e){var r,i;return t._noWrap?t:(i="__ractive_"+e._guid,(r=t[i])?r:/this/.test(t.toString())?(n(t,i,{value:t.bind(e)}),t[i]):(n(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap))}function s(t){return"function"==typeof t?t():t}var a,u={};return a=function(t,e,n,r,s,a){var u=this,h=t.viewmodel;u.root=t,u.viewmodel=h,u.uniqueString=n,u.keypath=e,u.priority=a,u.fn=i(r,s.length),u.explicitDependencies=[],u.dependencies=[],u.argumentGetters=s.map(function(e){var n,r;return e?e.indexRef?r=e.value:(n=e.keypath,u.explicitDependencies.push(n),h.register(n,u,"computed"),function(){var e=h.get(n);return"function"==typeof e?o(e,t):e}):void 0})},a.prototype={wake:function(){this.awake=!0},sleep:function(){this.awake=!1},getValue:function(){var e,n,i;if(e=this.argumentGetters.map(s),!this.updating){this.updating=!0,this.viewmodel.capture();try{n=this.fn.apply(null,e)}catch(o){this.root.debug&&t.warn({debug:this.root.debug,message:"evaluationError",args:{uniqueString:this.uniqueString,err:o.message||o}}),n=void 0}return i=this.viewmodel.release(),r(this,this.dependencies,i),this.updating=!1,n}},update:function(){var t=this.getValue();return e(t,this.value)||(this.value=t,this.root.viewmodel.mark(this.keypath)),this},teardown:function(){var t=this;this.explicitDependencies.concat(this.dependencies).forEach(function(e){return t.viewmodel.unregister(e,t,"computed")}),this.root.viewmodel.evaluators[this.keypath]=null}},a}(Ln,v,T,In),Fn=function(t,e,n,r,i){function o(t,e){return t.replace(/\$\{([0-9]+)\}/g,function(t,n){var r=e[n];return r?r.indexRef?r.value:r.keypath:"undefined"})}function s(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var a=function(r,i,o,s){var a,u,h,c=this;return a=r.root,this.root=a,this.callback=s,this.owner=r,this.str=o.s,this.args=h=[],this.unresolved=[],this.pending=0,u=i.indexRefs,o.r&&o.r.length?(o.r.forEach(function(r,o){var s,f,l;return u&&void 0!==(s=u[r])?void(h[o]={indexRef:r,value:s}):(f=e(a,r,i))?void(h[o]={keypath:f}):(h[o]=null,c.pending+=1,l=new n(a,r,i,function(e){c.resolve(o,e),t(c.unresolved,l)}),void c.unresolved.push(l))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return a.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=s(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t=this.root.viewmodel.evaluators[this.keypath];t||(t=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root.viewmodel.evaluators[this.keypath]=t),t.update()},rebind:function(t,e,n,r){var o;this.args.forEach(function(s){var a;s&&(s.keypath&&(a=i(s.keypath,n,r))?(s.keypath=a,o=!0):s.indexRef&&s.indexRef===t&&(s.value=e,o=!0))}),o&&this.bubble()}},a}(f,g,Rn,Pn,Nn),jn=function(t,e,n,r,i){var o=function(r,o,s){var a,u,h,c,f,l=this;l.resolver=o,l.root=o.root,l.viewmodel=o.root.viewmodel,"string"==typeof r?l.value=r:r.t===t.REFERENCE?(a=l.ref=r.n,(u=s.indexRefs)&&void 0!==(h=u[a])?(l.indexRef=a,l.value=h):(c=o.root,(f=e(c,a,s))?l.resolve(f):l.unresolved=new n(c,a,s,function(t){l.unresolved=null,l.resolve(t)}))):new i(o,s,r,function(t){l.resolve(t)})};return o.prototype={resolve:function(t){this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e,n,i){var o;if(t&&this.indexRef===t){if(e!==this.value)return this.value=e,!0}else if(this.keypath&&(o=r(this.keypath,n,i)))return this.unbind(),this.keypath=o,this.value=this.root.viewmodel.get(o),this.bind(),!0},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.root.viewmodel.unregister(this.keypath,this)},teardown:function(){this.unbind(),this.unresolved&&this.unresolved.teardown()},forceResolution:function(){this.unresolved&&(this.unresolved.teardown(),this.unresolved=null,this.keypath=this.ref,this.value=this.viewmodel.get(this.ref),this.bind())}},o}(Ke,g,Rn,Nn,Fn),Vn=function(t,e,n){function r(t){return t.value}function i(t){return void 0!=t}function o(t){t.unbind()}var s=function(r,i,o){var s,a,u,h,c=this,f=this;h=r.parentFragment,f.root=s=r.root,f.mustache=r,f.priority=r.priority,f.ref=a=i.r,f.callback=o,f.unresolved=[],(u=t(s,a,h))?f.base=u:f.baseResolver=new e(s,a,h,function(t){f.base=t,f.baseResolver=null,f.bubble()}),f.members=i.m.map(function(t){return new n(t,c,h)}),f.ready=!0,f.bubble()};return s.prototype={getKeypath:function(){var t=this.members.map(r);if(t.every(i)&&!this.baseResolver)return this.base+"."+t.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},teardown:function(){this.members.forEach(o)},rebind:function(t,e,n,r){var i;this.members.forEach(function(o){o.rebind(t,e,n,r)&&(i=!0)}),i&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.teardown(),this.baseResolver=null),this.members.forEach(function(t){return t.forceResolution()}),this.bubble()}},s}(g,Rn,jn),Mn=function(t,e,n,r,i){return function(o,s){function a(t){var e=o.keypath;t!==e&&(o.resolve(t),void 0!==e&&o.fragments&&o.fragments.forEach(function(n){n.rebind(null,null,e,t)}))}var u,h,c,f,l,d;if(l=s.parentFragment,d=s.template,o.root=l.root,o.parentFragment=l,o.pElement=l.pElement,o.template=s.template,o.index=s.index||0,o.priority=l.priority,o.isStatic=s.template.s,o.type=s.template.t,u=d.r){if(c=l.indexRefs,c&&void 0!==(f=c[u]))return o.indexRef=u,void o.setValue(f);h=n(o.root,u,o.parentFragment),void 0!==h?o.resolve(h):(o.ref=u,e.addUnresolved(o))}s.template.x&&(o.resolver=new i(o,l,s.template.x,a)),s.template.rx&&(o.resolver=new r(o,s.template.rx,a)),o.template.n!==t.SECTION_UNLESS||o.hasOwnProperty("value")||o.setValue(void 0)}}(Ke,w,g,Vn,Fn),Dn=function(t){var e,n,r;void 0!==this.keypath&&(this.root.viewmodel.unregister(this.keypath,this),e=!0),this.keypath=t,void 0!==t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this)),this.setValue(n),e&&(r=this.twowayBinding)&&r.rebound()},Un=function(t){return function(e,n,r,i){var o;this.fragments&&this.fragments.forEach(function(t){return t.rebind(e,n,r,i)}),this.resolver&&this.resolver.rebind(e,n,r,i),this.keypath?(o=t(this.keypath,r,i))&&this.resolve(o):void 0!==e&&this.indexRef===e&&this.setValue(n)}}(Nn),Bn=function(t,e,n,r){return{getValue:t,init:e,resolve:n,rebind:r}}(Cn,Mn,Dn,Un),Wn=function(t,e,n,r,i,o,s){var a=function(e){this.type=t.INTERPOLATOR,o.init(this,e)};return a.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:o.resolve,rebind:o.rebind,detach:s,unbind:i,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(t){t&&r(this.node)},getValue:o.getValue,setValue:function(t){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(t=n.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.node&&e.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=void 0!=this.value?""+this.value:"";return t?n(e):e}},a}(Ke,w,_n,kn,An,Bn,On),$n=function(){this.parentFragment.bubble()},Hn=function(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)},qn=function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null},Qn=function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)},Gn=function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)},Kn=function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null},zn=function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},Yn=function(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)},Jn=function(t,e){var n;return e.push(function(){n=e.Fragment}),function(e){var n,r,i,o,s,a,u,h,c=this;if(!this.unbound){if(n=this.parentFragment,s=[],e.forEach(function(t,e){var n,i,o,a;return t===e?void(s[t]=c.fragments[e]):(n=c.fragments[e],void 0===r&&(r=e),-1===t?(c.fragmentsToUnrender.push(n),void n.unbind()):(i=t-e,o=c.keypath+"."+e,a=c.keypath+"."+t,n.rebind(c.template.i,t,o,a),void(s[t]=n)))}),o=this.root.get(this.keypath).length,void 0===r){if(this.length===o)return;r=this.length}for(this.length=this.fragments.length=o,t.addView(this),a={template:this.template.f,root:this.root,owner:this},this.template.i&&(a.indexRef=this.template.i),i=r;o>i;i+=1)(u=s[i])?this.docFrag.appendChild(u.detach(!1)):this.fragmentsToCreate.push(i),this.fragments[i]=u;h=n.findNextNode(this),this.parentFragment.getNode().insertBefore(this.docFrag,h)}}}(w,i),Xn=function(){var t;return t=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,t},Zn=function(t,e,n,r,i){function o(r,i){var o={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype)switch(r.subtype){case t.SECTION_IF:return h(r,i,!1,o);case t.SECTION_UNLESS:return h(r,i,!0,o);case t.SECTION_WITH:return u(r,o);case t.SECTION_EACH:if(n(i))return a(r,i,o)}return r.ordered=!!e(i),r.ordered?s(r,i,o):n(i)||"function"==typeof i?r.template.i?a(r,i,o):u(r,o):h(r,i,!1,o)}function s(t,e,n){var r,i,o;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(c);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath+"."+r,n.index=r,t.template.i&&(n.indexRef=t.template.i),o=new f(n),t.fragmentsToRender.push(t.fragments[r]=o);
return t.length=i,!0}function a(t,e,n){var r,i,o,s,a;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)s=t.fragments[i],s.index in e||(a=!0,s.unbind(),t.fragmentsToUnrender.push(s),t.fragments.splice(i,1),o[s.index]=!1);for(r in e)o[r]||(a=!0,n.context=t.keypath+"."+r,n.index=r,t.template.i&&(n.indexRef=t.template.i),s=new f(n),t.fragmentsToRender.push(s),t.fragments.push(s),o[r]=!0);return t.length=t.fragments.length,a}function u(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new f(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function h(t,n,r,i){var o,s,a;if(s=e(n)&&0===n.length,o=r?s||!n:n&&!s){if(!t.length)return i.index=0,a=new f(i),t.fragmentsToRender.push(t.fragments[0]=a),t.length=1,!0;if(t.length>1)return t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(c),!0}else if(t.length)return t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length),t.fragmentsToUnrender.forEach(c),t.length=0,!0}function c(t){t.unbind()}var f;return i.push(function(){f=i.Fragment}),function(t){var e,n,i=this;this.updating||(this.updating=!0,(e=this.root.viewmodel.wrapped[this.keypath])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath+"."+t,n.index=t,e=new f(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):o(this,t)&&(this.bubble(),this.rendered&&r.addView(this)),this.value=t,this.updating=!1)}}(Ke,s,a,w,i),tr=function(t,e){function n(t){t.unbind()}function r(t,e){var n,r=[];for(n=t;e>n;n+=1)r.push(n);return r}function i(t,e,n,r){var i,o,s,a,u;for(s=t.template.i,i=e;n>i;i+=1)o=t.fragments[i],a=t.keypath+"."+(i-r),u=t.keypath+"."+i,o.index=i,o.rebind(s,i,a,u)}var o;return e.push(function(){o=e.Fragment}),function(e){var o,s,a,u,h,c=this;if(!this.unbound&&(o=e.balance)){if(t.addView(c),s=e.rangeStart,c.length+=o,0>o)return c.fragmentsToUnrender=c.fragments.splice(s,-o),c.fragmentsToUnrender.forEach(n),void i(c,s,c.length,o);a=s+e.removed,u=s+e.added,h=[a,0],h.length+=o,c.fragments.splice.apply(c.fragments,h),i(c,u,c.length,o),c.fragmentsToCreate=r(a,u)}}}(w,i),er=function(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e},nr=function(t){function e(t){t.unbind()}return function(){this.fragments.forEach(e),t.call(this),this.length=0,this.unbound=!0}}(An),rr=function(){function t(t){t.unrender(!0)}function e(t){t.unrender(!1)}return function(n){this.fragments.forEach(n?t:e)}}(),ir=function(){for(var t,e,n,r,i;t=this.fragmentsToUnrender.pop();)t.unrender(!0);if(this.fragmentsToRender.length){for(this.rendered&&(i=this.parentFragment.getNode());t=this.fragmentsToRender.shift();)e=t.render(),this.docFrag.appendChild(e),this.rendered&&this.ordered&&(n=this.fragments[t.index+1],n&&n.rendered&&i.insertBefore(this.docFrag,n.firstNode()||null));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r))}},or=function(t,e,n,r,i,o,s,a,u,h,c,f,l,d,p,v,m,g){var y=function(n){this.type=t.SECTION,this.subtype=n.template.n,this.inverted=this.subtype===t.SECTION_UNLESS,this.pElement=n.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],this.length=0,e.init(this,n)};return y.prototype={bubble:n,detach:r,find:i,findAll:o,findAllComponents:s,findComponent:a,findNextNode:u,firstNode:h,getValue:e.getValue,merge:c,rebind:e.rebind,render:f,resolve:e.resolve,setValue:l,splice:d,toString:p,unbind:v,unrender:m,update:g},y}(Ke,Bn,$n,Hn,qn,Qn,Gn,Kn,zn,Yn,Jn,Xn,Zn,tr,er,nr,rr,ir),sr=function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},ar=function(t){return function(e){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(t(i,e))return i;if(o=i.querySelector(e))return o}return null}}(oe),ur=function(t){return function(e,n){var r,i,o,s,a,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(t(o,e)&&n.push(o),s=o.querySelectorAll(e)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}}(oe),hr=function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},cr=function(t,e){function n(t){return o[t]||(o[t]=e(t))}var r,i,o={};try{e("table").innerHTML="foo"}catch(s){r=!0,i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(e,o,s){var a,u,h,c,f,l=[];if(e){for(r&&(u=i[o.tagName])?(a=n("DIV"),a.innerHTML=u[0]+e+u[1],a=a.querySelector(".x"),"SELECT"===a.tagName&&(h=a.options[a.selectedIndex])):o.namespaceURI===t.svg?(a=n("DIV"),a.innerHTML='<svg class="x">'+e+"</svg>",a=a.querySelector(".x")):(a=n(o.tagName),a.innerHTML=e);c=a.firstChild;)l.push(c),s.appendChild(c);if(r&&"SELECT"===o.tagName)for(f=l.length;f--;)l[f]!==h&&(l[f].selected=!1)}return l}}(_,k),fr=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},lr=function(t){function e(t){return t.selected}return function(n){var r,i,o;n&&"select"===n.name&&n.binding&&(r=t(n.node.options).filter(e),n.getAttribute("multiple")?o=r.map(function(t){return t.value}):(i=r[0])&&(o=i.value),void 0!==o&&n.binding.setValue(o),n.bubble())}}(fr),dr=function(t,e){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=t(this.value,this.parentFragment.getNode(),this.docFrag),e(this.pElement),this.rendered=!0,this.docFrag}}(cr,lr),pr=function(t){return function(e){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(e=n.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&t.addView(this))}}(w),vr=function(){return void 0!=this.value?this.value:""},mr=function(t){return function(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}}(kn),gr=function(t,e){return function(){var n,r;if(this.rendered){for(;this.nodes&&this.nodes.length;)n=this.nodes.pop(),n.parentNode.removeChild(n);r=this.parentFragment.getNode(),this.nodes=t(this.value,r,this.docFrag),r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),e(this.pElement)}}}(cr,lr),yr=function(t,e,n,r,i,o,s,a,u,h,c,f){var l=function(n){this.type=t.TRIPLE,e.init(this,n)};return l.prototype={detach:n,find:r,findAll:i,firstNode:o,getValue:e.getValue,rebind:e.rebind,render:s,resolve:e.resolve,setValue:a,toString:u,unbind:f,unrender:h,update:c},l}(Ke,Bn,sr,ar,ur,hr,dr,pr,vr,mr,gr,An),wr=function(){this.parentFragment.bubble()},br=function(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0},Er=function(t){return function(e){return t(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(oe),xr=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},_r=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},kr=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Or=function(){return null},Tr=function(){return this.node},Ar=function(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0},Cr=function(){var t,e,n,r;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},r=n(t.concat(e)),function(t){var e=t.toLowerCase();return r[e]||e}}(),Rr=function(t){return function(){var e=this.fragment.getValue();e!==this.value&&(this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&t.addView(this))}}(w),Sr=function(t,e){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==t.html?e(r):r;else if(r=r.substring(i+1),n.name=e(r),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(_,Cr),Nr=function(t){return function(e){var n=e.fragment.items;if(1===n.length)return n[0].type===t.INTERPOLATOR?n[0]:void 0}}(Ke),Lr=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==t.html||(i=e[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(_),Ir=function(t,e,n,r,i){var o;return i.push(function(){o=i.Fragment}),function(i){return this.type=t.ATTRIBUTE,this.element=i.element,this.root=i.root,e(this,i.name),i.value&&"string"!=typeof i.value?(this.parentFragment=this.element.parentFragment,this.fragment=new o({template:i.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=n(this),this.isBindable=!!this.interpolator,r(this,i),void(this.ready=!0)):void(this.value=i.value||!0)}}(Ke,Sr,Nr,Lr,i),Pr=function(t,e,n,r){this.fragment&&this.fragment.rebind(t,e,n,r)},Fr=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n){var r;this.node=n,n.namespaceURI&&n.namespaceURI!==t.html||(r=e[this.name]||this.name,void 0!==n[r]&&(this.propertyName=r),("boolean"==typeof n[r]||"value"===r)&&(this.useProperty=!0),"value"===r&&(this.useProperty=!0,n._ractive.value=this.value)),this.rendered=!0,this.update()}}(_),jr=function(){function t(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return function(){var e,n,r;return e=this.name,n=this.value,"value"!==e||"select"!==this.element.name?"name"===e&&"input"===this.element.name&&(r=this.interpolator)?"name={{"+(r.keypath||r.ref)+"}}":"number"==typeof n?e+'="'+n+'"':"string"==typeof n?e+'="'+t(n)+'"':n?e:"":void 0}}(),Vr=function(){this.fragment&&this.fragment.unbind()},Mr=function(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}},Dr=function(t){return function(){var e,n,r,i,o=this.value;for(t(o)||(o=[o]),e=this.node.options,n=e.length;n--;)r=e[n],i=r._ractive?r._ractive.value:r.value,r.selected=-1!==o.indexOf(i)}}(s),Ur=function(){var t=(e=this).node,e=e.value;t.checked=e==t._ractive.value},Br=function(t){return function(){var e,n,r,i,o=this.node;if(e=o.checked,o.value=this.element.getAttribute("value"),o.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!o.checked&&this.element.binding&&(r=this.element.binding.siblings,i=r.length)){for(;i--;){if(n=r[i],!n.element.node)return;if(n.element.node.checked)return t.addViewmodel(n.root.viewmodel),n.handleChange()}t.addViewmodel(n.root.viewmodel),this.root.viewmodel.set(n.keypath,void 0)}}}(w),Wr=function(t){return function(){var e,n;e=this.node,n=this.value,e.checked=t(n)?-1!==n.indexOf(e._ractive.value):n==e._ractive.value}}(s),$r=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.className=e},Hr=function(){var t,e;t=this.node,e=this.value,void 0!==e&&(this.root.nodes[e]=void 0),this.root.nodes[e]=t,t.id=e},qr=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)},Qr=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),this.locked||(t.innerHTML=e)},Gr=function(){var t,e;t=this.node,e=this.value,t._ractive.value=e,this.locked||(t.value=void 0==e?"":e)},Kr=function(){this.locked||(this.node[this.propertyName]=this.value)},zr=function(){var t,e,n;t=this.node,e=this.name,n=this.value,this.namespace?t.setAttributeNS(this.namespace,e,n):"string"==typeof n||"number"==typeof n?t.setAttribute(e,n):n?t.setAttribute(e,""):t.removeAttribute(e)},Yr=function(t,e,n,r,i,o,s,a,u,h,c,f,l,d){return function(){var p,v,m,g,y;p=this.name,v=this.element,m=this.node,"id"===p?y=u:"value"===p?"select"===v.name&&"value"===p?y=m.multiple?r:n:"textarea"===v.name?y=f:m.getAttribute("contenteditable")?y=c:"input"===v.name&&(g=v.getAttribute("type"),y="file"===g?e:"radio"===g&&v.binding&&"name"===v.binding.name?o:f):this.twoway&&"name"===p?"radio"===m.type?y=i:"checkbox"===m.type&&(y=s):"style"===p&&m.style.setAttribute?y=h:"class"!==p||m.namespaceURI&&m.namespaceURI!==t.html?this.useProperty&&(y=l):y=a,y||(y=d),this.update=y,this.update()}}(_,Y,Mr,Dr,Ur,Br,Wr,$r,Hr,qr,Qr,Gr,Kr,zr),Jr=function(t,e,n,r,i,o,s){var a=function(t){this.init(t)};return a.prototype={bubble:t,init:e,rebind:n,render:r,toString:i,unbind:o,update:s},a}(Rr,Ir,Pr,Fr,jr,Vr,Yr),Xr=function(t){return function(e,n){var r,i,o=[];for(r in n)n.hasOwnProperty(r)&&(i=new t({element:e,name:r,value:n[r],root:e.root}),o.push(o[r]=i));return o}}(Jr),Zr=function(t){for(var e,n,r=Array.prototype.slice,i=r.call(arguments,1);n=i.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},ti=function(t,e,n,r,i){var o=function(t){var n,r,i;return this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],n=this.attribute.interpolator,n.twowayBinding=this,n.keypath&&"${"===n.keypath.substr?(e("Two-way binding does not work with expressions: "+n.keypath),!1):(n.keypath||(n.ref&&n.resolve(n.ref),n.resolver&&n.resolver.forceResolution()),this.keypath=r=n.keypath,void(void 0===this.root.viewmodel.get(r)&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(r,i))))};return o.prototype={handleChange:function(){var e=this;t.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),t.scheduleTask(function(){return e.attribute.locked=!1}),t.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(i(this.root._twowayBindings[e],this),this.keypath=n,t=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]),t.push(this))},unbind:function(){}},o.extend=function(t){var e,i=this;return e=function(t){o.call(this,t),this.init&&this.init()},e.prototype=n(i.prototype),r(e.prototype,t),e.extend=o.extend,e},o}(w,F,W,Zr,f),ei=function(){this._ractive.binding.handleChange()},ni=function(t,e){var n=t.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",e,!1),this.root.lazy||(t.addEventListener("input",e,!1),t.attachEvent&&t.addEventListener("keyup",e,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("input",e,!1),t.removeEventListener("keyup",e,!1)},getValue:function(){return this.element.node.innerHTML}});return n}(ti,ei),ri=function(){var t={};return function(e,n,r){var i=e+n+r;return t[i]||(t[i]=[])}}(),ii=function(t,e,n,r,i){var o=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",i,!1),t.attachEvent&&t.addEventListener("click",i,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",i,!1),t.removeEventListener("click",i,!1)},handleChange:function(){t.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),t.end()},getValue:function(){return this.element.node.checked},unbind:function(){e(this.siblings,this)}});return o}(w,f,ti,ri,ei),oi=function(t,e,n,r){var i=e.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",n,!1),t.attachEvent&&t.addEventListener("click",n,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",n,!1),t.removeEventListener("click",n,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&e.prototype.handleChange.call(this)},rebound:function(t,n,r,i){var o;e.prototype.rebound.call(this,t,n,r,i),(o=this.element.node)&&(o.name="{{"+this.keypath+"}}")},unbind:function(){t(this.siblings,this)}});return i}(f,ti,ei,ri),si=function(t,e,n,r,i){function o(t){return t.isChecked}function s(t){return t.element.getAttribute("value")}var a=n.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,n,i;this.checkboxName=!0,this.siblings=r(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),i=this.siblings.noInitialValue,e=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),i?(this.isChecked=this.element.getAttribute("checked"),this.isChecked&&e.push(n)):this.isChecked=t(e)?-1!==e.indexOf(n):e===n},unbind:function(){e(this.siblings,this)},render:function(){var t=this.element.node;t.name="{{"+this.keypath+"}}",t.checked=this.isChecked,t.addEventListener("change",i,!1),t.attachEvent&&t.addEventListener("click",i,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",i,!1),t.removeEventListener("click",i,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,n.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(o).map(s)}});return a}(s,f,ti,ri,ei),ai=function(t,e){var n=t.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",e,!1),t.attachEvent&&t.addEventListener("click",e,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("click",e,!1)},getValue:function(){return this.element.node.checked}});return n}(ti,ei),ui=function(t,e,n){var r=e.extend({getInitialValue:function(){var t,e,n=this.element.options;if(e=t=n.length,t){for(;e--;)if(n[e].getAttribute("selected"))return n[e].getAttribute("value");for(;++e<t;)if(!n[e].getAttribute("disabled"))return n[e].getAttribute("value")}},render:function(){this.element.node.addEventListener("change",n,!1)},unrender:function(){this.element.node.removeEventListener("change",n,!1)},setValue:function(e){t.addViewmodel(this.root.viewmodel),this.root.viewmodel.set(this.keypath,e)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var e=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,t.addViewmodel(this.root.viewmodel),t.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}});return r}(w,ti,ei),hi=function(t){return function(e,n){var r;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(r=e.length;r--;)if(e[r]!==n[r])return!1;return!0}}(s),ci=function(t,e,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",r,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",r,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,o;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,r,i;return t=this.attribute,r=t.value,i=this.getValue(),void 0!==r&&e(i,r)||n.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,t.addViewmodel(this.root.viewmodel),t.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}});return i}(w,hi,ui,ei),fi=function(t,e){var n=t.extend({render:function(){this.element.node.addEventListener("change",e,!1)},unrender:function(){this.element.node.removeEventListener("change",e,!1)},getValue:function(){return this.element.node.files}});return n}(ti,ei),li=function(t,e){function n(){var t;e.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,i),this.value=void 0==t?"":t}var r,i;return i={evaluateWrapped:!0},r=t.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t=this.element.node;t.addEventListener("change",e,!1),this.root.lazy||(t.addEventListener("input",e,!1),t.attachEvent&&t.addEventListener("keyup",e,!1)),t.addEventListener("blur",n,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("input",e,!1),t.removeEventListener("keyup",e,!1),t.removeEventListener("blur",n,!1)}})}(ti,ei),di=function(t){return t.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}})}(li),pi=function(t,e,n,r,i,o,s,a,u,h,c){function f(t){return t&&t.isBindable}return function(l){var d,p,v,m,g=l.attributes;return l.binding&&(l.binding.teardown(),l.binding=null),l.getAttribute("contenteditable")&&f(g.value)?p=e:"input"===l.name?(d=l.getAttribute("type"),"radio"===d||"checkbox"===d?(v=f(g.name),m=f(g.checked),v&&m&&t.error({message:"badRadioInputBinding"}),v?p="radio"===d?r:i:m&&(p="radio"===d?n:o)):"file"===d&&f(g.value)?p=u:f(g.value)&&(p="number"===d||"range"===d?h:c)):"select"===l.name&&f(g.value)?p=l.getAttribute("multiple")?a:s:"textarea"===l.name&&f(g.value)&&(p=c),p?new p(l):void 0}}(Ln,ni,ii,oi,si,ai,ui,ci,fi,di,li),vi=function(t){this.root.fire(this.action.toString().trim(),t)},mi=function(t){function e(t){this.root.fire.apply(this.root,[this.action.toString().trim(),t].concat(this.params))}function n(t){var e=this.dynamicParams.getValue(i);"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.action.toString().trim(),t].concat(e))}var r,i={args:!0};return t.push(function(){r=t.Fragment}),function(t,i,o){var s;this.element=t,this.root=t.root,this.name=i,this.proxies=[],s=o.n||o,"string"!=typeof s&&(s=new r({template:s,root:this.root,owner:this.element})),this.action=s,o.d?(this.dynamicParams=new r({template:o.d,root:this.root,owner:this.element}),this.fire=n):o.a&&(this.params=o.a,this.fire=e)}}(i),gi=function(t,e,n,r){"string"!=typeof this.action&&this.action.rebind(t,e,n,r),this.dynamicParams&&this.dynamicParams.rebind(t,e,n,r)},yi=function(t){var e,n;e=this._ractive,n=e.events[t.type],n.fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},wi=function(t,e,n){function r(t){return i[t]||(i[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}),i[t]}var i={};return function(){var i,o=this.name;this.node=this.element.node,(i=e.registries.events.find(this.root,o))?this.custom=i(this.node,r(o)):("on"+o in this.node||window&&"on"+o in window||t('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),this.node.addEventListener(o,n,!1)),this.node._ractive.events[o]=this}}(F,Z,yi),bi=function(){"string"!=typeof this.action&&this.action.teardown(),this.dynamicParams&&this.dynamicParams.teardown()},Ei=function(t){return function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,t,!1)}}(yi),xi=function(t,e,n,r,i,o){var s=function(t,e,n){this.init(t,e,n)};return s.prototype={fire:t,init:e,rebind:n,render:r,teardown:i,unrender:o},s}(vi,mi,gi,wi,bi,Ei),_i=function(t){return function(e,n){var r,i,o,s,a=[];for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)s=new t(e,o[r],n[i]),a.push(s);return a}}(xi),ki=function(t,e,n){var r,i,o;return e.push(function(){r=e.Fragment}),i={args:!0},o=function(e,o){var s,a,u,h=this;h.element=e,h.root=s=e.root,a=o.n||o,"string"!=typeof a&&(u=new r({template:a,root:s,owner:e}),a=u.toString(),u.unbind()),o.a?h.params=o.a:o.d&&(h.fragment=new r({template:o.d,root:s,owner:e}),h.params=h.fragment.getValue(i),h.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,h.params=this.getValue(i),h.ready&&h.update()}),h.fn=n.registries.decorators.find(s,a),h.fn||t.error({debug:s.debug,message:"missingPlugin",args:{plugin:"decorator",name:a}})},o.prototype={init:function(){var t,e,n,r=this;if(t=r.element.node,r.params?(n=[t].concat(r.params),e=r.fn.apply(r.root,n)):e=r.fn.call(r.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");r.actual=e,r.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}},o}(Ln,i,Z),Oi=function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}return function(n){var r,i,o,s,a;r=n.node,r&&(s=t(r.options),i=n.getAttribute("value"),o=n.getAttribute("multiple"),void 0!==i?(s.forEach(function(t){var n,r;n=t._ractive?t._ractive.value:t.value,r=o?e(i,n):i==n,r&&(a=!0),t.selected=r}),a||(s[0]&&(s[0].selected=!0),n.binding&&n.binding.forceUpdate())):n.binding&&n.binding.forceUpdate())}}(fr),Ti=function(t,e){return function(){var n=this;this.dirty||(this.dirty=!0,t.scheduleTask(function(){e(n),n.dirty=!1})),this.parentFragment.bubble()}}(w,Oi),Ai=function(t){do if("select"===t.name)return t;while(t=t.parent)},Ci=function(t){return function(e,n){e.select=t(e.parent),e.select.options.push(e),n.a||(n.a={}),n.a.value||n.a.hasOwnProperty("disabled")||(n.a.value=n.f),"selected"in n.a&&void 0!==e.select.getAttribute("value")&&delete n.a.selected}}(Ai),Ri=function(t,e,n,r,i,o,s,a,u){var h;return u.push(function(){h=u.Fragment}),function(u){var c,f,l,d,p;this.type=t.ELEMENT,c=this.parentFragment=u.parentFragment,f=this.template=u.template,this.parent=u.pElement||c.pElement,this.root=l=c.root,this.index=u.index,this.name=e(f.e),"option"===this.name&&a(this,f),"select"===this.name&&(this.options=[],this.bubble=s),this.attributes=n(this,f.a),f.f&&(this.fragment=new h({template:f.f,root:l,owner:this,pElement:this})),l.twoway&&(d=r(this,f.a))&&(this.binding=d,p=this.root._twowayBindings[d.keypath]||(this.root._twowayBindings[d.keypath]=[]),p.push(d)),f.v&&(this.eventHandlers=i(this,f.v)),f.o&&(this.decorator=new o(this,f.o)),this.intro=f.t0||f.t1,this.outro=f.t0||f.t2}}(Ke,Cr,Xr,pi,_i,ki,Ti,Ci,i),Si=function(t){return function(e,n){return e===n||t(e,n)}}(Sn),Ni=function(t,e){return function(n,r,i,o){var s=n[r];s&&!t(s,o)&&t(s,i)&&(n[r]=e(s,i,o))}}(Si,Nn),Li=function(t){return function(e,n,r,i){function o(t){t.rebind(e,n,r,i)}var s,a,u,h;if(this.attributes&&this.attributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.fragment&&o(this.fragment),u=this.liveQueries)for(h=this.root,s=u.length;s--;)u[s]._makeDirty();this.node&&(a=this.node._ractive)&&(t(a,"keypath",r,i),void 0!=e&&(a.index[e]=n))}}(Ni),Ii=function(t){var e,n,r;((e=t.getAttribute("width"))||(n=t.getAttribute("height")))&&t.node.addEventListener("load",r=function(){e&&(t.node.width=e.value),n&&(t.node.height=n.value),t.node.removeEventListener("load",r,!1)},!1)},Pi=function(t,e,n){var r,i={};return n.push(function(){r=n.Fragment}),function(n,o,s){var a,u,h,c=this;return c.element=n,c.root=a=n.root,c.isIntro=s,u=o.n||o,"string"!=typeof u&&(h=new r({template:u,root:a,owner:n}),u=h.toString(),h.unbind()),c.name=u,o.a?c.params=o.a:o.d&&(h=new r({template:o.d,root:a,owner:n}),c.params=h.getValue(i),h.unbind()),c._fn=e.registries.transitions.find(a,u),c._fn?void 0:void t.error({debug:a.debug,message:"missingPlugin",args:{plugin:"transition",name:u}})}}(Ln,Z,i),Fi=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},ji=function(t,e,n,r){var i,o,s;return t?(o={},s=n("div").style,i=function(t){var n,i,a;if(t=r(t),!o[t])if(void 0!==s[t])o[t]=t;else for(a=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(i=e[n],void 0!==s[i+a]){o[t]=i+a;break}return o[t]}):i=null,i}(O,N,k,Fi),Vi=function(t,e,n,r){var i,o;return e?(o=window.getComputedStyle||t.getComputedStyle,i=function(t){var e,i,s,a,u;if(e=o(this.node),"string"==typeof t)return u=e[r(t)],"0px"===u&&(u=0),u;if(!n(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},s=t.length;s--;)a=t[s],u=e[r(a)],"0px"===u&&(u=0),i[a]=u;return i}):i=null,i}($,O,s,ji),Mi=function(t){return function(e,n){var r;if("string"==typeof e)this.node.style[t(e)]=n;else for(r in e)e.hasOwnProperty(r)&&(this.node.style[t(r)]=e[r]);return this}}(ji),Di=function(t,e,n){function r(t){return t}var i=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(t('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return i.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i}(F,I,P),Ui=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(N),Bi=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");
return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(N),Wi=function(t,e,n,r,i,o,s,a,u){var h,c,f,l,d,p,v,m,g={},y={};return t?(c=n("div").style,function(){void 0!==c.transition?(f="transition",l="transitionend",d=!0):void 0!==c.webkitTransition?(f="webkitTransition",l="webkitTransitionEnd",d=!0):d=!1}(),f&&(p=f+"Duration",v=f+"Property",m=f+"TimingFunction"),h=function(t,n,h,c,f){setTimeout(function(){var w,b,E,x,_;x=function(){b&&E&&(t.root.fire(t.name+":end",t.node,t.isIntro),f())},w=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[v]=c.map(s).map(u).join(","),t.node.style[m]=u(h.easing||"linear"),t.node.style[p]=h.duration/1e3+"s",_=function(e){var n;n=c.indexOf(r(a(e.propertyName))),-1!==n&&c.splice(n,1),c.length||(t.node.removeEventListener(l,_,!1),E=!0,x())},t.node.addEventListener(l,_,!1),setTimeout(function(){for(var a,u,f,p,v,m=c.length,k=[];m--;)p=c[m],a=w+p,d&&!y[a]&&(t.node.style[s(p)]=n[p],g[a]||(u=t.getStyle(p),g[a]=t.getStyle(p)!=n[p],y[a]=!g[a],y[a]&&(t.node.style[s(p)]=u))),(!d||y[a])&&(void 0===u&&(u=t.getStyle(p)),f=c.indexOf(p),-1===f?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):c.splice(f,1),v=/[^\d]*$/.exec(n[p])[0],k.push({name:s(p),interpolator:i(parseFloat(u),parseFloat(n[p])),suffix:v}));k.length?new o({root:t.root,duration:h.duration,easing:r(h.easing||""),step:function(e){var n,r;for(r=k.length;r--;)n=k[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){b=!0,x()}}):b=!0,c.length||(t.node.removeEventListener(l,_,!1),E=!0,x())},0)},h.delay||0)}):h=null,h}(O,F,k,Fi,te,Di,ji,Ui,Bi),$i=function(t){function e(){u.hidden=document[i]}function n(){u.hidden=!0}function r(){u.hidden=!1}var i,o,s,a,u;if("undefined"!=typeof document){if(i="hidden",u={},i in document)s="";else for(a=t.length;a--;)o=t[a],i=o+"Hidden",i in document&&(s=o);void 0!==s?(document.addEventListener(s+"visibilitychange",e),e()):("onfocusout"in document?(document.addEventListener("focusout",n),document.addEventListener("focusin",r)):(window.addEventListener("pagehide",n),window.addEventListener("blur",n),window.addEventListener("pageshow",r),window.addEventListener("focus",r)),u.hidden=!1)}return u}(N),Hi=function(t,e,n,r,i,o,s){var a,u,h;return e?(u=window.getComputedStyle||t.getComputedStyle,a=function(t,e,a,c){var f,l=this;if(s.hidden)return this.setStyle(t,e),h||(h=r.resolve());"string"==typeof t?(f={},f[t]=e):(f=t,c=a,a=e),a||(n('The "'+l.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),a=l,c=l.complete);var d=new r(function(t){var e,n,r,s,h,c,d;if(!a.duration)return l.setStyle(f),void t();for(e=Object.keys(f),n=[],r=u(l.node),h={},c=e.length;c--;)d=e[c],s=r[i(d)],"0px"===s&&(s=0),s!=f[d]&&(n.push(d),l.node.style[i(d)]=s);return n.length?void o(l,f,a,n,t):void t()});return c&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),d.then(c)),d}):a=null,a}($,O,F,l,ji,Wi,$i),qi=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},Qi=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(qi),Gi=function(){function t(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}return function(){var e,n,r=this;return e=r.node=r.element.node,n=e.getAttribute("style"),r.complete=function(i){!i&&r.isIntro&&t(e,n),e._ractive.transition=null,r._manager.remove(r)},r._fn?void r._fn.apply(r.root,[r].concat(r.params)):void r.complete()}}(),Ki=function(t,e,n,r,i,o,s){var a,u;return s.push(function(){a=s.Fragment}),u=function(t,e,n){this.init(t,e,n)},u.prototype={init:t,start:o,getStyle:e,setStyle:n,animateStyle:r,processParams:i},u}(Pi,Vi,Mi,Hi,Qi,Gi,i),zi=function(t,e,n,r,i,o,s,a,u,h,c){function f(e){var n,r,i;return n=(r=e.getAttribute("xmlns"))?r:"svg"===e.name?t.svg:(i=e.parent)?"foreignObject"===i.name?t.html:i.node.namespaceURI:e.root.el.namespaceURI}function l(t){var n,r,i;if(r=t.select.getAttribute("value"),void 0!==r)if(n=t.getAttribute("value"),t.select.node.multiple&&e(r)){for(i=r.length;i--;)if(n==r[i]){t.node.selected=!0;break}}else t.node.selected=n==r}function d(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)}var p,v;return p=function(){var t=this.node,e=this.fragment.toString(!1);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},v=function(){this.node.type&&"text/javascript"!==this.node.type||n("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},function(){var t,e,n=this,m=this.root;if(t=f(this),e=this.node=i(this.name,t),m.constructor.css&&this.parentFragment.getNode()===m.el&&this.node.setAttribute("data-rvcguid",m.constructor._guid),o(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:m}}),this.attributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=v,this.node.text=this.fragment.toString(!1),this.fragment.unrender=s):"style"===this.name?(this.bubble=p,this.bubble(),this.fragment.unrender=s):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=s:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"img"===this.name&&h(this),this.decorator&&this.decorator.fn&&a.scheduleTask(function(){n.decorator.init()}),m.transitionsEnabled&&this.intro){var g=new c(this,this.intro,!0);a.registerTransition(g),a.scheduleTask(function(){return g.start()})}return"option"===this.name&&l(this),this.node.autofocus&&a.scheduleTask(function(){return n.node.focus()}),d(this),this.node}}(_,s,F,W,k,T,Y,w,p,Ii,Ki),Yi=function(){var t=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return t}(),Ji=function(t,e){function n(t){var n,r,i;if(n=t.getAttribute("value"),void 0===n)return!1;if(r=t.select.getAttribute("value"),r==n)return!0;if(t.select.getAttribute("multiple")&&e(r))for(i=r.length;i--;)if(r[i]==n)return!0}function r(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function i(t){var e=t.toString();return e?" "+e:""}return function(){var e,o;return e="<"+(this.template.y?"!DOCTYPE":this.template.e),e+=this.attributes.map(i).join(""),"option"===this.name&&n(this)&&(e+=" selected"),"input"===this.name&&r(this)&&(e+=" checked"),e+=">",this.fragment&&(o="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(o)),t.test(this.template.e)||(e+="</"+this.template.e+">"),e}}(Yi,s),Xi=function(t){return function(e){t(e.select.options,e)}}(f),Zi=function(t){function e(t){t.unbind()}return function(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),"option"===this.name&&t(this),this.attributes.forEach(e)}}(Xi),to=function(t,e){function n(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}return function(r){var i,o;if("option"===this.name?this.detach():r&&t.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(i=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,o=this.root._twowayBindings[i.keypath],o.splice(o.indexOf(i),1)),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.unrender()}),this.decorator&&this.decorator.teardown(),this.root.transitionsEnabled&&this.outro){var s=new e(this,this.outro,!1);t.registerTransition(s),t.scheduleTask(function(){return s.start()})}this.liveQueries&&n(this)}}(w,Ki),eo=function(t,e,n,r,i,o,s,a,u,h,c,f,l,d,p){var v=function(t){this.init(t)};return v.prototype={bubble:t,detach:e,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:s,firstNode:a,getAttribute:u,init:h,rebind:c,render:f,toString:l,unbind:d,unrender:p},v}(wr,br,Er,xr,_r,kr,Or,Tr,Ar,Ri,Li,zi,Ji,Zi,to),no=function(){function t(t,e){var r=n.exec(e)[0];return null===t||r.length<t.length?r:t}var e=/^\s*$/,n=/^\s*/;return function(n){var r,i,o,s;return r=n.split("\n"),i=r[0],void 0!==i&&e.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&e.test(o)&&r.pop(),s=r.reduce(t,null),s&&(n=r.map(function(t){return t.replace(s,"")}).join("\n")),n}}(),ro=function(t,e,n,r){function i(r,i){var o=e.registries.partials,s=o.findInstance(r,i);if(s){var a,u=s.partials[i];if("function"==typeof u&&(a=u.bind(s),a.isOwner=s.partials.hasOwnProperty(i),u=a(s.data,n)),!u)return void t.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});if(!n.isParsed(u)){var h=n.parse(u,n.getParseOptions(s));h.p&&t.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}});var c=a?s:o.findOwner(s,i);c.partials[i]=u=h.t}return a&&(u._fn=a),u.v?u.t:u}}return function(e,o){var s;if(s=i(e,o))return s;if(s=n.fromId(o,{noThrow:!0})){s=r(s);var a=n.parse(s,n.getParseOptions(e));return e.partials[o]=a.t}return t.error({debug:e.debug,message:"noTemplateForPartial",args:{name:o}}),[]}}(Ln,Z,Q,no),io=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},oo=function(t,e,n,r){var i,o;return r.push(function(){o=r.Fragment}),i=function(n){var r,i=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.template.r,this.index=n.index,this.root=i.root,!n.template.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");r=e(i.root,n.template.r),this.fragment=new o({template:r,root:i.root,owner:this,pElement:i.pElement})},i.prototype={bubble:function(){this.parentFragment.bubble()},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){return this.fragment.render()},unrender:function(t){this.fragment.unrender(t)},rebind:function(t,e,n,r){return this.fragment.rebind(t,e,n,r)},unbind:function(){this.fragment.unbind()},toString:function(e){var r,i,o,s;return r=this.fragment.toString(e),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(o=i.template.split("\n").pop(),(s=/^\s+$/.exec(o))?n(r,s[0]):r):r},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},getValue:function(){return this.fragment.getValue()}},i}(Ke,ro,io,i),so=function(t,e,n){var r;return n.push(function(){r=n.Ractive}),function i(n,r){var o,s=t.registries.components.findInstance(n,r);if(s&&(o=s.components[r],!o._parent)){var a=o.bind(s);if(a.isOwner=s.components.hasOwnProperty(r),o=a(s.data),!o)return void e.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});"string"==typeof o&&(o=i(n,o)),o._fn=a,s.components[r]=o}return o}}(Z,Ln,i),ao=function(){return this.instance.fragment.detach()},uo=function(t){return this.instance.fragment.find(t)},ho=function(t,e){return this.instance.fragment.findAll(t,e)},co=function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)},fo=function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},lo=function(){return this.parentFragment.findNextNode(this)},po=function(){return this.rendered?this.instance.fragment.firstNode():null},vo=function(t,e){var n,r;return e.push(function(){n=e.Fragment}),r=function(t,e,r){this.parentFragment=t.parentFragment,this.component=t,this.key=e,this.fragment=new n({template:r,root:t.root,owner:this}),this.value=this.fragment.getValue()},r.prototype={bubble:function(){this.dirty||(this.dirty=!0,t.addView(this))},update:function(){var e=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,e),t.addViewmodel(this.component.instance.viewmodel),this.value=e,this.dirty=!1},rebind:function(t,e,n,r){this.fragment.rebind(t,e,n,r)},unbind:function(){this.fragment.unbind()}},r}(w,i),mo=function(t,e,n,r){function i(i,o,s,a){var u,h,c,f,l,d;return c=i.root,f=i.parentFragment,"string"==typeof s?(h=e(s),h?h.value:s):null===s?!0:1===s.length&&s[0].t===t.INTERPOLATOR&&s[0].r?f.indexRefs&&void 0!==f.indexRefs[d=s[0].r]?(i.indexRefBindings[d]=o,f.indexRefs[d]):(l=n(c,s[0].r,f)||s[0].r,a.push({childKeypath:o,parentKeypath:l}),c.viewmodel.get(l)):(u=new r(i,o,s),i.complexParameters.push(u),u.value)}return function(t,e,n,r){var o,s,a={};t.complexParameters=[];for(o in n)n.hasOwnProperty(o)&&(s=i(t,o,n[o],r),(void 0!==s||void 0===e[o])&&(a[o]=s));return a}}(Ke,En,g,vo),go=function(t,e,n,r){var i,o,s,a;return o=t.parentFragment,a=t.root,s={content:r||[]},i=new e({append:!0,data:n,partials:s,magic:a.magic||e.defaults.magic,modifyArrays:a.modifyArrays,_parent:a,_component:t,adapt:a.adapt})},yo=function(t){return function(e,n){n.forEach(function(n){var r,i;t(e,e.root,n.parentKeypath,n.childKeypath),r=e.instance.viewmodel.get(n.childKeypath),i=e.root.viewmodel.get(n.parentKeypath),void 0!==r&&void 0===i&&e.root.viewmodel.set(n.parentKeypath,r)})}}(m),wo=function(t){function e(e,n,r,i){"string"!=typeof i&&t.error({debug:n.debug,message:"noComponentEventArguments"}),e.on(r,function(){var t=Array.prototype.slice.call(arguments);t.unshift(i),n.fire.apply(n,t)})}return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t.instance,t.root,r,n[r])}}(Ln),bo=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e._parent},Eo=function(t,e,n,r,i,o,s){return function(a,u){var h,c,f,l;if(h=this.parentFragment=a.parentFragment,c=h.root,this.root=c,this.type=t.COMPONENT,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.bindings=[],!u)throw new Error('Component "'+this.name+'" not found');l=[],f=n(this,u.defaults.data||{},a.template.a,l),r(this,u,f,a.template.f),i(this,l),o(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),s(this)}}(Ke,F,mo,go,yo,wo,bo),xo=function(t,e){return function(n,r,i,o){var s,a,u=this.instance,h=u._parent;this.bindings.forEach(function(t){var n;t.root===h&&(n=e(t.keypath,i,o))&&t.rebind(n)}),this.complexParameters.forEach(function(t){t.rebind(n,r,i,o)}),(s=this.indexRefBindings[n])&&(t.addViewmodel(u.viewmodel),u.viewmodel.set(s,r)),(a=this.root._liveComponentQueries["_"+this.name])&&a._makeDirty()}}(w,Nn),_o=function(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.detach()},ko=function(){return this.instance.fragment.toString()},Oo=function(){function t(t){t.unbind()}function e(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e._parent)}return function(){this.complexParameters.forEach(t),this.bindings.forEach(t),e(this),this.instance.fragment.unbind()}}(),To=function(t){this.instance.fire("teardown"),this.shouldDestroy=t,this.instance.unrender()},Ao=function(t,e,n,r,i,o,s,a,u,h,c,f,l){var d=function(t,e){this.init(t,e)};return d.prototype={detach:t,find:e,findAll:n,findAllComponents:r,findComponent:i,findNextNode:o,firstNode:s,init:a,rebind:u,render:h,toString:c,unbind:f,unrender:l},d}(ao,uo,ho,co,fo,lo,po,Eo,xo,_o,ko,Oo,To),Co=function(t,e){var n=function(e){this.type=t.COMMENT,this.value=e.template.c};return n.prototype={detach:e,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}},n}(Ke,On),Ro=function(t,e,n,r,i,o,s,a,u,h){return function(c){if("string"==typeof c.template)return new e(c);switch(c.template.t){case t.INTERPOLATOR:return new n(c);case t.SECTION:return new r(c);case t.TRIPLE:return new i(c);case t.ELEMENT:var f;return(f=a(c.parentFragment.root,c.template.e))?new u(c,f):new o(c);case t.PARTIAL:return new s(c);case t.COMMENT:return new h(c);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(Ke,Tn,Wn,or,yr,eo,oo,so,Ao,Co),So=function(t,e,n){return function(r){var i,o,s,a=this;if(this.owner=r.owner,i=this.parent=this.owner.parentFragment,this.root=r.root,this.pElement=r.pElement,this.context=r.context,this.owner.type===t.SECTION&&(this.index=r.index),i&&(o=i.indexRefs)){this.indexRefs=e(null);for(s in o)this.indexRefs[s]=o[s]}this.priority=i?i.priority+1:1,r.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[r.indexRef]=r.index),"string"==typeof r.template?r.template=[r.template]:r.template||(r.template=[]),this.items=r.template.map(function(t,e){return n({parentFragment:a,pElement:r.pElement,template:t,index:e})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.inited=!0}}(Ke,W,Ro),No=function(t){return function(e,n,r,i){t(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[e]&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.rebind&&t.rebind(e,n,r,i)})}}(Ni),Lo=function(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t},Io=function(t){return this.items?this.items.map(function(e){return e.toString(t)}).join(""):""},Po=function(){function t(t){t.unbind&&t.unbind()}return function(){this.items.forEach(t)}}(),Fo=function(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)})},jo=function(t,e,n,r,i,o,s,a,u,h,c,f,l,d,p,v,m){var g=function(t){this.init(t)};return g.prototype={bubble:t,detach:e,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:s,firstNode:a,getNode:u,getValue:h,init:c,rebind:f,render:l,toString:d,unbind:p,unrender:v},m.Fragment=g,g}(De,Ue,Be,We,$e,He,qe,Qe,Ge,xn,So,No,Lo,Io,Po,Fo,i),Vo=function(t,e,n){var r=["template","partials","components","decorators","events"];return function(i,o){var s,a,u,h,c;if("function"!=typeof i||o?i=i||{}:(o=i,i={}),"object"!=typeof i)throw new Error("The reset method takes either no arguments, or an object containing new data");for((a=this.viewmodel.wrapped[""])&&a.reset?a.reset(i)===!1&&(this.data=i):this.data=i,u=n.reset(this),h=u.length;h--;)if(r.indexOf(u[h])>-1){c=!0;break}if(c){var f;this.viewmodel.mark(""),(f=this.component)&&(f.shouldDestroy=!0),this.unrender(),f&&(f.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new e({template:this.template,root:this,owner:this})),s=this.render(this.el,this.anchor)}else s=t.start(this,!0),this.viewmodel.mark(""),t.end();return this.fire("reset",i),o&&s.then(o),s}}(w,jo,Z),Mo=function(t,e){return function(n){var r,i;t.template.init(null,this,{template:n}),r=this.transitionsEnabled,this.transitionsEnabled=!1,(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new e({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=r}}(Z,jo),Do=function(t){return t("reverse")}(Pe),Uo=function(t,e,n,r){var i=/\*/;return function(o,s,a){var u,h,c=this;if(h=t.start(this,!0),e(o)){u=o,a=s;for(o in u)u.hasOwnProperty(o)&&(s=u[o],o=n(o),this.viewmodel.set(o,s))}else o=n(o),i.test(o)?r(this,o).forEach(function(t){c.viewmodel.set(t,s)}):this.viewmodel.set(o,s);return t.end(),a&&h.then(a.bind(this)),h}}(w,a,S,_e),Bo=function(t){return t("shift")}(Pe),Wo=function(t){return t("sort")}(Pe),$o=function(t){return t("splice")}(Pe),Ho=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(C),qo=function(t){return function(e){var n;return this.fire("teardown"),this.fragment.unbind(),this.viewmodel.teardown(),n=this.rendered?this.unrender():t.resolve(),e&&n.then(e.bind(this)),n}}(l),Qo=function(t){return function(e,n){var r;return"string"!=typeof e&&t.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:e}}),r=this.get(e),this.set(e,!r,n)}}(Ln),Go=function(){return this.fragment.toString(!0)},Ko=function(t,e,n){return function(){var r,i,o=this;if(!this.rendered)throw new Error("ractive.unrender() was called on a Ractive instance that was not rendered");for(r=e.start(this,!0),i=!this.component||this.component.shouldDestroy,i=i||this.shouldDestroy,this.constructor.css&&r.then(function(){n.remove(o.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(i),this.rendered=!1,t(this.el.__ractive_instances__,this),e.end(),r}}(f,w,Ve),zo=function(t){return t("unshift")}(Pe),Yo=function(t){return function(e,n){var r;return"function"==typeof e?(n=e,e=""):e=e||"",r=t.start(this,!0),this.viewmodel.mark(e),t.end(),this.fire("update",e),n&&r.then(n.bind(this)),r}}(w),Jo=function(t,e){function n(r,i,o,s){var a,u,h,c,f,l,d=[];if(a=r._twowayBindings[i],a&&(h=a.length))for(;h--;)c=a[h],(!c.radioName||c.element.node.checked)&&(c.checkboxName?d[c.keypath]||c.changed()||(d.push(c.keypath),d[c.keypath]=c):(f=c.attribute.value,l=c.getValue(),t(f,l)||e(f,l)||(o[i]=l)));if(d.length&&d.forEach(function(e){var n,r,i;n=d[e],r=n.attribute.value,i=n.getValue(),t(r,i)||(o[e]=i)}),s&&(u=r.viewmodel.depsMap["default"][i]))for(h=u.length;h--;)n(r,u[h],o,s)}return function(t,e){var r;return"string"!=typeof t&&(t="",e=!0),n(this,t,r={},e),this.set(r)}}(hi,v),Xo=function(t,e,n,r,i,o,s,a,u,h,c,f,l,d,p,v,m,g,y,w,b,E,x,_,k,O,T,A,C,R,S,N){return{add:t,animate:e,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:s,fire:a,get:u,insert:h,merge:c,observe:f,off:l,on:d,pop:p,push:v,render:m,reset:g,resetTemplate:y,reverse:w,set:b,shift:E,sort:x,splice:_,subtract:k,teardown:O,toggle:T,toHTML:A,unrender:C,unshift:R,update:S,updateModel:N}}(R,ne,re,ie,pe,ve,me,ge,ye,be,Ee,Ae,Se,Ne,Fe,je,Me,Vo,Mo,Do,Uo,Bo,Wo,$o,Ho,qo,Qo,Go,Ko,zo,Yo,Jo),Zo=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},ts=function(){var t=0;return function(){return"r-"+t++}}(),es=function(t,e,n,r){var i=t.root,o=t.keypath;return"sort"===n||"reverse"===n?void i.viewmodel.set(o,e):void(r&&i.viewmodel.splice(o,r))},ns=function(t,e,n,r,i){var o,s,a,u=[],h=["pop","push","reverse","shift","sort","splice","unshift"];return h.forEach(function(o){var s=function(){var e,s,a,u,h;for(e=n(this,o,Array.prototype.slice.call(arguments)),s=r(this,e),a=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,h=this._ractive.wrappers.length;h--;)u=this._ractive.wrappers[h],t.start(u.root),i(u,this,o,s),t.end();return this._ractive.setting=!1,a};e(u,o,{value:s})}),o={},o.__proto__?(s=function(t){t.__proto__=u},a=function(t){t.__proto__=Array.prototype}):(s=function(t){var n,r;for(n=h.length;n--;)r=h[n],e(t,r,{value:u[r],configurable:!0})},a=function(t){var e;for(e=h.length;e--;)delete t[h[e]]}),s.unpatch=a,s}(w,T,Le,Ie,es),rs=function(t,e,n){var r,i,o;return r={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(e,r,i){this.root=e,this.value=r,this.keypath=i,r._ractive||(t(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[e._guid]||(r._ractive.instances[e._guid]=0,r._ractive.instances.push(e)),r._ractive.instances[e._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var t,e,r,i,s;if(t=this.value,e=t._ractive,r=e.wrappers,i=e.instances,e.setting)return!1;if(s=r.indexOf(this),-1===s)throw new Error(o);if(r.splice(s,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(s=i.indexOf(this.root),-1===s)throw new Error(o);i.splice(s,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(T,s,ns),is=function(t,e){var n,r;return t&&(n={filter:function(n,r,i){return t.filter(n,r,i)&&e.filter(n)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=t.wrap(n,r,i),this.arrayWrapper=e.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}}),n}(E,rs),os=function(t,e,n,r){function i(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function o(t){var e;return s[t]||(e=t?t+".":"",s[t]=function(n,r){var o;return"string"==typeof n?(o={},o[e+n]=r,o):"object"==typeof n?e?i(n,t):n:void 0}),s[t]}var s={};return function(i,s){var a,u,h,c,f=this.ractive;for(a=f.adapt.length,u=0;a>u;u+=1){if(h=f.adapt[u],"string"==typeof h){var l=t.registries.adaptors.find(f,h);if(!l)throw new Error('Missing adaptor "'+h+'"');h=f.adapt[u]=l}if(h.filter(s,i,f))return c=this.wrapped[i]=h.wrap(f,s,i,o(i)),c.value=s,s}return f.magic?r.filter(s,i,f)?this.wrapped[i]=r.wrap(f,s,i):n.filter(s,i,f)&&(this.wrapped[i]=n.wrap(f,s,i)):f.modifyArrays&&e.filter(s,i,f)&&(this.wrapped[i]=e.wrap(f,s,i)),s}}(Z,rs,E,is),ss=function(t){var e,n,r,i,o=[""];for(e=t.length;e--;)for(n=t[e],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),-1===o.indexOf(i)&&o.push(i);return o},as=function(){function t(t){var n,r,i,o,s,a="";if(!e[t]){for(i=[];a.length<t;)a+=1;for(n=parseInt(a,2),o=function(t){return"1"===t},s=0;n>=s;s+=1){for(r=s.toString(2);r.length<t;)r="0"+r;i[s]=Array.prototype.map.call(r,o)}e[t]=i}return e[t]}var e={};return function(e){var n,r,i,o;return n=e.split("."),r=t(n.length),i=function(t,e){return t?"*":n[e]},o=r.map(function(t){return t.map(i).join(".")})}}(),us=function(t){function e(e,i,o){var s;r(e,i),o||(s=t(i),s.forEach(function(t){n(e,t,i)}))}function n(t,e,o){var s,a,u;s=t.depsMap.patternObservers,a=s[e],a&&a.forEach(function(e){var s=i.exec(e)[0];u=o?o+"."+s:s,r(t,u),n(t,e,u)})}function r(t,e){t.patternObservers.forEach(function(t){t.regex.test(e)&&t.update(e)})}var i=/[^\.]+$/;return e}(as),hs=function(t,e){function n(t){t.update()}function r(t,e,n){var r,i;(r=o(t,e,n))&&(i=t.get(e),r.forEach(function(t){return t.setValue(i)}))}function i(t,e,n){function r(t){t.forEach(i),t.forEach(s)}function i(e){var r=o(t,e,n);r&&u.push({keypath:e,deps:r})}function s(e){var i;(i=t.depsMap[n][e])&&r(i)}function a(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var u=[];r(e),u.forEach(a)}function o(t,e,n){var r=t.deps[n];return r?r[e]:null}function s(t,e){e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}var a=["observers","default"];return function(){var o,u,h,c,f,l=this,d=this,p=[],v={};if(this.changes.length){c=function(t){var e;(e=d.deps.computed[t])&&s(h,e)},f=function(t){var e;c(t),(e=d.depsMap.computed[t])&&e.forEach(f)};do o=this.changes,s(p,o),this.changes=[],h=[],u=t(o),u.forEach(c),o.forEach(f),h.forEach(n);while(this.changes.length);return u=t(p),this.patternObservers.length&&(u.forEach(function(t){return e(l,t,!0)}),p.forEach(function(t){return e(l,t)})),a.forEach(function(t){l.deps[t]&&(u.forEach(function(e){return r(l,e,t)}),i(l,p,t))}),p.forEach(function(t){v[t]=l.get(t)}),this.implicitChanges={},v}}}(ss,us),cs=function(){this.capturing=!0,this.captured=[]},fs=function(t,e){var n,r,i;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),(i=this.computations[t])&&i.compute(),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())},ls={FAILED_LOOKUP:!0},ds=function(t,e){var n={},r=function(t,r){this.viewmodel=t,this.root=t.ractive,this.ref=r,this.parentFragment=n,t.unresolvedImplicitDependencies[r]=!0,t.unresolvedImplicitDependencies.push(this),e.addUnresolved(this)};return r.prototype={resolve:function(){this.viewmodel.mark(this.ref),this.viewmodel.unresolvedImplicitDependencies[this.ref]=!1,t(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){e.removeUnresolved(this)}},r}(f,w),ps=function(t,e){function n(e,n){var r,i,o,s,a,u,h;return r=n.split("."),i=r.pop(),o=r.join("."),s=e.get(o),(h=e.wrapped[o])&&(s=h.get()),null!==s&&void 0!==s?((a=e.cacheMap[o])?-1===a.indexOf(n)&&a.push(n):e.cacheMap[o]=[n],"object"!=typeof s||i in s?(u=s[i],e.adapt(n,u,!1),e.cache[n]=u,u):e.cache[n]=t):void 0}var r={};return function(i){var o=arguments[1];void 0===o&&(o=r);var s,a,u,h,c=this.ractive,f=this.cache;return void 0===f[i]?((a=this.computations[i])?s=a.value:(u=this.wrapped[i])?s=u.value:i?s=(h=this.evaluators[i])?h.value:n(this,i):(this.adapt("",c.data),s=c.data),f[i]=s):s=f[i],o.evaluateWrapped&&(u=this.wrapped[i])&&(s=u.get()),o.capture&&this.capturing&&-1===this.captured.indexOf(i)&&(this.captured.push(i),s===t&&this.unresolvedImplicitDependencies[i]!==!0&&new e(this,i)),s===t?void 0:s}}(ls,ds),vs=function(t,e){e&&(this.implicitChanges[t]=!0),-1===this.changes.indexOf(t)&&(this.changes.push(t),this.clearCache(t))},ms=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var s,a,u;a=r,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s}),i.unchanged=!o,i},gs=function(t,e,n){function r(e){return"function"==typeof e.merge&&(!e.subtype||e.subtype===t.SECTION_EACH)}function i(t){return JSON.stringify(t)}function o(t){if(t===!0)return i;if("string"==typeof t)return s[t]||(s[t]=function(e){return e[t]}),s[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var s={};return function(t,i,s,a){var u,h,c,f,l,d=this;if(this.mark(t),a&&a.compare){c=o(a.compare);try{u=i.map(c),h=s.map(c)}catch(p){if(this.debug)throw p;e("Merge operation: comparison failed. Falling back to identity checking"),u=i,h=s}}else u=i,h=s;f=n(u,h),f.forEach(function(e,n){-1===e&&d.mark(t+"."+n)}),this.set(t,s,!0),(l=this.deps["default"][t])&&l.filter(r).forEach(function(t){return t.merge(f)}),i.length!==s.length&&this.mark(t+".length",!0)}}(Ke,F,ms),ys=function(){function t(t,e,n){var r,i,o,s;for(r=e.split(".");r.length;)r.pop(),i=r.join("."),o=t.depsMap[n]||(t.depsMap[n]={}),s=o[i]||(o[i]=[]),void 0===s[e]&&(s[e]=0,s.push(e)),s[e]+=1,e=i}return function(e,n){var r=arguments[2];void 0===r&&(r="default");var i,o,s;n.isStatic||(i=this.deps[r]||(this.deps[r]={}),o=i[e]||(i[e]=[]),o.push(n),e&&((s=this.evaluators[e])&&(s.dependants||s.wake(),s.dependants+=1),t(this,e,r)))}}(),ws=function(){return this.capturing=!1,this.captured},bs=function(t,e){return function(n,r,i){var o,s,a,u,h,c,f,l;t(this.cache[n],r)||(h=this.computations[n],c=this.wrapped[n],f=this.evaluators[n],h&&!h.setting&&h.set(r),c&&c.reset&&(l=c.reset(r)!==!1,l&&(r=c.get())),f&&(f.value=r),h||f||l||(o=n.split("."),s=o.pop(),a=o.join("."),c=this.wrapped[a],c&&c.set?c.set(s,r):(u=c?c.get():this.get(a),u||(u=e(s),this.set(a,u,!0)),u[s]=r)),i?this.clearCache(n):this.mark(n))}}(v,b),Es=function(t){function e(e){return e.type===t.SECTION&&(!e.subtype||e.subtype===t.SECTION_EACH)&&e.rendered}return function(t,n){var r,i,o=this;for(r=n.rangeStart;r<n.rangeEnd;r+=1)o.mark(t+"."+r);n.balance&&o.mark(t+".length",!0),(i=o.deps["default"][t])&&i.filter(e).forEach(function(t){return t.splice(n)})}}(Ke),xs=function(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()
},_s=function(){function t(t,e,n){var r,i,o,s;for(r=e.split(".");r.length;)r.pop(),i=r.join("."),o=t.depsMap[n],s=o[i],s[e]-=1,s[e]||(s.splice(s.indexOf(e),1),s[e]=void 0),e=i}return function(e,n){var r=arguments[2];void 0===r&&(r="default");var i,o,s;if(!n.isStatic){if(i=this.deps[r][e],o=i.indexOf(n),-1===o)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(o,1),e&&((s=this.evaluators[e])&&(s.dependants-=1,s.dependants||s.sleep()),t(this,e,r))}}}(),ks=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),Os=function(t,e,n){var r=function(t,e,n){this.ractive=t,this.viewmodel=t.viewmodel,this.key=e,this.getter=n.get,this.setter=n.set,this.dependencies=[],this.update()};return r.prototype={set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,t)},compute:function(){var e,r,i;e=this.ractive,e.viewmodel.capture();try{this.value=this.getter.call(e)}catch(o){t.warn({debug:e.debug,message:"failedComputation",args:{key:this.key,err:o.message||o}}),r=!0}return i=e.viewmodel.release(),n(this,this.dependencies,i),r?!1:!0},update:function(){var t=this.value;this.compute()&&!e(this.value,t)&&this.ractive.viewmodel.mark(this.key)}},r}(Ln,v,In),Ts=function(t,e){return function(n,r){var i,o;for(i in r)o=t(r[i]),n.viewmodel.computations[i]=new e(n,i,o)}}(ks,Os),As=function(){function t(t){return"string"==typeof t&&(t=[t]),t}var e={lookup:function(t,e){var n,r=t.adapt;if(!r||!r.length)return r;if(e&&Object.keys(e).length&&(n=r.length))for(;n--;){var i=r[n];"string"==typeof i&&(r[n]=e[i]||i)}return r},combine:function(e,n){return e=t(e),n=t(n),e&&e.length?n&&n.length?(e.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n):e.slice():n}};return e}(),Cs=function(t,e,n,r,i,o,s,a,u,h,c,f,l,d,p,v){var m;try{Object.defineProperty({},"test",{value:0})}catch(g){m=!0}var y=function(e){this.ractive=e,y.extend(e.constructor,e),this.cache={},this.cacheMap=t(null),this.deps={computed:{},"default":{}},this.depsMap={computed:{},"default":{}},this.patternObservers=[],this.wrapped=t(null),this.evaluators=t(null),this.computations=t(null),this.captured=null,this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={}};return y.extend=function(t,e){if(e.magic&&m)throw new Error("Getters and setters (magic mode) are not supported in this browser");e.adapt=v.combine(t.prototype.adapt,e.adapt)||[],e.adapt=v.lookup(e,e.adaptors)},y.prototype={adapt:e,applyChanges:n,capture:r,clearCache:i,get:o,mark:s,merge:a,register:u,release:h,set:c,splice:f,teardown:l,unregister:d,compute:function(){p(this.ractive,this.ractive.computed)}},y}(W,os,hs,cs,fs,ps,vs,gs,ys,ws,bs,Es,xs,_s,Ts,As),Rs=function(t,e,n,r,i,o){function s(t){var e;if(e=n(t.el)){var r=t.transitionsEnabled;if(t.noIntro&&(t.transitionsEnabled=!1),e&&!t.append){if(e.__ractive_instances__)try{e.__ractive_instances__.splice(0,e.__ractive_instances__.length).forEach(function(t){return t.teardown()})}catch(i){}e.innerHTML=""}t.render(e,t.append),t.transitionsEnabled=r}}function a(t,n){t._guid=r(),t._subs=e(null),t._config={},t._twowayBindings=e(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],n._parent&&n._component&&(t._parent=n._parent,t.component=n._component,n._component.instance=t)}return function(e){var n=arguments[1];void 0===n&&(n={}),a(e,n),t.init(e.constructor,e,n),e.viewmodel=new i(e),e.viewmodel.compute(),e.template&&(e.fragment=new o({template:e.template,root:e,owner:e})),e.viewmodel.applyChanges(),s(e)}}(Z,W,we,ts,Cs,jo),Ss=function(t){return function(e,n,r){e.beforeInit&&e.beforeInit(r),t(e,r)}}(Rs),Ns=function(t,e,n,r){function i(e,n,r){for(var i in r)if(!(i in u)&&r.hasOwnProperty(i)){var o=r[i];"function"==typeof o&&(o=t(e,i,o)),n[i]=o}}function o(t){if(!(t.prototype instanceof a))return t;for(var n={};t;)c.forEach(function(e){s(e.useDefaults?t.prototype:t,n,e.name)}),Object.keys(t.prototype).forEach(function(r){if("computed"!==r){var i=t.prototype[r];if(r in n){if("function"==typeof n[r]&&"function"==typeof i&&n[r]._method){var o,s=i._method;s&&(i=i._method),o=e(n[r]._method,i),s&&(o._method=o),n[r]=o}}else n[r]=i._method?i._method:i}}),t=t._parent!==a?t._parent:!1;return n}function s(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}var a,u={_parent:!0,_component:!0},h={toPrototype:i,toOptions:o},c=n.registries;return n.keys.forEach(function(t){return u[t]=!0}),r.push(function(){a=r.Ractive}),h}(J,M,Z,i),Ls=function(t,e,n,r,i,o,s){return function a(){var u=arguments[0];void 0===u&&(u={});var h,c,f,l=this;return u=s.toOptions(u),h=function(t){i(this,h,t)},c=t(l.prototype),c.constructor=h,f={_guid:{value:n()},defaults:{value:c},extend:{value:a,writable:!0,configurable:!0},_parent:{value:l}},e(h,f),r.extend(l,c,u),o.extend(l,c),s.toPrototype(l.prototype,c,u),h.prototype=c,h}}(W,A,Zo,Z,Ss,Cs,Ns),Is=function(t,e,n,r,i,o,s,a,u,h,c,f,l){var d,p;for(d=function(t){f(this,t)},p={extend:{value:h},parse:{value:c},Promise:{value:a},svg:{value:r},magic:{value:i},VERSION:{value:"0.5.5"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:e},events:{writable:!0,value:{}},interpolators:{writable:!0,value:n},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},o(d,p),d.prototype=u(s,t),d.prototype.constructor=d,d.defaults=d.prototype,l.Ractive=d;l.length;)l.pop()();var v="function";if(typeof Date.now!==v||typeof String.prototype.trim!==v||typeof Object.keys!==v||typeof Array.prototype.indexOf!==v||typeof Array.prototype.forEach!==v||typeof Array.prototype.map!==v||typeof Array.prototype.filter!==v||"undefined"!=typeof window&&typeof window.addEventListener!==v)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return d}(n,r,h,c,x,A,Xo,l,Zr,Ls,B,Rs,i);"undefined"!=typeof module&&module.exports?module.exports=Is:"function"==typeof define&&define.amd&&define(function(){return Is}),t.Ractive=Is,Is.noConflict=function(){return t.Ractive=e,Is}}("undefined"!=typeof window?window:this);
},{}],"ractive":[function(require,module,exports){
module.exports=require('apCE4A');
},{}],"stapes":[function(require,module,exports){
module.exports=require('9b+syo');
},{}],"9b+syo":[function(require,module,exports){
!function(){"use strict";var t="0.8.1",e=1;if(!Object.create)var n=function(){};var i=Array.prototype.slice,r={attributes:{},eventHandlers:{"-1":{}},guid:-1,addEvent:function(t){r.eventHandlers[t.guid][t.type]||(r.eventHandlers[t.guid][t.type]=[]),r.eventHandlers[t.guid][t.type].push({guid:t.guid,handler:t.handler,scope:t.scope,type:t.type})},addEventHandler:function(t,e,n){var i,a={};"string"==typeof t?(i=n||!1,a[t]=e):(i=e||!1,a=t);for(var s in a)for(var u=a[s],o=s.split(" "),l=0,c=o.length;c>l;l++){var d=o[l];r.addEvent.call(this,{guid:this._guid||this._.guid,handler:u,scope:i,type:d})}},addGuid:function(t,n){(!t._guid||n)&&(t._guid=e++,r.attributes[t._guid]={},r.eventHandlers[t._guid]={})},attr:function(t){return r.attributes[t]},clone:function(t){var e=r.typeOf(t);return"object"===e?r.extend({},t):"array"===e?t.slice(0):void 0},create:function(t){return Object.create?Object.create(t):(n.prototype=t,new n)},createSubclass:function(t,e){function n(){if(!(this instanceof n))throw new Error("Please use 'new' when initializing Stapes classes");this.on&&r.addGuid(this,!0),s.apply(this,arguments)}t=t||{},e=e||!1;var i=t.superclass.prototype,s=t.hasOwnProperty("constructor")?t.constructor:function(){};e&&r.extend(i,a),n.prototype=r.create(i),n.prototype.constructor=n,r.extend(n,{extend:function(){return r.extendThis.apply(this,arguments)},parent:i,proto:function(){return r.extendThis.apply(this.prototype,arguments)},subclass:function(t){return t=t||{},t.superclass=this,r.createSubclass(t)}});for(var u in t)"constructor"!==u&&"superclass"!==u&&(n.prototype[u]=t[u]);return n},emitEvents:function(t,e,n,a){n=n||!1,a=a||this._guid;for(var s=i.call(r.eventHandlers[a][t]),u=0,o=s.length;o>u;u++){var l=r.extend({},s[u]),c=l.scope?l.scope:this;n&&(l.type=n),l.scope=c,l.handler.call(l.scope,e,l)}},extend:function(){for(var t=i.call(arguments),e=t.shift(),n=0,r=t.length;r>n;n++){var a=t[n];for(var s in a)e[s]=a[s]}return e},extendThis:function(){var t=i.call(arguments);return t.unshift(this),r.extend.apply(this,t)},makeUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},removeAttribute:function(t,e){e=e||!1;for(var n=r.trim(t).split(" "),i={},a=0,s=n.length;s>a;a++){var u=r.trim(n[a]);u&&(i.key=u,i.oldValue=r.attr(this._guid)[u],delete r.attr(this._guid)[u],e||(this.emit("change",u),this.emit("change:"+u),this.emit("mutate",i),this.emit("mutate:"+u,i),this.emit("remove",u),this.emit("remove:"+u)),delete i.oldValue)}},removeEventHandler:function(t,e){var n=r.eventHandlers[this._guid];if(t&&e){if(n=n[t],!n)return;for(var i,a=0,s=n.length;s>a;a++)i=n[a].handler,i&&i===e&&(n.splice(a--,1),s--)}else t?delete n[t]:r.eventHandlers[this._guid]={}},setAttribute:function(t,e,n){n=n||!1;var i=this.has(t),a=r.attr(this._guid)[t];if(e!==a&&(r.attr(this._guid)[t]=e,!n)){this.emit("change",t),this.emit("change:"+t,e);var s={key:t,newValue:e,oldValue:a||null};this.emit("mutate",s),this.emit("mutate:"+t,s);var u=i?"update":"create";this.emit(u,t),this.emit(u+":"+t,e)}},trim:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},typeOf:function(t){return null===t||"undefined"==typeof t?String(t):Object.prototype.toString.call(t).replace(/\[object |\]/g,"").toLowerCase()},updateAttribute:function(t,e,n){var i=this.get(t),a=r.typeOf(i);("object"===a||"array"===a)&&(i=r.clone(i));var s=e.call(this,i,t);r.setAttribute.call(this,t,s,n||!1)}},a={emit:function(t,e){e="undefined"==typeof e?null:e;for(var n=t.split(" "),i=0,a=n.length;a>i;i++){var s=n[i];r.eventHandlers[-1].all&&r.emitEvents.call(this,"all",e,s,-1),r.eventHandlers[-1][s]&&r.emitEvents.call(this,s,e,s,-1),"number"==typeof this._guid&&(r.eventHandlers[this._guid].all&&r.emitEvents.call(this,"all",e,s),r.eventHandlers[this._guid][s]&&r.emitEvents.call(this,s,e))}},off:function(){r.removeEventHandler.apply(this,arguments)},on:function(){r.addEventHandler.apply(this,arguments)}};r.Module=function(){},r.Module.prototype={each:function(t,e){var n=r.attr(this._guid);for(var i in n){var a=n[i];t.call(e||this,a,i)}},extend:function(){return r.extendThis.apply(this,arguments)},filter:function(t){var e=[],n=r.attr(this._guid);for(var i in n)t.call(this,n[i],i)&&e.push(n[i]);return e},get:function(t){if("string"==typeof t){if(arguments.length>1){for(var e={},n=0,i=arguments.length;i>n;n++){var a=arguments[n];e[a]=this.get(a)}return e}return this.has(t)?r.attr(this._guid)[t]:null}if("function"==typeof t){var s=this.filter(t);return s.length?s[0]:null}},getAll:function(){return r.clone(r.attr(this._guid))},getAllAsArray:function(){var t=[],e=r.attr(this._guid);for(var n in e){var i=e[n];"object"!==r.typeOf(i)||i.id||(i.id=n),t.push(i)}return t},has:function(t){return"undefined"!=typeof r.attr(this._guid)[t]},map:function(t,e){var n=[];return this.each(function(i,r){n.push(t.call(e||this,i,r))},e||this),n},push:function(t,e){if("array"===r.typeOf(t))for(var n=0,i=t.length;i>n;n++)r.setAttribute.call(this,r.makeUuid(),t[n],e||!1);else r.setAttribute.call(this,r.makeUuid(),t,e||!1);return this},remove:function(t,e){return"undefined"==typeof t?(r.attributes[this._guid]={},this.emit("change remove")):"function"==typeof t?this.each(function(n,i){t(n)&&r.removeAttribute.call(this,i,e)}):r.removeAttribute.call(this,t,e||!1),this},set:function(t,e,n){if("object"==typeof t)for(var i in t)r.setAttribute.call(this,i,t[i],e||!1);else r.setAttribute.call(this,t,e,n||!1);return this},size:function(){var t=0,e=r.attr(this._guid);for(var n in e)t++;return t},update:function(t,e,n){return"string"==typeof t?r.updateAttribute.call(this,t,e,n||!1):"function"==typeof t&&this.each(function(e,n){r.updateAttribute.call(this,n,t)}),this}};var s={_:r,extend:function(){return r.extendThis.apply(r.Module.prototype,arguments)},mixinEvents:function(t){return t=t||{},r.addGuid(t),r.extend(t,a)},on:function(){r.addEventHandler.apply(this,arguments)},subclass:function(t,e){return e=e||!1,t=t||{},t.superclass=e?function(){}:r.Module,r.createSubclass(t,!e)},version:t};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports.Stapes=s):"function"==typeof define&&define.amd?define(function(){return s}):window.Stapes=s}();
},{}],"superagent":[function(require,module,exports){
module.exports=require('bBcoDq');
},{}],"bBcoDq":[function(require,module,exports){
function noop(){}function isHost(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function isObject(t){return t===Object(t)}function serialize(t){if(!isObject(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function parseString(t){for(var e,r,s={},i=t.split("&"),o=0,n=i.length;n>o;++o)r=i[o],e=r.split("="),s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return s}function parseHeader(t){var e,r,s,i,o=t.split(/\r?\n/),n={};o.pop();for(var u=0,a=o.length;a>u;++u)r=o[u],e=r.indexOf(":"),s=r.slice(0,e).toLowerCase(),i=trim(r.slice(e+1)),n[s]=i;return n}function type(t){return t.split(/ *; */).shift()}function params(t){return reduce(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),s=r.shift(),i=r.shift();return s&&i&&(t[s]=i),t},{})}function Response(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function Request(t,e){var r=this;Emitter.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new Response(r);"HEAD"==t&&(e.text=null),r.callback(null,e)})}function request(t,e){return"function"==typeof e?new Request("GET",t).end(e):1==arguments.length?new Request("GET",t):new Request(t,e)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this:window,trim="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(t){return this.header[t.toLowerCase()]},Response.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=type(t);var e=params(t);for(var r in e)this[r]=e[r]},Response.prototype.parseBody=function(t){var e=request.parse[this.type];return e?e(t):null},Response.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},Response.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,s="cannot "+e+" "+r+" ("+this.status+")",i=new Error(s);return i.status=this.status,i.method=e,i.url=r,i},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(t){return t(this),this},Request.prototype.timeout=function(t){return this._timeout=t,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(t,e){if(isObject(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},Request.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},Request.prototype.type=function(t){return this.set("Content-Type",request.types[t]||t),this},Request.prototype.accept=function(t){return this.set("Accept",request.types[t]||t),this},Request.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},Request.prototype.query=function(t){return"string"!=typeof t&&(t=serialize(t)),t&&this._query.push(t),this},Request.prototype.field=function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},Request.prototype.attach=function(t,e,r){return this._formData||(this._formData=new FormData),this._formData.append(t,e,r),this},Request.prototype.send=function(t){var e=isObject(t),r=this.getHeader("Content-Type");if(e&&isObject(this._data))for(var s in t)this._data[s]=t[s];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(r||this.type("json"),this):this},Request.prototype.callback=function(t,e){var r=this._callback;return 2==r.length?r(t,e):t?this.emit("error",t):void r(e)},Request.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},Request.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(t){var e=this,r=this.xhr=getXHR(),s=this._query.join("&"),i=this._timeout,o=this._formData||this._data;if(this._callback=t||noop,r.onreadystatechange=function(){return 4==r.readyState?0==r.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},r.upload&&(r.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),i&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},i)),s&&(s=request.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!isHost(o)){var n=request.serialize[this.getHeader("Content-Type")];n&&(o=n(o))}for(var u in this.header)null!=this.header[u]&&r.setRequestHeader(u,this.header[u]);return this.emit("request",this),r.send(o),this},request.Request=Request,request.get=function(t,e,r){var s=request("GET",t);return"function"==typeof e&&(r=e,e=null),e&&s.query(e),r&&s.end(r),s},request.head=function(t,e,r){var s=request("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.del=function(t,e){var r=request("DELETE",t);return e&&r.end(e),r},request.patch=function(t,e,r){var s=request("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.post=function(t,e,r){var s=request("POST",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.put=function(t,e,r){var s=request("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},module.exports=request;
},{"emitter":86,"reduce":87}],86:[function(require,module,exports){

/**
 * Expose `Emitter`.
 */

module.exports = Emitter;

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks[event] = this._callbacks[event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  var self = this;
  this._callbacks = this._callbacks || {};

  function on() {
    self.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks[event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks[event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }
  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};
  var args = [].slice.call(arguments, 1)
    , callbacks = this._callbacks[event];

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks[event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};

},{}],87:[function(require,module,exports){

/**
 * Reduce `arr` with `fn`.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @param {Mixed} initial
 *
 * TODO: combatible error handling?
 */

module.exports = function(arr, fn, initial){  
  var idx = 0;
  var len = arr.length;
  var curr = arguments.length == 3
    ? initial
    : arr[idx++];

  while (idx < len) {
    curr = fn.call(null, curr, arr[idx], ++idx, arr);
  }
  
  return curr;
};
},{}],"ZKusGn":[function(require,module,exports){
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(t):k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);
},{}],"underscore":[function(require,module,exports){
module.exports=require('ZKusGn');
},{}],"Q76874":[function(require,module,exports){
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):e.simpleStorage=t()}(this,function(){"use strict";function e(){window.localStorage.setItem("__simpleStorageInitTest","tmpval"),window.localStorage.removeItem("__simpleStorageInitTest"),a(),_(),t(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&r()},!1),p=!0}function t(){"addEventListener"in window?window.addEventListener("storage",r,!1):document.attachEvent("onstorage",r)}function r(){try{a()}catch(e){return void(p=!1)}_()}function a(){var e=localStorage.simpleStorage;try{m=JSON.parse(e)}catch(t){m={}}l=localStorage.simpleStorage?String(localStorage.simpleStorage).length:0}function i(){try{localStorage.simpleStorage=JSON.stringify(m),l=localStorage.simpleStorage?String(localStorage.simpleStorage).length:0}catch(e){return e}return!0}function _(){var e,t,r,a,o,s=1/0,l=0;if(clearTimeout(g),m&&m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL){for(e=+new Date,o=m.__simpleStorage_meta.TTL.keys||[],a=m.__simpleStorage_meta.TTL.expire||{},t=0,r=o.length;r>t;t++){if(!(a[o[t]]<=e)){a[o[t]]<s&&(s=a[o[t]]);break}l++,delete m[o[t]],delete a[o[t]]}1/0!=s&&(g=setTimeout(_,s-e)),l&&(o.splice(0,l),n(),i())}}function o(e,t){var r,a,i=+new Date,o=!1;if(t=Number(t)||0,0!==t){if(!m.hasOwnProperty(e))return!1;if(m.__simpleStorage_meta||(m.__simpleStorage_meta={}),m.__simpleStorage_meta.TTL||(m.__simpleStorage_meta.TTL={expire:{},keys:[]}),m.__simpleStorage_meta.TTL.expire[e]=i+t,m.__simpleStorage_meta.TTL.expire.hasOwnProperty(e))for(r=0,a=m.__simpleStorage_meta.TTL.keys.length;a>r;r++)m.__simpleStorage_meta.TTL.keys[r]==e&&m.__simpleStorage_meta.TTL.keys.splice(r);for(r=0,a=m.__simpleStorage_meta.TTL.keys.length;a>r;r++)m.__simpleStorage_meta.TTL.expire[m.__simpleStorage_meta.TTL.keys[r]]>i+t&&m.__simpleStorage_meta.TTL.keys.splice(r,0,e);o||m.__simpleStorage_meta.TTL.keys.push(e)}else if(m&&m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL){if(m.__simpleStorage_meta.TTL.expire.hasOwnProperty(e))for(delete m.__simpleStorage_meta.TTL.expire[e],r=0,a=m.__simpleStorage_meta.TTL.keys.length;a>r;r++)if(m.__simpleStorage_meta.TTL.keys[r]==e){m.__simpleStorage_meta.TTL.keys.splice(r,1);break}n()}return clearTimeout(g),m&&m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL&&m.__simpleStorage_meta.TTL.keys.length&&(g=setTimeout(_,Math.max(m.__simpleStorage_meta.TTL.expire[m.__simpleStorage_meta.TTL.keys[0]]-i,0))),!0}function n(){var e,t=!1,r=!1;if(!m||!m.__simpleStorage_meta)return t;m.__simpleStorage_meta.TTL&&!m.__simpleStorage_meta.TTL.keys.length&&(delete m.__simpleStorage_meta.TTL,t=!0);for(e in m.__simpleStorage_meta)if(m.__simpleStorage_meta.hasOwnProperty(e)){r=!0;break}return r||(delete m.__simpleStorage_meta,t=!0),t}var s="0.1.2",m=!1,l=0,p=!1,g=null;try{e()}catch(T){}return{version:s,canUse:function(){return!!p},set:function(e,t,r){if("__simpleStorage_meta"==e)return!1;if(!m)return!1;if("undefined"==typeof t)return this.deleteKey(e);r=r||{};try{t=JSON.parse(JSON.stringify(t))}catch(a){return a}return m[e]=t,o(e,r.TTL||0),i()},get:function(e){return m?m.hasOwnProperty(e)&&"__simpleStorage_meta"!=e&&this.getTTL(e)?m[e]:void 0:!1},deleteKey:function(e){return m&&e in m?(delete m[e],o(e,0),i()):!1},setTTL:function(e,t){return m?(o(e,t),i()):!1},getTTL:function(e){var t;return m&&m.hasOwnProperty(e)?m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL&&m.__simpleStorage_meta.TTL.expire&&m.__simpleStorage_meta.TTL.expire.hasOwnProperty(e)?(t=Math.max(m.__simpleStorage_meta.TTL.expire[e]-+new Date||0,0),t||!1):1/0:!1},flush:function(){if(!m)return!1;m={};try{return localStorage.removeItem("simpleStorage"),!0}catch(e){return e}},index:function(){if(!m)return!1;var e,t=[];for(e in m)m.hasOwnProperty(e)&&"__simpleStorage_meta"!=e&&t.push(e);return t},storageSize:function(){return l}}});
},{}],"simpleStorage":[function(require,module,exports){
module.exports=require('Q76874');
},{}],"V9Qpms":[function(require,module,exports){
(function (global){

; require("/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(e){function t(e,t,r){var n=e[0],o=/er/.test(r)?_indeterminate:/bl/.test(r)?p:u,s=r==_update?{checked:n[u],disabled:n[p],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:n[o];if(/^(ch|di|in)/.test(r)&&!s)i(e,o);else if(/^(un|en|de)/.test(r)&&s)a(e,o);else if(r==_update)for(var d in s)s[d]?i(e,d,!0):a(e,d,!0);else t&&"toggle"!=r||(t||e[_callback]("ifClicked"),s?n[_type]!==l&&a(e,o):i(e,o))}function i(t,i,r){var f=t[0],h=t.parent(),b=i==u,m=i==_indeterminate,v=i==p,k=m?_determinate:b?_:"enabled",y=n(t,k+o(f[_type])),g=n(t,i+o(f[_type]));if(!0!==f[i]){if(!r&&i==u&&f[_type]==l&&f.name){var C=t.closest("form"),w='input[name="'+f.name+'"]',w=C.length?C.find(w):e(w);w.each(function(){this!==f&&e(this).data(d)&&a(e(this),i)})}m?(f[i]=!0,f[u]&&a(t,u,"force")):(r||(f[i]=!0),b&&f[_indeterminate]&&a(t,_indeterminate,!1)),s(t,b,i,r)}f[p]&&n(t,_cursor,!0)&&h.find("."+c).css(_cursor,"default"),h[_add](g||n(t,i)||""),h.attr("role")&&!m&&h.attr("aria-"+(v?p:u),"true"),h[_remove](y||n(t,k)||"")}function a(e,t,i){var a=e[0],r=e.parent(),d=t==u,l=t==_indeterminate,f=t==p,h=l?_determinate:d?_:"enabled",b=n(e,h+o(a[_type])),m=n(e,t+o(a[_type]));!1!==a[t]&&((l||!i||"force"==i)&&(a[t]=!1),s(e,d,h,i)),!a[p]&&n(e,_cursor,!0)&&r.find("."+c).css(_cursor,"pointer"),r[_remove](m||n(e,t)||""),r.attr("role")&&!l&&r.attr("aria-"+(f?p:u),"false"),r[_add](b||n(e,h)||"")}function r(t,i){t.data(d)&&(t.parent().html(t.attr("style",t.data(d).s||"")),i&&t[_callback](i),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function n(e,t,i){return e.data(d)?e.data(d).o[t+(i?"":"Class")]:void 0}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,i,a){a||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+o(i)))}var d="iCheck",c=d+"-helper",l="radio",u="checked",_="un"+u,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[d]=function(n,o){var s='input[type="checkbox"], input[type="'+l+'"]',_=e(),f=function(t){t.each(function(){var t=e(this);_=_.add(t.is(s)?t:t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(n))return n=n.toLowerCase(),f(this),_.each(function(){var i=e(this);"destroy"==n?r(i,"ifDestroyed"):t(i,!0,n),e.isFunction(o)&&o()});if("object"!=typeof n&&n)return this;var h=e.extend({checkedClass:u,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},n),b=h.handle,m=h.hoverClass||"hover",v=h.focusClass||"focus",k=h.activeClass||"active",y=!!h.labelHover,g=h.labelHoverClass||"hover",C=0|(""+h.increaseArea).replace("%","");return("checkbox"==b||b==l)&&(s='input[type="'+b+'"]'),-50>C&&(C=-50),f(this),_.each(function(){var n=e(this);r(n);var o=this,s=o.id,_=-C+"%",f=100+2*C+"%",f={position:"absolute",top:_,left:_,display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},_=_mobile?{position:"absolute",visibility:"hidden"}:C?f:{position:"absolute",opacity:0},b="checkbox"==o[_type]?h.checkboxClass||"icheckbox":h.radioClass||"i"+l,w=e(_label+'[for="'+s+'"]').add(n.closest(_label)),x=!!h.aria,A=d+"-"+Math.random().toString(36).substr(2,6),H='<div class="'+b+'" '+(x?'role="'+o[_type]+'" ':"");x&&w.each(function(){H+='aria-labelledby="',this.id?H+=this.id:(this.id=A,H+=A),H+='"'}),H=n.wrap(H+"/>")[_callback]("ifCreated").parent().append(h.insert),f=e('<ins class="'+c+'"/>').css(f).appendTo(H),n.data(d,{o:h,s:n.attr("style")}).css(_),h.inheritClass&&H[_add](o.className||""),h.inheritID&&s&&H.attr("id",d+"-"+s),"static"==H.css("position")&&H.css("position","relative"),t(n,!0,_update),w.length&&w.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var a=i[_type],r=e(this);if(!o[p]){if(a==_click){if(e(i.target).is("a"))return;t(n,!1,!0)}else y&&(/ut|nd/.test(a)?(H[_remove](m),r[_remove](g)):(H[_add](m),r[_add](g)));if(!_mobile)return!1;i.stopPropagation()}}),n.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type];return e=e.keyCode,t==_click?!1:"keydown"==t&&32==e?(o[_type]==l&&o[u]||(o[u]?a(n,u):i(n,u)),!1):void("keyup"==t&&o[_type]==l?!o[u]&&i(n,u):/us|ur/.test(t)&&H["blur"==t?_remove:_add](v))}),f.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var i=e[_type],a=/wn|up/.test(i)?k:m;if(!o[p]){if(i==_click?t(n,!1,!0):(/wn|er|in/.test(i)?H[_add](a):H[_remove](a+" "+k),w.length&&y&&a==m&&w[/ut|nd/.test(i)?_remove:_add](g)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto);
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify":"UErKnN"}],"icheck":[function(require,module,exports){
module.exports=require('V9Qpms');
},{}],"mousewheel":[function(require,module,exports){
module.exports=require('tW1b3G');
},{}],"tW1b3G":[function(require,module,exports){
(function (global){

; require("/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),r=0,f=0,d=0,m=0,c=0,g=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(f=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(f=-1*d,d=0),r=0===d?f:d,"deltaY"in s&&(d=-1*s.deltaY,r=d),"deltaX"in s&&(f=s.deltaX,0===d&&(r=-1*f)),0!==d||0!==f){if(1===s.deltaMode){var w=e.data(this,"mousewheel-line-height");r*=w,d*=w,f*=w}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");r*=v,d*=v,f*=v}if(m=Math.max(Math.abs(d),Math.abs(f)),(!l||l>m)&&(l=m,n(s,m)&&(l/=40)),n(s,m)&&(r/=40,f/=40,d/=40),r=Math[r>=1?"floor":"ceil"](r/l),f=Math[f>=1?"floor":"ceil"](f/l),d=Math[d>=1?"floor":"ceil"](d/l),u.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();c=t.clientX-p.left,g=t.clientY-p.top}return t.deltaX=f,t.deltaY=d,t.deltaFactor=l,t.offsetX=c,t.offsetY=g,t.deltaMode=0,a.unshift(t,r,f,d),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){l=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var r=s.length;r;)e.event.fixHooks[s[--r]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t)["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify":"UErKnN"}],"notifyjs":[function(require,module,exports){
module.exports=require('lXRrHb');
},{}],"lXRrHb":[function(require,module,exports){
(function (global){

; require("/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(t,n,i,e){"use strict";var r,o,s,a,h,l,c,u,p,d,f,m,w,y,g,v,b,x,S,P,N,k,C,H,T,A,M,j=[].indexOf||function(t){for(var n=0,i=this.length;i>n;n++)if(n in this&&this[n]===t)return n;return-1};N="notify",P=N+"js",s=N+"!blank",C={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},w=["l","c","r"],M=["t","m","b"],b=["t","b","l","r"],x={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},S=function(t){var n;return n=[],i.each(t.split(/\W+/),function(t,i){var r;return r=i.toLowerCase().charAt(0),C[r]?n.push(r):e}),n},A={},a={name:"core",html:'<div class="'+P+'-wrapper">\n  <div class="'+P+'-arrow"></div>\n  <div class="'+P+'-container"></div>\n</div>',css:"."+P+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+P+"-corner ."+P+"-wrapper,\n."+P+"-corner ."+P+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+P+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+P+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n  position: relative;\n}\n\n."+P+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},T={"border-radius":["-webkit-","-moz-"]},f=function(t){return A[t]},o=function(n,e){var r,o,s,a;if(!n)throw"Missing Style name";if(!e)throw"Missing Style definition";if(!e.html)throw"Missing Style HTML";return(null!=(a=A[n])?a.cssElem:void 0)&&(t.console&&console.warn(""+N+": overwriting style '"+n+"'"),A[n].cssElem.remove()),e.name=n,A[n]=e,r="",e.classes&&i.each(e.classes,function(t,n){return r+="."+P+"-"+e.name+"-"+t+" {\n",i.each(n,function(t,n){return T[t]&&i.each(T[t],function(i,e){return r+="  "+e+t+": "+n+";\n"}),r+="  "+t+": "+n+";\n"}),r+="}\n"}),e.css&&(r+="/* styles for "+e.name+" */\n"+e.css),r&&(e.cssElem=v(r),e.cssElem.attr("id","notify-"+e.name)),s={},o=i(e.html),p("html",o,s),p("text",o,s),e.fields=s},v=function(t){var n;n=h("style"),n.attr("type","text/css"),i("head").append(n);try{n.html(t)}catch(e){n[0].styleSheet.cssText=t}return n},p=function(t,n,e){var r;return"html"!==t&&(t="text"),r="data-notify-"+t,u(n,"["+r+"]").each(function(){var n;return n=i(this).attr(r),n||(n=s),e[n]=t})},u=function(t,n){return t.is(n)?t:t.find(n)},k={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},g=function(t,n){var e;return e=function(){},e.prototype=t,i.extend(!0,new e,n)},l=function(t){return i.extend(k,t)},h=function(t){return i("<"+t+"></"+t+">")},m={},d=function(t){var n;return t.is("[type=radio]")&&(n=t.parents("form:first").find("[type=radio]").filter(function(n,e){return i(e).attr("name")===t.attr("name")}),t=n.first()),t},y=function(t,n,i){var r,o;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;return isNaN(i)?void 0:(r=C[x[n.charAt(0)]],o=n,t[r]!==e&&(n=C[r.charAt(0)],i=-i),t[n]===e?t[n]=i:t[n]+=i,null)},H=function(t,n,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-n/2;if("r"===t||"b"===t)return i-n;throw"Invalid alignment"},c=function(t){return c.e=c.e||h("div"),c.e.text(t).html()},r=function(){function t(t,n,e){"string"==typeof e&&(e={className:e}),this.options=g(k,i.isPlainObject(e)?e:{}),this.loadHTML(),this.wrapper=i(a.html),this.wrapper.data(P,this),this.arrow=this.wrapper.find("."+P+"-arrow"),this.container=this.wrapper.find("."+P+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=d(t),this.elem.data(P,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}return t.prototype.loadHTML=function(){var t;return t=this.getStyle(),this.userContainer=i(t.html),this.userFields=t.fields},t.prototype.show=function(t,n){var i,r,o,s,a,h=this;if(r=function(){return t||h.elem||h.destroy(),n?n():e},a=this.container.parent().parents(":hidden").length>0,o=this.container.add(this.arrow),i=[],a&&t)s="show";else if(a&&!t)s="hide";else if(!a&&t)s=this.options.showAnimation,i.push(this.options.showDuration);else{if(a||t)return r();s=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(r),o[s].apply(o,i)},t.prototype.setGlobalPosition=function(){var t,n,e,r,o,s,a,l;return l=this.getPosition(),a=l[0],s=l[1],o=C[a],t=C[s],r=a+"|"+s,n=m[r],n||(n=m[r]=h("div"),e={},e[o]=0,"middle"===t?e.top="45%":"center"===t?e.left="45%":e[t]=0,n.css(e).addClass(""+P+"-corner"),i("body").append(n)),n.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,n,r,o,s,a,h,l,c,u,p,d,f,m,g,v,S,P,N,k,T,A,z,D,E,L,O,I,W;for(z=this.getPosition(),k=z[0],P=z[1],N=z[2],p=this.elem.position(),l=this.elem.outerHeight(),d=this.elem.outerWidth(),c=this.elem.innerHeight(),u=this.elem.innerWidth(),D=this.wrapper.position(),s=this.container.height(),a=this.container.width(),m=C[k],v=x[k],S=C[v],h={},h[S]="b"===k?l:"r"===k?d:0,y(h,"top",p.top-D.top),y(h,"left",p.left-D.left),W=["top","left"],E=0,O=W.length;O>E;E++)T=W[E],g=parseInt(this.elem.css("margin-"+T),10),g&&y(h,T,g);if(f=Math.max(0,this.options.gap-(this.options.arrowShow?r:0)),y(h,S,f),this.options.arrowShow){for(r=this.options.arrowSize,n=i.extend({},h),t=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",L=0,I=b.length;I>L;L++)T=b[L],A=C[T],T!==v&&(o=A===m?t:"transparent",n["border-"+A]=""+r+"px solid "+o);y(h,C[v],r),j.call(b,P)>=0&&y(n,C[P],2*r)}else this.arrow.hide();return j.call(M,k)>=0?(y(h,"left",H(P,a,d)),n&&y(n,"left",H(P,r,u))):j.call(w,k)>=0&&(y(h,"top",H(P,s,l)),n&&y(n,"top",H(P,r,c))),this.container.is(":visible")&&(h.display="block"),this.container.removeAttr("style").css(h),n?this.arrow.removeAttr("style").css(n):e},t.prototype.getPosition=function(){var t,n,i,e,r,o,s,a;if(n=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=S(n),0===t.length&&(t[0]="b"),i=t[0],0>j.call(b,i))throw"Must be one of ["+b+"]";return(1===t.length||(e=t[0],j.call(M,e)>=0&&(r=t[1],0>j.call(w,r)))||(o=t[0],j.call(w,o)>=0&&(s=t[1],0>j.call(M,s))))&&(t[1]=(a=t[0],j.call(w,a)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},t.prototype.getStyle=function(t){var n;if(t||(t=this.options.style),t||(t="default"),n=A[t],!n)throw"Missing style: "+t;return n},t.prototype.updateClasses=function(){var t,n;return t=["base"],i.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),n=this.getStyle(),t=i.map(t,function(t){return""+P+"-"+n.name+"-"+t}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,n){var r,o,a,h,l,p=this;if(i.isPlainObject(n)?i.extend(this.options,n):"string"===i.type(n)&&(this.options.className=n),this.container&&!t)return this.show(!1),e;if(this.container||t){o={},i.isPlainObject(t)?o=t:o[s]=t;for(a in o)r=o[a],h=this.userFields[a],h&&("text"===h&&(r=c(r),this.options.breakNewLines&&(r=r.replace(/\n/g,"<br/>"))),l=a===s?"":"="+a,u(this.userContainer,"[data-notify-"+h+l+"]").html(r));return this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return p.show(!1)},this.options.autoHideDelay)):e}},t.prototype.destroy=function(){return this.wrapper.remove()},t}(),i[N]=function(t,n,e){return t&&t.nodeName||t.jquery?i(t)[N](n,e):(e=n,n=t,new r(null,n,e)),t},i.fn[N]=function(t,n){return i(this).each(function(){var e;return e=d(i(this)).data(P),e?e.run(t,n):new r(i(this),t,n)}),this},i.extend(i[N],{defaults:l,addStyle:o,pluginOptions:k,getStyle:f,insertCSS:v}),i(function(){return v(a.css).attr("id","core-notify"),i(n).on("click notify-hide","."+P+"-wrapper",function(t){var n;return n=i(this).data(P),n&&(n.options.clickToHide||"notify-hide"===t.type)?n.show(!1):e})})}(window,document,jQuery);
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify":"UErKnN"}],"M5xdF3":[function(require,module,exports){
(function (global){

; require("/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?__browserify_shim_require__("jquery"):jQuery)}(function(e){"use strict";var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=function(){var e=0;return function(){var t=e;return e+=1,".perfect-scrollbar-"+t}}();e.fn.perfectScrollbar=function(o,r){return this.each(function(){var l=e.extend(!0,{},t),a=e(this);if("object"==typeof o?e.extend(!0,l,o):r=o,"update"===r)return a.data("perfect-scrollbar-update")&&a.data("perfect-scrollbar-update")(),a;if("destroy"===r)return a.data("perfect-scrollbar-destroy")&&a.data("perfect-scrollbar-destroy")(),a;if(a.data("perfect-scrollbar"))return a.data("perfect-scrollbar");a.addClass("ps-container");var s,i,c,u,d,p,f,h,b,v,g=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(a),m=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(a),w=e("<div class='ps-scrollbar-x'></div>").appendTo(g),T=e("<div class='ps-scrollbar-y'></div>").appendTo(m),y=parseInt(g.css("bottom"),10),L=parseInt(m.css("right"),10),S=n(),I=function(e,t){var n=e+t,o=u-b;v=0>n?0:n>o?o:n;var r=parseInt(v*(p-u)/(u-b),10);a.scrollTop(r),g.css({bottom:y-r})},C=function(e,t){var n=e+t,o=c-f;h=0>n?0:n>o?o:n;var r=parseInt(h*(d-c)/(c-f),10);a.scrollLeft(r),m.css({right:L-r})},P=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),e},X=function(){g.css({left:a.scrollLeft(),bottom:y-a.scrollTop(),width:c,display:s?"inherit":"none"}),m.css({top:a.scrollTop(),right:L-a.scrollLeft(),height:u,display:i?"inherit":"none"}),w.css({left:h,width:f}),T.css({top:v,height:b})},Y=function(){c=l.includePadding?a.innerWidth():a.width(),u=l.includePadding?a.innerHeight():a.height(),d=a.prop("scrollWidth"),p=a.prop("scrollHeight"),!l.suppressScrollX&&d>c+l.scrollXMarginOffset?(s=!0,f=P(parseInt(c*c/d,10)),h=parseInt(a.scrollLeft()*(c-f)/(d-c),10)):(s=!1,f=0,h=0,a.scrollLeft(0)),!l.suppressScrollY&&p>u+l.scrollYMarginOffset?(i=!0,b=P(parseInt(u*u/p,10)),v=parseInt(a.scrollTop()*(u-b)/(p-u),10)):(i=!1,b=0,v=0,a.scrollTop(0)),v>=u-b&&(v=u-b),h>=c-f&&(h=c-f),X()},k=function(){var t,n;w.bind("mousedown"+S,function(e){n=e.pageX,t=w.position().left,g.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+S,function(e){g.hasClass("in-scrolling")&&(C(t,e.pageX-n),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+S,function(){g.hasClass("in-scrolling")&&g.removeClass("in-scrolling")}),t=n=null},x=function(){var t,n;T.bind("mousedown"+S,function(e){n=e.pageY,t=T.position().top,m.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+S,function(e){m.hasClass("in-scrolling")&&(I(t,e.pageY-n),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+S,function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")}),t=n=null},D=function(e,t){var n=a.scrollTop();if(0===e){if(!i)return!1;if(0===n&&t>0||n>=p-u&&0>t)return!l.wheelPropagation}var o=a.scrollLeft();if(0===t){if(!s)return!1;if(0===o&&0>e||o>=d-c&&e>0)return!l.wheelPropagation}return!0},M=function(){l.wheelSpeed/=10;var e=!1;a.bind("mousewheel"+S,function(t,n,o,r){var c=t.deltaX*t.deltaFactor||o,u=t.deltaY*t.deltaFactor||r;e=!1,l.useBothWheelAxes?i&&!s?(a.scrollTop(u?a.scrollTop()-u*l.wheelSpeed:a.scrollTop()+c*l.wheelSpeed),e=!0):s&&!i&&(a.scrollLeft(c?a.scrollLeft()+c*l.wheelSpeed:a.scrollLeft()-u*l.wheelSpeed),e=!0):(a.scrollTop(a.scrollTop()-u*l.wheelSpeed),a.scrollLeft(a.scrollLeft()+c*l.wheelSpeed)),Y(),e=e||D(c,u),e&&(t.stopPropagation(),t.preventDefault())}),a.bind("MozMousePixelScroll"+S,function(t){e&&t.preventDefault()})},j=function(){var t=!1;a.bind("mouseenter"+S,function(){t=!0}),a.bind("mouseleave"+S,function(){t=!1});var n=!1;e(document).bind("keydown"+S,function(o){if(t&&!e(document.activeElement).is(":input,[contenteditable]")){var r=0,l=0;switch(o.which){case 37:r=-30;break;case 38:l=30;break;case 39:r=30;break;case 40:l=-30;break;case 33:l=90;break;case 32:case 34:l=-90;break;case 35:l=-u;break;case 36:l=u;break;default:return}a.scrollTop(a.scrollTop()-l),a.scrollLeft(a.scrollLeft()+r),n=D(r,l),n&&o.preventDefault()}})},E=function(){var e=function(e){e.stopPropagation()};T.bind("click"+S,e),m.bind("click"+S,function(e){var t=parseInt(b/2,10),n=e.pageY-m.offset().top-t,o=u-b,r=n/o;0>r?r=0:r>1&&(r=1),a.scrollTop((p-u)*r)}),w.bind("click"+S,e),g.bind("click"+S,function(e){var t=parseInt(f/2,10),n=e.pageX-g.offset().left-t,o=c-f,r=n/o;0>r?r=0:r>1&&(r=1),a.scrollLeft((d-c)*r)})},O=function(){var t=function(e,t){a.scrollTop(a.scrollTop()-t),a.scrollLeft(a.scrollLeft()-e),Y()},n={},o=0,r={},l=null,s=!1;e(window).bind("touchstart"+S,function(){s=!0}),e(window).bind("touchend"+S,function(){s=!1}),a.bind("touchstart"+S,function(e){var t=e.originalEvent.targetTouches[0];n.pageX=t.pageX,n.pageY=t.pageY,o=(new Date).getTime(),null!==l&&clearInterval(l),e.stopPropagation()}),a.bind("touchmove"+S,function(e){if(!s&&1===e.originalEvent.targetTouches.length){var l=e.originalEvent.targetTouches[0],a={};a.pageX=l.pageX,a.pageY=l.pageY;var i=a.pageX-n.pageX,c=a.pageY-n.pageY;t(i,c),n=a;var u=(new Date).getTime(),d=u-o;d>0&&(r.x=i/d,r.y=c/d,o=u),e.preventDefault()}}),a.bind("touchend"+S,function(){clearInterval(l),l=setInterval(function(){return.01>Math.abs(r.x)&&.01>Math.abs(r.y)?void clearInterval(l):(t(30*r.x,30*r.y),r.x*=.8,void(r.y*=.8))},10)})},W=function(){a.bind("scroll"+S,function(){Y()})},q=function(){a.unbind(S),e(window).unbind(S),e(document).unbind(S),a.data("perfect-scrollbar",null),a.data("perfect-scrollbar-update",null),a.data("perfect-scrollbar-destroy",null),w.remove(),T.remove(),g.remove(),m.remove(),w=T=c=u=d=p=f=h=y=b=v=L=null},A=function(t){a.addClass("ie").addClass("ie"+t);var n=function(){var t=function(){e(this).addClass("hover")},n=function(){e(this).removeClass("hover")};a.bind("mouseenter"+S,t).bind("mouseleave"+S,n),g.bind("mouseenter"+S,t).bind("mouseleave"+S,n),m.bind("mouseenter"+S,t).bind("mouseleave"+S,n),w.bind("mouseenter"+S,t).bind("mouseleave"+S,n),T.bind("mouseenter"+S,t).bind("mouseleave"+S,n)},o=function(){X=function(){w.css({left:h+a.scrollLeft(),bottom:y,width:f}),T.css({top:v+a.scrollTop(),right:L,height:b}),w.hide().show(),T.hide().show()}};6===t&&(n(),o())},B="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,F=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&A(parseInt(e[2],10)),Y(),W(),k(),x(),E(),B&&O(),a.mousewheel&&M(),l.useKeyboard&&j(),a.data("perfect-scrollbar",a),a.data("perfect-scrollbar-update",Y),a.data("perfect-scrollbar-destroy",q)};return F(),a})}});
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/Users/talia/Projects/teachboost/mox/node_modules/jquery-browserify":"UErKnN"}],"perfectScrollbar":[function(require,module,exports){
module.exports=require('M5xdF3');
},{}]},{},[])