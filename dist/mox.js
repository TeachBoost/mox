require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/5r0ZG":[function(require,module,exports){
!function(t){t(function(){"use strict";t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(require("jquery-browserify")),!function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed").remove()}var s,o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),s=t(n),e&&e.preventDefault(),s.length||(s=o.hasClass("alert")?o:o.parent()),s.trigger(e=t.Event("close")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.on(t.support.transition.end,i):i())},t.fn.alert=function(e){return this.each(function(){var s=t(this),o=s.data("alert");o||s.data("alert",o=new i(this)),"string"==typeof e&&o[e].call(s)})},t.fn.alert.Constructor=i,t(function(){t("body").on("click.alert.data-api",e,i.prototype.close)})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,s=i.data(),o=i.is("input")?"val":"html";t+="Text",s.resetText||i.data("resetText",i[o]()),i[o](s[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")},t.fn.button=function(i){return this.each(function(){var s=t(this),o=s.data("button"),n="object"==typeof i&&i;o||s.data("button",o=new e(this,n)),"toggle"==i?o.toggle():i&&o.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(function(){t("body").on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=i,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},to:function(e){var i=this.$element.find(".item.active"),s=i.parent().children(),o=s.index(i),n=this;if(!(e>s.length-1||0>e))return this.sliding?this.$element.one("slid",function(){n.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(s[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var s=this.$element.find(".item.active"),o=i||s[e](),n=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",h=this,l=t.Event("slide",{relatedTarget:o[0]});if(this.sliding=!0,n&&this.pause(),o=o.length?o:this.$element.find(".item")[r](),!o.hasClass("active")){if(t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,s.addClass(a),o.addClass(a),this.$element.one(t.support.transition.end,function(){o.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger("slid")},0)})}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}}},t.fn.carousel=function(i){return this.each(function(){var s=t(this),o=s.data("carousel"),n=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),a="string"==typeof i?i:n.slide;o||s.data("carousel",o=new e(this,n)),"number"==typeof i?o.to(i):a?o[a]():n.interval&&o.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(function(){t("body").on("click.carousel.data-api","[data-slide]",function(e){var i,s=t(this),o=t(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),n=!o.data("modal")&&t.extend({},o.data(),s.data());o.carousel(n),e.preventDefault()})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,s,o;if(!this.transitioning){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),s=this.$parent&&this.$parent.find("> .accordion-group > .in"),s&&s.length){if(o=s.data("collapse"),o&&o.transitioning)return;s.collapse("hide"),o||s.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;this.transitioning||(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,s){var o=this,n=function(){"show"==i.type&&o.reset(),o.transitioning=0,o.$element.trigger(s)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,n):n())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(i){return this.each(function(){var s=t(this),o=s.data("collapse"),n="object"==typeof i&&i;o||s.data("collapse",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(function(){t("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,s=t(this),o=s.attr("data-target")||e.preventDefault()||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),n=t(o).data("collapse")?"toggle":s.data();s[t(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(o).collapse(n)})})}(require("jquery-browserify")),!function(t){"use strict";function e(){i(t(s)).removeClass("open")}function i(e){var i,s=e.attr("data-target");return s||(s=e.attr("href"),s=s&&/#/.test(s)&&s.replace(/.*(?=#[^\s]*$)/,"")),i=t(s),i.length||(i=e.parent()),i}var s="[data-toggle=dropdown]",o=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var s,o,n=t(this);if(!n.is(".disabled, :disabled"))return s=i(n),o=s.hasClass("open"),e(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(e){var s,o,n,a,r;if(/(38|40|27)/.test(e.keyCode)&&(s=t(this),e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled"))){if(n=i(s),a=n.hasClass("open"),!a||a&&27==e.keyCode)return s.click();o=t("[role=menu] li:not(.divider) a",n),o.length&&(r=o.index(o.filter(":focus")),38==e.keyCode&&r>0&&r--,40==e.keyCode&&r<o.length-1&&r++,~r||(r=0),o.eq(r).focus())}}},t.fn.dropdown=function(e){return this.each(function(){var i=t(this),s=i.data("dropdown");s||i.data("dropdown",s=new o(this)),"string"==typeof e&&s[e].call(i)})},t.fn.dropdown.Constructor=o,t(function(){t("html").on("click.dropdown.data-api touchstart.dropdown.data-api",e),t("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",s,o.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",s+", [role=menu]",o.prototype.keydown)})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(t("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1).focus(),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,t("body").removeClass("modal-open"),this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&i;this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),s?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}},t.fn.modal=function(i){return this.each(function(){var s=t(this),o=s.data("modal"),n=t.extend({},t.fn.modal.defaults,s.data(),"object"==typeof i&&i);o||s.data("modal",o=new e(this,n)),"string"==typeof i?o[i]():n.show&&o.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t(function(){t("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),s=i.attr("href"),o=t(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),n=o.data("modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),i.data());e.preventDefault(),o.modal(n).one("hide",function(){i.focus()})})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,s){var o,n;this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(o="hover"==this.options.trigger?"mouseenter":"focus",n="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(n+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",void(this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show))):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",void(this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide))):i.hide()},show:function(){var t,e,i,s,o,n,a;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),n="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(n),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),i=this.getPosition(e),s=t[0].offsetWidth,o=t[0].offsetHeight,e?n.split(" ")[1]:n){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-s/2};break;case"top":a={top:i.top-o,left:i.left+i.width/2-s/2};break;case"left":a={top:i.top+i.height/2-o/2,left:i.left-s};break;case"right":a={top:i.top+i.height/2-o/2,left:i.left+i.width}}t.css(a).addClass(n).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).remove()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.remove()})}var i=this.tip();return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.remove(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},t.fn.tooltip=function(i){return this.each(function(){var s=t(this),o=s.data("tooltip"),n="object"==typeof i&&i;o||s.data("tooltip",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(require("jquery-browserify")),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content > *")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-content")||("function"==typeof i.content?i.content.call(e[0]):i.content)},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),t.fn.popover=function(i){return this.each(function(){var s=t(this),o=s.data("popover"),n="object"==typeof i&&i;o||s.data("popover",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(require("jquery-browserify")),!function(t){"use strict";function e(e,i){var s,o=t.proxy(this.process,this),n=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=n.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(s=t(e).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),s=/^#\w/.test(i)&&t(i);return s&&s.length&&[[s.position().top,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,s=i-this.$scrollElement.height(),o=this.offsets,n=this.targets,a=this.activeTarget;if(e>=s)return a!=(t=n.last()[0])&&this.activate(t);for(t=o.length;t--;)a!=n[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(n[t])},activate:function(e){var i,s;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),s=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(s).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}},t.fn.scrollspy=function(i){return this.each(function(){var s=t(this),o=s.data("scrollspy"),n="object"==typeof i&&i;o||s.data("scrollspy",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,s,o=this.element,n=o.closest("ul:not(.dropdown-menu)"),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(e=n.find(".active a").last()[0],s=t.Event("show",{relatedTarget:e}),o.trigger(s),s.isDefaultPrevented()||(i=t(a),this.activate(o.parent("li"),n),this.activate(i,i.parent(),function(){o.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,s){function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),s&&s()}var n=i.find("> .active"),a=s&&t.support.transition&&n.hasClass("fade");a?n.one(t.support.transition.end,o):o(),n.removeClass("in")}},t.fn.tab=function(i){return this.each(function(){var s=t(this),o=s.data("tab");o||s.data("tab",o=new e(this)),"string"==typeof i&&o[i]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],s=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?s.push(e):o.push(e):i.push(e);return i.concat(s,o)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,s){return e=t(i.options.item).attr("data-value",s),e.find("a").html(i.highlighter(s)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.chrome||t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=!~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(i){return this.each(function(){var s=t(this),o=s.data("typeahead"),n="object"==typeof i&&i;o||s.data("typeahead",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t(function(){t("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||(e.preventDefault(),i.typeahead(i.data()))})})}(require("jquery-browserify")),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),s=this.$window.scrollTop(),o=this.$element.offset(),n=this.options.offset,a=n.bottom,r=n.top,h="affix affix-top affix-bottom";"object"!=typeof n&&(a=r=n),"function"==typeof r&&(r=n.top()),"function"==typeof a&&(a=n.bottom()),e=null!=this.unpin&&s+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=i-a?"bottom":null!=r&&r>=s?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?o.top-s:null,this.$element.removeClass(h).addClass("affix"+(e?"-"+e:"")))}},t.fn.affix=function(i){return this.each(function(){var s=t(this),o=s.data("affix"),n="object"==typeof i&&i;o||s.data("affix",o=new e(this,n)),"string"==typeof i&&o[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(require("jquery-browserify"));
},{"jquery-browserify":"UErKnN"}],"bootstrap":[function(require,module,exports){
module.exports=require('/5r0ZG');
},{}],"UErKnN":[function(require,module,exports){
!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){return function(e,t){function n(e){var t=ht[e]={};return K.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(mt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:gt.test(r)?K.parseJSON(r):r}catch(o){}K.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!K.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function l(e,t,n){if(t=t||0,K.isFunction(t))return K.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return K.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=K.grep(e,function(e){return 1===e.nodeType});if(_t.test(t))return K.filter(t,r,!n);t=K.filter(t,r)}return K.grep(e,function(e){return K.inArray(e,t)>=0===n})}function c(e){var t=Pt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e,t){if(1===t.nodeType&&K.hasData(e)){var n,r,i,o=K._data(e),a=K._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)K.event.add(t,n,s[n][r])}a.data&&(a.data=K.extend({},a.data))}}function d(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),K.support.html5Clone&&e.innerHTML&&!K.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Vt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(K.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Vt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=vn.length;i--;)if(t=vn[i]+n,t in e)return t;return r}function y(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(i[o]=K._data(n,"olddisplay"),t?(i[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&y(n)&&(i[o]=K._data(n,"olddisplay",T(n.nodeName)))):(r=nn(n,"display"),i[o]||"none"===r||K._data(n,"olddisplay",r)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function b(e,t,n){var r=fn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function x(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>i;i+=2)"margin"===n&&(o+=K.css(e,n+yn[i],!0)),r?("content"===n&&(o-=parseFloat(nn(e,"padding"+yn[i]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+yn[i]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+yn[i]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+yn[i]+"Width"))||0));return o}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=K.support.boxSizing&&"border-box"===K.css(e,"boxSizing");if(0>=r||null==r){if(r=nn(e,t),(0>r||null==r)&&(r=e.style[t]),pn.test(r))return r;i=o&&(K.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+x(e,t,n||(o?"border":"content"),i)+"px"}function T(e){if(hn[e])return hn[e];var t=K("<"+e+">").appendTo(R.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=R.body.appendChild(rn||K.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),R.body.removeChild(rn)),hn[e]=n,n}function N(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||wn.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)N(e+"["+i+"]",t[i],n,r)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,o,a=t.toLowerCase().split(tt),s=0,u=a.length;if(K.isFunction(n))for(;u>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function E(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,u=e[o],l=0,c=u?u.length:0,f=e===qn;c>l&&(f||!s);l++)s=u[l](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=E(e,n,r,i,s,a)));return!f&&s||a["*"]||(s=E(e,n,r,i,"*",a)),s}function k(e,n){var r,i,o=K.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&K.extend(!0,e,i)}function S(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===l[0];)l.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){l.unshift(o);break}if(l[0]in r)a=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==l[0]&&l.unshift(a),r[a]):void 0}function A(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],u={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)u[n.toLowerCase()]=e.converters[n];for(;i=a[++l];)if("*"!==i){if("*"!==s&&s!==i){if(n=u[s+" "+i]||u["* "+i],!n)for(r in u)if(o=r.split(" "),o[1]===i&&(n=u[s+" "+o[0]]||u["* "+o[0]])){n===!0?n=u[r]:u[r]!==!0&&(i=o[0],a.splice(l--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(t){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Jn=t},0),Jn=K.now()}function H(e,t){K.each(t,function(t,n){for(var r=(er[t]||[]).concat(er["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function F(e,t,n){var r,i=0,o=Zn.length,a=K.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Jn||L(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,o=u.tweens.length;o>i;i++)u.tweens[i].run(r);return a.notifyWith(e,[u,r,n]),1>r&&o?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=K.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){for(var n=0,r=t?u.tweens.length:0;r>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),l=u.props;for(M(l,u.opts.specialEasing);o>i;i++)if(r=Zn[i].call(u,e,l,u.opts))return r;return H(u,l),K.isFunction(u.opts.start)&&u.opts.start.call(e,u),K.fx.timer(K.extend(s,{anim:u,queue:u.opts.queue,elem:e})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function M(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o,a,s,u,l,c,f=this,p=e.style,d={},h=[],g=e.nodeType&&y(e);n.queue||(l=K._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,f.always(function(){f.always(function(){l.unqueued--,K.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===K.css(e,"display")&&"none"===K.css(e,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",K.support.shrinkWrapBlocks||f.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Gn.exec(o)){if(delete t[r],o===(g?"hide":"show"))continue;h.push(r)}if(a=h.length)for(s=K._data(e,"fxshow")||K._data(e,"fxshow",{}),g?K(e).show():f.done(function(){K(e).hide()}),f.done(function(){var t;K.removeData(e,"fxshow",!0);for(t in d)K.style(e,t,d[t])}),r=0;a>r;r++)i=h[r],u=f.createTween(i,g?s[i]:0),d[i]=s[i]||K.style(e,i),i in s||(s[i]=u.start,g&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}function _(e,t,n,r,i){return new _.prototype.init(e,t,n,r,i)}function q(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=yn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e){return K.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var P,W,R=e.document,$=e.location,I=e.navigator,z=e.jQuery,X=e.$,U=Array.prototype.push,Y=Array.prototype.slice,J=Array.prototype.indexOf,V=Object.prototype.toString,G=Object.prototype.hasOwnProperty,Q=String.prototype.trim,K=function(e,t){return new K.fn.init(e,t,P)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ut=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,lt=/^-ms-/,ct=/-([\da-z])/gi,ft=function(e,t){return(t+"").toUpperCase()},pt=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",pt,!1),K.ready()):"complete"===R.readyState&&(R.detachEvent("onreadystatechange",pt),K.ready())},dt={};K.fn=K.prototype={constructor:K,init:function(e,n,r){var i,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:rt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof K?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:R,e=K.parseHTML(i[1],a,!0),it.test(i[1])&&K.isPlainObject(n)&&this.attr.call(e,n,!0),K.merge(this,e);if(o=R.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=R,this.selector=e,this}return K.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=K.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return K.each(this,e,t)},ready:function(e){return K.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},K.fn.init.prototype=K.fn,K.extend=K.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||K.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(e=arguments[u]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(K.isPlainObject(i)||(o=K.isArray(i)))?(o?(o=!1,a=r&&K.isArray(r)?r:[]):a=r&&K.isPlainObject(r)?r:{},s[n]=K.extend(c,a,i)):i!==t&&(s[n]=i));return s},K.extend({noConflict:function(t){return e.$===K&&(e.$=X),t&&e.jQuery===K&&(e.jQuery=z),K},isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){if(e===!0?!--K.readyWait:!K.isReady){if(!R.body)return setTimeout(K.ready,1);K.isReady=!0,e!==!0&&--K.readyWait>0||(W.resolveWith(R,[K]),K.fn.trigger&&K(R).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray||function(e){return"array"===K.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):dt[V.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==K.type(e)||e.nodeType||K.isWindow(e))return!1;try{if(e.constructor&&!G.call(e,"constructor")&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||G.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||R,(r=it.exec(e))?[t.createElement(r[1])]:(r=K.buildFragment([e],t,n?null:[]),K.merge([],(r.cacheable?K.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=K.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(st,"@").replace(ut,"]").replace(at,""))?new Function("return "+t)():void K.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(lt,"ms-").replace(ct,ft)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,o=0,a=e.length,s=a===t||K.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Q&&!Q.call("﻿ ")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":e.toString().replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=K.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||K.isWindow(e)?U.call(r,e):K.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],s=0,u=e.length,l=e instanceof K||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||K.isArray(e));if(l)for(;u>s;s++)i=n(e[s],s,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),K.isFunction(e)?(i=Y.call(arguments,2),o=function(){return e.apply(n,i.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||o.guid||K.guid++,o):t},access:function(e,n,r,i,o,a,s){var u,l=null==r,c=0,f=e.length;if(r&&"object"==typeof r){for(c in r)K.access(e,n,c,r[c],1,a,i);o=1}else if(i!==t){if(u=s===t&&K.isFunction(i),l&&(u?(u=n,n=function(e,t,n){return u.call(K(e),n)}):(n.call(e,i),n=null)),n)for(;f>c;c++)n(e[c],r,u?i.call(e[c],c,n(e[c],r)):i,s);o=1}return o?e:l?n.call(e):f?n(e[0],r):a},now:function(){return(new Date).getTime()}}),K.ready.promise=function(t){if(!W)if(W=K.Deferred(),"complete"===R.readyState)setTimeout(K.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",pt,!1),e.addEventListener("load",K.ready,!1);else{R.attachEvent("onreadystatechange",pt),e.attachEvent("onload",K.ready);var n=!1;try{n=null==e.frameElement&&R.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!K.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}K.ready()}}()}return W.promise(t)},K.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){dt["[object "+t+"]"]=t.toLowerCase()}),P=K(R);var ht={};K.Callbacks=function(e){e="string"==typeof e?ht[e]||n(e):K.extend({},e);var r,i,o,a,s,u,l=[],c=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,u=a||0,a=0,s=l.length,o=!0;l&&s>u;u++)if(l[u].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,l&&(c?c.length&&f(c.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function n(t){K.each(t,function(t,r){var i=K.type(r);"function"!==i||e.unique&&p.has(r)?r&&r.length&&"string"!==i&&n(r):l.push(r)})}(arguments),o?s=l.length:r&&(a=t,f(r))}return this},remove:function(){return l&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,l,n))>-1;)l.splice(n,1),o&&(s>=n&&s--,u>=n&&u--)}),this},has:function(e){return K.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=c=r=t,this},disabled:function(){return!l},lock:function(){return c=t,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||i&&!c||(o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,r){var o=r[0],a=e[t];i[r[1]](K.isFunction(a)?function(){var e=a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return"object"==typeof e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=a.fire,i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,u=1===s?e:K.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),K.support=function(){var t,n,r,i,o,a,s,u,l,c,f,p=R.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!r)return{};i=R.createElement("select"),o=i.appendChild(R.createElement("option")),a=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!R.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===R.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",f)),a=R.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=R.createDocumentFragment(),s.appendChild(p.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})u="on"+l,c=u in p,c||(p.setAttribute(u,"return;"),c="function"==typeof p[u]),t[l+"Bubbles"]=c;return K(function(){var n,r,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=R.getElementsByTagName("body")[0];s&&(n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,o=R.createElement("div"),o.style.cssText=r.style.cssText=a,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=o=null)}),s.removeChild(p),n=r=i=o=a=s=p=null,t}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;K.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?K.cache[e[K.expando]]:e[K.expando],!!e&&!i(e)},data:function(e,n,r,i){if(K.acceptData(e)){var o,a,s=K.expando,u="string"==typeof n,l=e.nodeType,c=l?K.cache:e,f=l?e[s]:e[s]&&s;if(f&&c[f]&&(i||c[f].data)||!u||r!==t)return f||(l?e[s]=f=K.deletedIds.pop()||++K.uuid:f=s),c[f]||(c[f]={},l||(c[f].toJSON=K.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[f]=K.extend(c[f],n):c[f].data=K.extend(c[f].data,n)),o=c[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[K.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[K.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(K.acceptData(e)){var r,o,a,s=e.nodeType,u=s?K.cache:e,l=s?e[K.expando]:K.expando;if(u[l]){if(t&&(r=n?u[l]:u[l].data)){K.isArray(t)||(t in r?t=[t]:(t=K.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete r[t[o]];if(!(n?i:K.isEmptyObject)(r))return}(n||(delete u[l].data,i(u[l])))&&(s?K.cleanData([e],!0):K.support.deleteExpando||u!=u.window?delete u[l]:u[l]=null)}}},_data:function(e,t,n){return K.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&K.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),K.fn.extend({data:function(e,n){var i,o,a,s,u,l=this[0],c=0,f=null;if(e===t){if(this.length&&(f=K.data(l),1===l.nodeType&&!K._data(l,"parsedAttrs"))){for(a=l.attributes,u=a.length;u>c;c++)s=a[c].name,0===s.indexOf("data-")&&(s=K.camelCase(s.substring(5)),r(l,s,f[s]));K._data(l,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){K.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",o=i[1]+"!",K.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[i[0]]),f===t&&l&&(f=K.data(l,e),f=r(l,e,f)),f===t&&i[1]?this.data(i[0]):f):(i[1]=n,void this.each(function(){var t=K(this);t.triggerHandler("setData"+o,i),K.data(this,e,n),t.triggerHandler("changeData"+o,i)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){K.removeData(this,e)})}}),K.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=K._data(e,t),n&&(!r||K.isArray(n)?r=K._data(e,t,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K._data(e,n)||K._data(e,n,{empty:K.Callbacks("once memory").add(function(){K.removeData(e,t+"queue",!0),K.removeData(e,n,!0)})})}}),K.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?K.queue(this[0],e):n===t?this:this.each(function(){var t=K.queue(this,e,n);K._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},delay:function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=K.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=K._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var yt,vt,bt,xt=/[\t\r\n]/g,wt=/\r/g,Tt=/^(?:button|input)$/i,Nt=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,Et=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,kt=K.support.getSetAttribute;K.fn.extend({attr:function(e,t){return K.access(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})},prop:function(e,t){return K.access(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return e=K.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=K.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,u;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,u=this.length;u>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(xt," "),o=0,a=n.length;a>o;o++)for(;r.indexOf(" "+n[o]+" ")>-1;)r=r.replace(" "+n[o]+" "," ");i.className=e?K.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(K.isFunction(e)?function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,o=0,a=K(this),s=t,u=e.split(tt);i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||e===!1?"":K._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=K.isFunction(e),this.each(function(r){var o,a=K(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":K.isArray(o)&&(o=K.map(o,function(e){return null==e?"":e+""})),n=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=K.valHooks[o.type]||K.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(wt,""):null==r?"":r)}}}),K.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,u="select-one"===e.type;if(0>o)return null;for(n=u?o:0,r=u?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(K.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&K.nodeName(i.parentNode,"optgroup"))){if(t=K(i).val(),u)return t;a.push(t)}return u&&!a.length&&s.length?K(s[o]).val():a},set:function(e,t){var n=K.makeArray(t);return K(e).find("option").each(function(){this.selected=K.inArray(K(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return i&&K.isFunction(K.fn[n])?K(e)[n](r):"undefined"==typeof e.getAttribute?K.prop(e,n,r):(s=1!==u||!K.isXMLDoc(e),s&&(n=n.toLowerCase(),a=K.attrHooks[n]||(Et.test(n)?vt:yt)),r!==t?null===r?void K.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(tt);a<r.length;a++)i=r[a],i&&(n=K.propFix[i]||i,o=Et.test(i),o||K.attr(e,i,""),e.removeAttribute(kt?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Tt.test(e.nodeName)&&e.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return yt&&K.nodeName(e,"button")?yt.get(e,t):t in e?e.value:null},set:function(e,t,n){return yt&&K.nodeName(e,"button")?yt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!K.isXMLDoc(e),a&&(n=K.propFix[n]||n,o=K.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Nt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),vt={get:function(e,n){var r,i=K.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?K.removeAttr(e,n):(r=K.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},kt||(bt={name:!0,id:!0,coords:!0},yt=K.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""
}},K.each(["width","height"],function(e,t){K.attrHooks[t]=K.extend(K.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),K.attrHooks.contenteditable={get:yt.get,set:function(e,t,n){""===t&&(t="false"),yt.set(e,t,n)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(e,n){K.attrHooks[n]=K.extend(K.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),K.support.style||(K.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}})});var St=/^(?:textarea|input|select)$/i,At=/^([^\.]*|)(?:\.(.+)|)$/,jt=/(?:^|\s)hover(\.\S+|)\b/,Dt=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Ft=function(e){return K.event.special.hover?e:e.replace(jt,"mouseenter$1 mouseleave$1")};K.event={add:function(e,n,r,i,o){var a,s,u,l,c,f,p,d,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=K._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=K.guid++),u=a.events,u||(a.events=u={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof K||e&&K.event.triggered===e.type?t:K.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=K.trim(Ft(n)).split(" "),l=0;l<n.length;l++)c=At.exec(n[l])||[],f=c[1],p=(c[2]||"").split(".").sort(),m=K.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=K.event.special[f]||{},d=K.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,namespace:p.join(".")},h),g=u[f],g||(g=u[f]=[],g.delegateCount=0,m.setup&&m.setup.call(e,i,p,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),m.add&&(m.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),K.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=K.hasData(e)&&K._data(e);if(m&&(p=m.events)){for(t=K.trim(Ft(t||"")).split(" "),o=0;o<t.length;o++)if(a=At.exec(t[o])||[],s=u=a[1],l=a[2],s){for(d=K.event.special[s]||{},s=(r?d.delegateType:d.bindType)||s,h=p[s]||[],c=h.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],!i&&u!==g.origType||n&&n.guid!==g.guid||l&&!l.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(h.splice(f--,1),g.selector&&h.delegateCount--,d.remove&&d.remove.call(e,g));0===h.length&&c!==h.length&&(d.teardown&&d.teardown.call(e,l,m.handle)!==!1||K.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)K.event.remove(e,s+t[o],n,r,!0);K.isEmptyObject(p)&&(delete m.handle,K.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,u,l,c,f,p,d,h,g,m=n.type||n,y=[];if(!Ht.test(m+K.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(y=m.split("."),m=y.shift(),y.sort()),i&&!K.event.customEvent[m]||K.event.global[m]))if(n="object"==typeof n?n[K.expando]?n:new K.Event(m,n):new K.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?K.makeArray(r):[],r.unshift(n),p=K.event.special[m]||{},!p.trigger||p.trigger.apply(i,r)!==!1){if(h=[[i,p.bindType||m]],!o&&!p.noBubble&&!K.isWindow(i)){for(g=p.delegateType||m,l=Ht.test(g+m)?i:i.parentNode,c=i;l;l=l.parentNode)h.push([l,g]),c=l;c===(i.ownerDocument||R)&&h.push([c.defaultView||c.parentWindow||e,g])}for(u=0;u<h.length&&!n.isPropagationStopped();u++)l=h[u][0],n.type=h[u][1],d=(K._data(l,"events")||{})[n.type]&&K._data(l,"handle"),d&&d.apply(l,r),d=f&&l[f],d&&K.acceptData(l)&&d.apply(l,r)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===m&&K.nodeName(i,"a")||!K.acceptData(i)||f&&i[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!K.isWindow(i)&&(c=i[f],c&&(i[f]=null),K.event.triggered=m,i[m](),K.event.triggered=t,c&&(i[f]=c)),n.result}}else{a=K.cache;for(u in a)a[u].events&&a[u].events[m]&&K.event.trigger(n,r,a[u].handle.elem,!0)}}},dispatch:function(n){n=K.event.fix(n||e.event);var r,i,o,a,s,u,l,c,f,p=(K._data(this,"events")||{})[n.type]||[],d=p.delegateCount,h=[].slice.call(arguments),g=!n.exclusive&&!n.namespace,m=K.event.special[n.type]||{},y=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},l=[],r=0;d>r;r++)c=p[r],f=c.selector,s[f]===t&&(s[f]=K(f,this).index(o)>=0),s[f]&&l.push(c);l.length&&y.push({elem:o,matches:l})}for(p.length>d&&y.push({elem:this,matches:p.slice(d)}),r=0;r<y.length&&!n.isPropagationStopped();r++)for(u=y[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)c=u.matches[i],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((K.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||R,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r=e,i=K.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=K.Event(r),t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){K.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector}return(!i||i!==r&&!K.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:void K.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=K.nodeName(n,"input")||K.nodeName(n,"button")?n.form:t;r&&!K._data(r,"_submit_attached")&&(K.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),K._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&K.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return K.nodeName(this,"form")?!1:void K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return St.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),K.event.simulate("change",this,e,!0)})),!1):void K.event.add(this,"beforeactivate._change",function(e){var t=e.target;St.test(t.nodeName)&&!K._data(t,"_change_attached")&&(K.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||K.event.simulate("change",this.parentNode,e,!0)}),K._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),!St.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){0===n++&&R.addEventListener(e,r,!0)},teardown:function(){0===--n&&R.removeEventListener(e,r,!0)}}}),K.fn.extend({on:function(e,n,r,i,a){var s,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=o;else if(!i)return this;return 1===a&&(s=i,i=function(e){return K().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=K.guid++)),this.each(function(){K.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,K(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=o),this.each(function(){K.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return K(this.context).on(e,this.selector,t,n),this},die:function(e,t){return K(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?K.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||K.guid++,r=0,i=function(n){var i=(K._data(this,"lastToggle"+e.guid)||0)%r;return K._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Dt.test(t)&&(K.event.fixHooks[t]=K.event.keyHooks),Lt.test(t)&&(K.event.fixHooks[t]=K.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||A;var i,o,a,s,u=t.nodeType;if(1!==u&&9!==u)return[];if(!e||"string"!=typeof e)return n;if(a=x(t),!a&&!r&&(i=V.exec(e)))if(s=i[1]){if(9===u){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&w(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return H.apply(n,L.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&st&&t.getElementsByClassName)return H.apply(n,L.call(t.getElementsByClassName(s),0)),n}return h(e,t,n,r,a)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function a(e,t,r,i){var o,a,s,u,l,c,f,p,d,h,g=!r&&t!==A,m=(g?"<s>":"")+e.replace(X,"$1<s>"),y=_[S][m];if(y)return i?0:L.call(y,0);for(l=e,c=[],p=0,d=v.preFilter,h=v.filter;l;){(!o||(a=U.exec(l)))&&(a&&(l=l.slice(a[0].length),s.selector=f),c.push(s=[]),f="",g&&(l=" "+l)),o=!1,(a=Y.exec(l))&&(f+=a[0],l=l.slice(a[0].length),o=s.push({part:a.pop().replace(X," "),string:a[0],captures:a}));for(u in h)!(a=nt[u].exec(l))||d[u]&&!(a=d[u](a,t,r))||(f+=a[0],l=l.slice(a[0].length),o=s.push({part:u,string:a.shift(),captures:a}));if(!o)break}return f&&(s.selector=f),i?l.length:l?n.error(e):L.call(_(m,c),0)}function s(e,t,n,r){var i=t.dir,o=D++;return e||(e=function(e){return e===n}),t.first?function(t){for(;t=t[i];)if(1===t.nodeType)return e(t)&&t}:r?function(t){for(;t=t[i];)if(1===t.nodeType&&e(t))return t}:function(t){for(var n,r=o+"."+g,a=r+"."+m;t=t[i];)if(1===t.nodeType){if((n=t[S])===a)return t.sizset;if("string"==typeof n&&0===n.indexOf(r)){if(t.sizset)return t}else{if(t[S]=a,e(t))return t.sizset=!0,t;t.sizset=!1}}}}function u(e,t){return e?function(n){var r=t(n);return r&&e(r===!0?n:r)}:t}function l(e,t,n){for(var r,i,o=0;r=e[o];o++)i=v.relative[r.part]?s(i,v.relative[r.part],t,n):u(i,v.filter[r.part].apply(null,r.captures.concat(t,n)));return i}function c(e){return function(t){for(var n,r=0;n=e[r];r++)if(n(t))return!0;return!1}}function f(e,t,r,i){for(var o=0,a=t.length;a>o;o++)n(e,t[o],r,i)}function p(e,t,r,i,o,a){var s,u=v.setFilters[t.toLowerCase()];return u||n.error(t),(e||!(s=o))&&f(e||"*",i,s=[],o),s.length>0?u(s,r,a):[]}function d(e,r,i,o){for(var a,s,u,l,c,d,h,g,m,y,v,b,x,w=0,T=e.length,N=nt.POS,C=new RegExp("^"+N.source+"(?!"+B+")","i"),E=function(){for(var e=1,n=arguments.length-2;n>e;e++)arguments[e]===t&&(m[e]=t)};T>w;w++){for(a=e[w],s="",g=o,u=0,l=a.length;l>u;u++){if(c=a[u],d=c.string,"PSEUDO"===c.part)for(N.exec(""),h=0;m=N.exec(d);)y=!0,v=N.lastIndex=m.index+m[0].length,v>h&&(s+=d.slice(h,m.index),h=v,b=[r],Y.test(s)&&(g&&(b=g),g=o),(x=Q.test(s))&&(s=s.slice(0,-5).replace(Y,"$&*"),h++),m.length>1&&m[0].replace(C,E),g=p(s,m[1],m[2],b,g,x)),s="";y||(s+=d),y=!1}s?Y.test(s)?f(s,g||[r],i,o):n(s,r,i,o?o.concat(g):g):H.apply(i,g)}return 1===T?i:n.uniqueSort(i)}function h(e,t,n,r,i){e=e.replace(X,"$1");var o,s,u,l,c,f,p,h,y,b=a(e,t,i),x=t.nodeType;if(nt.POS.test(e))return d(b,t,n,r);if(r)o=L.call(r,0);else if(1===b.length){if((c=L.call(b[0],0)).length>2&&"ID"===(f=c[0]).part&&9===x&&!i&&v.relative[c[1].part]){if(t=v.find.ID(f.captures[0].replace(tt,""),t,i)[0],!t)return n;e=e.slice(c.shift().string.length)}for(h=(b=G.exec(c[0].string))&&!b.index&&t.parentNode||t,p="",l=c.length-1;l>=0&&(f=c[l],y=f.part,p=f.string+p,!v.relative[y]);l--)if(v.order.test(y)){if(o=v.find[y](f.captures[0].replace(tt,""),h,i),null==o)continue;e=e.slice(0,e.length-p.length)+p.replace(nt[y],""),e||H.apply(n,L.call(o,0));break}}if(e)for(s=T(e,t,i),g=s.dirruns++,null==o&&(o=v.find.TAG("*",G.test(e)&&t.parentNode||t)),l=0;u=o[l];l++)m=s.runs++,s(u)&&n.push(u);return n}var g,m,y,v,b,x,w,T,N,C,E=!0,k="undefined",S=("sizcache"+Math.random()).replace(".",""),A=e.document,j=A.documentElement,D=0,L=[].slice,H=[].push,F=function(e,t){return e[S]=t||!0,e},M=function(){var e={},t=[];return F(function(n,r){return t.push(n)>v.cacheLength&&delete e[t.shift()],e[n]=r},e)},O=M(),_=M(),q=M(),B="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",W=P.replace("w","w#"),R="([*^$|!~]?=)",$="\\["+B+"*("+P+")"+B+"*(?:"+R+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+B+"*\\]",I=":("+P+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+$+")|[^:]|\\\\.)*|.*))\\)|)",z=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",X=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),Y=new RegExp("^"+B+"*([\\x20\\t\\r\\n\\f>+~])"+B+"*"),J=new RegExp(I),V=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,G=/[\x20\t\r\n\f]*[+~]/,Q=/:not\($/,Z=/h\d/i,et=/input|select|textarea|button/i,tt=/\\(?!\\)/g,nt={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),NAME:new RegExp("^\\[name=['\"]?("+P+")['\"]?\\]"),TAG:new RegExp("^("+P.replace("w","w*")+")"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),POS:new RegExp(z,"ig"),needsContext:new RegExp("^"+B+"*[>+~]|"+z,"i")},rt=function(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},it=rt(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),ot=rt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==k&&"#"===e.firstChild.getAttribute("href")}),at=rt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),st=rt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),ut=rt(function(e){e.id=S+0,e.innerHTML="<a name='"+S+"'></a><div name='"+S+"'></div>",j.insertBefore(e,j.firstChild);var t=A.getElementsByName&&A.getElementsByName(S).length===2+A.getElementsByName(S+0).length;return y=!A.getElementById(S),j.removeChild(e),t});try{L.call(j.childNodes,0)[0].nodeType}catch(lt){L=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=b(t);return n},x=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},w=n.contains=j.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:j.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=x(e);return r||(t=t.toLowerCase()),v.attrHandle[t]?v.attrHandle[t](e):at||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},v=n.selectors={cacheLength:50,createPseudo:F,match:nt,order:new RegExp("ID|TAG"+(ut?"|NAME":"")+(st?"|CLASS":"")),attrHandle:ot?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==k&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==k&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==k&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:it?function(e,t){return typeof t.getElementsByTagName!==k?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i}return n},NAME:function(e,t){return typeof t.getElementsByName!==k?t.getElementsByName(name):void 0},CLASS:function(e,t,n){return typeof t.getElementsByClassName===k||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,""),e[3]=(e[4]||e[5]||"").replace(tt,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e,t,n){var r,i;return nt.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(r=e[4])&&(J.test(r)&&(i=a(r,t,n,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(r=r.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=r),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(tt,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(tt,""),function(t){var n=typeof t.getAttributeNode!==k&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(tt,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=O[S][e];return t||(t=O(e,new RegExp("(^|"+B+")"+e+"("+B+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==k&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return t?function(i){var o=n.attr(i,e),a=o+"";if(null==o)return"!="===t;switch(t){case"=":return a===r;case"!=":return a!==r;case"^=":return r&&0===a.indexOf(r);case"*=":return r&&a.indexOf(r)>-1;case"$=":return r&&a.substr(a.length-r.length)===r;case"~=":return(" "+a+" ").indexOf(r)>-1;case"|=":return a===r||a.substr(0,r.length+1)===r+"-"}}:function(t){return null!=n.attr(t,e)}},CHILD:function(e,t,n,r){if("nth"===e){var i=D++;return function(e){var t,o,a=0,s=e;if(1===n&&0===r)return!0;if(t=e.parentNode,t&&(t[S]!==i||!e.sizset)){for(s=t.firstChild;s&&(1!==s.nodeType||(s.sizset=++a,s!==e));s=s.nextSibling);t[S]=i}return o=e.sizset-r,0===n?0===o:o%n===0&&o/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t,r,i){var o,a=v.pseudos[e]||v.pseudos[e.toLowerCase()];return a||n.error("unsupported pseudo: "+e),a[S]?a(t,r,i):a.length>1?(o=[e,e,"",t],function(e){return a(e,0,o)}):a}},pseudos:{not:F(function(e,t,n){var r=T(e.replace(X,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!v.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},contains:F(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),has:F(function(e){return function(t){return n(e,t).length>0}}),header:function(e){return Z.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return et.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){for(var r=[],i=n?1:0,o=e.length;o>i;i+=2)r.push(e[i]);return r},odd:function(e,t,n){for(var r=[],i=n?0:1,o=e.length;o>i;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}},N=j.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],a=[],s=e.parentNode,u=t.parentNode,l=s;if(s===u)return o(e,t);if(!s)return-1;if(!u)return 1;for(;l;)i.unshift(l),l=l.parentNode;for(l=u;l;)a.unshift(l),l=l.parentNode;n=i.length,r=a.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==a[c])return o(i[c],a[c]);return c===n?o(e,a[c],-1):o(i[c],t,1)},[0,0].sort(N),E=!C,n.uniqueSort=function(e){var t,n=1;if(C=E,e.sort(N),C)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T=n.compile=function(e,t,n){var r,i,o,s=q[S][e];if(s&&s.context===t)return s;for(r=a(e,t,n),i=0,o=r.length;o>i;i++)r[i]=l(r[i],t,n);return s=q(e,c(r)),s.context=t,s.runs=s.dirruns=0,s},A.querySelectorAll&&!function(){var e,t=h,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[],s=[":active"],u=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.oMatchesSelector||j.msMatchesSelector;rt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+B+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),rt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+B+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=o.length&&new RegExp(o.join("|")),h=function(e,n,i,s,u){if(!(s||u||o&&o.test(e)))if(9===n.nodeType)try{return H.apply(i,L.call(n.querySelectorAll(e),0)),i}catch(l){}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c,f,p,d=n.getAttribute("id"),h=d||S,g=G.test(e)&&n.parentNode||n;for(d?h=h.replace(r,"\\$&"):n.setAttribute("id",h),c=a(e,n,u),h="[id='"+h+"']",f=0,p=c.length;p>f;f++)c[f]=h+c[f].selector;try{return H.apply(i,L.call(g.querySelectorAll(c.join(",")),0)),i}catch(l){}finally{d||n.removeAttribute("id")}}return t(e,n,i,s,u)},u&&(rt(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push(nt.PSEUDO.source,nt.POS.source,"!=")}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!(x(t)||s.test(r)||o&&o.test(r)))try{var a=u.call(t,r);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(l){}return n(r,null,null,[t]).length>0})}(),v.setFilters.nth=v.setFilters.eq,v.filters=v.pseudos,n.attr=K.attr,K.find=n,K.expr=n.selectors,K.expr[":"]=K.expr.pseudos,K.unique=n.uniqueSort,K.text=n.getText,K.isXMLDoc=n.isXML,K.contains=n.contains}(e);var Mt=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,_t=/^.[^:#\[\.,]*$/,qt=K.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return K(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(K.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=a.length,K.find(e,this[t],a),t>0)for(i=r;i<a.length;i++)for(o=0;r>o;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=K(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(K.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(l(this,e,!1),"not",e)},filter:function(e){return this.pushStack(l(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?qt.test(e)?K(e,this.context).index(this[0])>=0:K.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=qt.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:K.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?K.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?K.inArray(this[0],K(e)):K.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?K(e,t):K.makeArray(e&&e.nodeType?[e]:e),r=K.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:K.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.fn.andSelf=K.fn.addBack,K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return K.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return Mt.test(e)||(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),i=this.length>1&&!Bt[e]?K.unique(i):i,this.length>1&&Ot.test(e)&&(i=i.reverse()),this.pushStack(i,e,Y.call(arguments).join(","))}}),K.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?K.find.matchesSelector(t[0],e)?[t[0]]:[]:K.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!K(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Rt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,zt=/<tbody/i,Xt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Yt=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+Pt+")[\\s/>]","i"),Vt=/^(?:checkbox|radio)$/,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Kt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(R),tn=en.appendChild(R.createElement("div"));
Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,K.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),K.fn.extend({text:function(e){return K.access(this,function(e){return e===t?K.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapAll(e.call(this,t))});if(this[0]){var t=K(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(K.isFunction(e)?function(t){K(this).wrapInner(e.call(this,t))}:function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||K.filter(e,[n]).length)&&(t||1!==n.nodeType||(K.cleanData(n.getElementsByTagName("*")),K.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&K.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return K.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||Ut.test(e)||!K.support.htmlSerialize&&Jt.test(e)||!K.support.leadingWhitespace&&Rt.test(e)||Zt[(It.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(K.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(K(K.isFunction(e)?e():e),"replaceWith",e):this:K.isFunction(e)?this.each(function(t){var n=K(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=K(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;K(this).remove(),t?K(t).before(e):K(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,o,a,s,u=0,l=e[0],c=[],p=this.length;if(!K.support.checkClone&&p>1&&"string"==typeof l&&Gt.test(l))return this.each(function(){K(this).domManip(e,n,r)});if(K.isFunction(l))return this.each(function(i){var o=K(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(i=K.buildFragment(e,this,c),a=i.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&K.nodeName(o,"tr"),s=i.cacheable||p-1;p>u;u++)r.call(n&&K.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],u===s?a:K.clone(a,!0,!0));a=o=null,c.length&&K.each(c,function(e,t){t.src?K.ajax?K.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):K.error("no ajax"):K.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Kt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),K.buildFragment=function(e,n,r){var i,o,a,s=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===R&&"<"===s.charAt(0))||Yt.test(s)||!K.support.checkClone&&Gt.test(s)||!K.support.html5Clone&&Jt.test(s)||(o=!0,i=K.fragments[s],a=i!==t),i||(i=n.createDocumentFragment(),K.clean(e,n,i,r),o&&(K.fragments[s]=a&&i)),{fragment:i,cacheable:o}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(n){var r,i=0,o=[],a=K(n),s=a.length,u=1===this.length&&this[0].parentNode;if((null==u||u&&11===u.nodeType&&1===u.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),K(a[i])[t](r),o=o.concat(r);return this.pushStack(o,e,a.selector)}}),K.extend({clone:function(e,t,n){var r,i,o,a;if(K.support.html5Clone||K.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(a=tn.firstChild)),!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(d(e,a),r=h(e),i=h(a),o=0;r[o];++o)i[o]&&d(r[o],i[o]);if(t&&(p(e,a),n))for(r=h(e),i=h(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,u,l,f,p,d,h,m,y=t===R&&en,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=R),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Xt.test(a)){for(y=y||c(t),f=t.createElement("div"),y.appendChild(f),a=a.replace($t,"<$1></$2>"),s=(It.exec(a)||["",""])[1].toLowerCase(),u=Zt[s]||Zt._default,l=u[0],f.innerHTML=u[1]+a+u[2];l--;)f=f.lastChild;if(!K.support.tbody)for(p=zt.test(a),d="table"!==s||p?"<table>"!==u[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,o=d.length-1;o>=0;--o)K.nodeName(d[o],"tbody")&&!d[o].childNodes.length&&d[o].parentNode.removeChild(d[o]);!K.support.leadingWhitespace&&Rt.test(a)&&f.insertBefore(t.createTextNode(Rt.exec(a)[0]),f.firstChild),a=f.childNodes,f.parentNode.removeChild(f)}else a=t.createTextNode(a);a.nodeType?v.push(a):K.merge(v,a)}if(f&&(a=f=y=null),!K.support.appendChecked)for(i=0;null!=(a=v[i]);i++)K.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){return!e.type||Qt.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},i=0;null!=(a=v[i]);i++)K.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=K.grep(K.merge([],a.getElementsByTagName("script")),h),v.splice.apply(v,[i+1,0].concat(m)),i+=m.length));return v},cleanData:function(e,t){for(var n,r,i,o,a=0,s=K.expando,u=K.cache,l=K.support.deleteExpando,c=K.event.special;null!=(i=e[a]);a++)if((t||K.acceptData(i))&&(r=i[s],n=r&&u[r])){if(n.events)for(o in n.events)c[o]?K.event.remove(i,o):K.removeEvent(i,o,n.handle);u[r]&&(delete u[r],l?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,K.deletedIds.push(r))}}}),function(){var e,t;K.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=K.uaMatch(I.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),K.browser=t,K.sub=function(){function e(t,n){return new e.fn.init(t,n)}K.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof K&&!(r instanceof e)&&(r=e(r)),K.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nn,rn,on,an=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,un=/^(top|right|bottom|left)$/,ln=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,fn=new RegExp("^("+Z+")(.*)$","i"),pn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),dn=new RegExp("^([-+])=("+Z+")","i"),hn={},gn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},yn=["Top","Right","Bottom","Left"],vn=["Webkit","O","Moz","ms"],bn=K.fn.toggle;K.fn.extend({css:function(e,n){return K.access(this,function(e,n,r){return r!==t?K.style(e,n,r):K.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return K.isFunction(e)&&K.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:y(this))?K(this).show():K(this).hide()})}}),K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=K.camelCase(n),l=e.style;if(n=K.cssProps[u]||(K.cssProps[u]=m(l,u)),s=K.cssHooks[n]||K.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=dn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(K.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||K.cssNumber[u]||(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=K.camelCase(n);return n=K.cssProps[u]||(K.cssProps[u]=m(e.style,u)),s=K.cssHooks[n]||K.cssHooks[u],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=nn(e,n)),"normal"===o&&n in mn&&(o=mn[n]),r||i!==t?(a=parseFloat(o),r||K.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,o,a,s=e.getComputedStyle(t,null),u=t.style;return s&&(r=s[n],""!==r||K.contains(t.ownerDocument,t)||(r=K.style(t,n)),pn.test(r)&&cn.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=r,r=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),r}:R.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),pn.test(i)&&!un.test(t)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&ln.test(nn(e,"display"))?K.swap(e,gn,function(){return w(e,t,r)}):w(e,t,r):void 0},set:function(e,n,r){return b(e,n,r?x(e,t,r,K.support.boxSizing&&"border-box"===K.css(e,"boxSizing")):0)}}}),K.support.opacity||(K.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=K.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===K.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(e,t){return K.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!K.support.pixelPosition&&K.fn.position&&K.each(["top","left"],function(e,t){K.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return pn.test(r)?K(e).position()[t]+"px":r}}}})}),K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!K.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;4>r;r++)o[e+yn[r]+t]=i[r]||i[r-2]||i[0];return o}},cn.test(e)||(K.cssHooks[e+t].set=b)});var xn=/%20/g,wn=/\[\]$/,Tn=/\r?\n/g,Nn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||Nn.test(this.type))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}}),K.param=function(e,n){var r,i=[],o=function(e,t){t=K.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){o(this.name,this.value)});else for(r in e)N(r,e[r],n,o);return i.join("&").replace(xn,"+")};var En,kn,Sn=/#.*$/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dn=/^(?:GET|HEAD)$/,Ln=/^\/\//,Hn=/\?/,Fn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Mn=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_n=K.fn.load,qn={},Bn={},Pn=["*/"]+["*"];try{En=$.href}catch(Wn){En=R.createElement("a"),En.href="",En=En.href}kn=On.exec(En.toLowerCase())||[],K.fn.load=function(e,n,r){if("string"!=typeof e&&_n)return _n.apply(this,arguments);if(!this.length)return this;var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),K.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),K.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(i?K("<div>").append(e.replace(Fn,"")).find(i):e)}),this},K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.each(["get","post"],function(e,n){K[n]=function(e,r,i,o){return K.isFunction(r)&&(o=o||i,i=r,r=t),K.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),K.extend({getScript:function(e,n){return K.get(e,t,n,"script")},getJSON:function(e,t,n){return K.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?k(e,K.ajaxSettings):(t=e,e=K.ajaxSettings),k(e,t),e},ajaxSettings:{url:En,isLocal:jn.test(kn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(qn),ajaxTransport:C(Bn),ajax:function(e,n){function r(e,n,r,a){var l,f,v,b,w,N=n;2!==x&&(x=2,u&&clearTimeout(u),s=t,o=a||"",T.readyState=e>0?4:0,r&&(b=S(p,T,r)),e>=200&&300>e||304===e?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=T.getResponseHeader("Etag"),w&&(K.etag[i]=w)),304===e?(N="notmodified",l=!0):(l=A(p,b),N=l.state,f=l.data,v=l.error,l=!v)):(v=N,(!N||e)&&(N="error",0>e&&(e=0))),T.status=e,T.statusText=""+(n||N),l?g.resolveWith(d,[f,N,T]):g.rejectWith(d,[T,N,v]),T.statusCode(y),y=t,c&&h.trigger("ajax"+(l?"Success":"Error"),[T,p,l?f:v]),m.fireWith(d,[T,N]),c&&(h.trigger("ajaxComplete",[T,p]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,u,l,c,f,p=K.ajaxSetup({},n),d=p.context||p,h=d!==p&&(d.nodeType||d instanceof K)?K(d):K.event,g=K.Deferred(),m=K.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!a)for(a={};n=An.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(p.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(g.promise(T),T.success=T.done,T.error=T.fail,T.complete=m.add,T.statusCode=function(e){if(e){var t;if(2>x)for(t in e)y[t]=[y[t],e[t]];else t=e[T.status],T.always(t)}return this},p.url=((e||p.url)+"").replace(Sn,"").replace(Ln,kn[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(tt),null==p.crossDomain&&(l=On.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]==kn[1]&&l[2]==kn[2]&&(l[3]||("http:"===l[1]?80:443))==(kn[3]||("http:"===kn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),E(qn,p,n,T),2===x)return T;if(c=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Dn.test(p.type),c&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Hn.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var N=K.now(),C=p.url.replace(Mn,"$1_="+N);p.url=C+(C===p.url?(Hn.test(p.url)?"&":"?")+"_="+N:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,K.lastModified[i]&&T.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&T.setRequestHeader("If-None-Match",K.etag[i])),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pn+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===x))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(s=E(Bn,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,s.send(v,r)}catch(k){if(!(2>x))throw k;r(-1,k)}}else r(-1,"No Transport");return T},active:0,lastModified:{},etag:{}});var Rn=[],$n=/\?/,In=/(=)\?(?=&|$)|\?\?/,zn=K.now();K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||K.expando+"_"+zn++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.data,l=n.url,c=n.jsonp!==!1,f=c&&In.test(l),p=c&&!f&&"string"==typeof u&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(u);return"jsonp"===n.dataTypes[0]||f||p?(o=n.jsonpCallback=K.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],f?n.url=l.replace(In,"$1"+o):p?n.data=u.replace(In,"$1"+o):c&&(n.url+=($n.test(l)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||K.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Rn.push(o)),s&&K.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),K.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,o){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Xn,Un=e.ActiveXObject?function(){for(var e in Xn)Xn[e](0,1)}:!1,Yn=0;K.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||D()}:j,function(e){K.extend(K.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(n){if(!n.crossDomain||K.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,f,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=K.noop,Un&&delete Xn[a]),i)4!==u.readyState&&u.abort();else{s=u.status,c=u.getAllResponseHeaders(),f={},p=u.responseXML,p&&p.documentElement&&(f.xml=p);try{f.text=u.responseText}catch(e){}try{l=u.statusText}catch(d){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(h){i||o(-1,h)}f&&o(s,l,f,c)},n.async?4===u.readyState?setTimeout(r,0):(a=++Yn,Un&&(Xn||(Xn={},K(e).unload(Un)),Xn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Vn,Gn=/^(?:toggle|show|hide)$/,Qn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Kn=/queueHooks$/,Zn=[O],er={"*":[function(e,t){var n,r,i,o=this.createTween(e,t),a=Qn.exec(t),s=o.cur(),u=+s||0,l=1;if(a){if(n=+a[2],r=a[3]||(K.cssNumber[e]?"":"px"),"px"!==r&&u){u=K.css(o.elem,e,!0)||n||1;do i=l=l||".5",u/=l,K.style(o.elem,e,u+r),l=o.cur()/s;while(1!==l&&l!==i)}o.unit=r,o.start=u,o.end=a[1]?u+(a[1]+1)*n:n}return o}]};K.Animation=K.extend(F,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),K.Tween=_,_.prototype={constructor:_,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t,n=_.propHooks[this.prop];return this.pos=t=this.options.duration?K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(r,i,o){return null==r||"boolean"==typeof r||!e&&K.isFunction(r)&&K.isFunction(i)?n.apply(this,arguments):this.animate(q(t,!0),r,i,o)}}),K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=F(this,K.extend({},e),o);i&&t.stop(!0)};return i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=K.timers,a=K._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Kn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&K.dequeue(this,e)})}}),K.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.timers=[],K.fx=_.prototype.init,K.fx.tick=function(){for(var e,t=K.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||K.fx.stop()},K.fx.timer=function(e){e()&&K.timers.push(e)&&!Vn&&(Vn=setInterval(K.fx.tick,K.fx.interval))},K.fx.interval=13,K.fx.stop=function(){clearInterval(Vn),Vn=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fx.step={},K.expr&&K.expr.filters&&(K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;return K.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){K.offset.setOffset(this,e,t)});var n,r,i,o,a,s,u,l,c,f,p=this[0],d=p&&p.ownerDocument;if(d)return(i=d.body)===p?K.offset.bodyOffset(p):(r=d.documentElement,K.contains(r,p)?(n=p.getBoundingClientRect(),o=B(d),a=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,u=o.pageYOffset||r.scrollTop,l=o.pageXOffset||r.scrollLeft,c=n.top+u-a,f=n.left+l-s,{top:c,left:f}):{top:0,left:0})},K.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(K.css(e,"marginTop"))||0,n+=parseFloat(K.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=K.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=K(e),s=a.offset(),u=K.css(e,"top"),l=K.css(e,"left"),c=("absolute"===r||"fixed"===r)&&K.inArray("auto",[u,l])>-1,f={},p={};c?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},K.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(K.css(e,"marginTop"))||0,n.left-=parseFloat(K.css(e,"marginLeft"))||0,r.top+=parseFloat(K.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(K.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||R.body;e&&!tr.test(e.nodeName)&&"static"===K.css(e,"position");)e=e.offsetParent;return e||R.body})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);K.fn[e]=function(i){return K.access(this,function(e,i,o){var a=B(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(r?K(a).scrollLeft():o,r?o:K(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),K.each({Height:"height",Width:"width"},function(e,n){K.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){K.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return K.access(this,function(n,r,i){var o;return K.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?K.css(n,r,i,s):K.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K}),K}(window)});
},{}],"jquery":[function(require,module,exports){
module.exports=require('UErKnN');
},{}],"4zGmvs":[function(require,module,exports){
!function(){function t(e,n){if("function"==typeof e)return t("*",e);if("function"==typeof n)for(var i=new a(e),o=1;o<arguments.length;++o)t.callbacks.push(i.middleware(arguments[o]));else"string"==typeof e?t.show(e,n):t.start(e)}function e(e){var n=window.location.pathname+window.location.search;n!=e.canonicalPath&&(t.stop(),e.unhandled=!0,window.location=e.canonicalPath)}function n(t,e){"/"==t[0]&&0!=t.indexOf(l)&&(t=l+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(l,"")||"/",this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?t.slice(n+1):"",this.pathname=~n?t.slice(0,n):t,this.params=[],this.hash="",~this.path.indexOf("#")){var a=this.path.split("#");this.path=a[0],this.hash=a[1]||"",this.querystring=this.querystring.split("#")[0]}}function a(t,e){e=e||{},this.path=t,this.method="GET",this.regexp=i(t,this.keys=[],e.sensitive,e.strict)}function i(t,e,n,a){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(a?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,a,i,o,r){return e.push({name:i,optional:!!r}),n=n||"",""+(r?"":n)+"(?:"+(r?n:"")+(a||"")+(o||a&&"([^/.]+?)"||"([^/]+?)")+")"+(r||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))}function o(e){if(e.state){var n=e.state.path;t.replace(n,e.state)}}function r(e){if(1==s(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var n=e.target;n&&"A"!=n.nodeName;)n=n.parentNode;if(n&&"A"==n.nodeName){var a=n.getAttribute("href");if((n.pathname!=location.pathname||!n.hash&&"#"!=a)&&!n.target&&h(n.href)){var i=n.pathname+n.search+(n.hash||""),o=i+n.hash;i=i.replace(l,""),l&&o==i||(e.preventDefault(),t.show(o))}}}}function s(t){return t=t||window.event,null==t.which?t.button:t.which}function h(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),0==t.indexOf(e)}var c,p=!0,l="";t.callbacks=[],t.base=function(t){return 0==arguments.length?l:void(l=t)},t.start=function(e){if(e=e||{},!c&&(c=!0,!1===e.dispatch&&(p=!1),!1!==e.popstate&&window.addEventListener("popstate",o,!1),!1!==e.click&&window.addEventListener("click",r,!1),p)){var n=location.pathname+location.search+location.hash;t.replace(n,null,!0,p)}},t.stop=function(){c=!1,removeEventListener("click",r,!1),removeEventListener("popstate",o,!1)},t.show=function(e,a,i){var o=new n(e,a);return!1!==i&&t.dispatch(o),o.unhandled||o.pushState(),o},t.replace=function(e,a,i,o){var r=new n(e,a);return r.init=i,null==o&&(o=!0),o&&t.dispatch(r),r.save(),r},t.dispatch=function(n){function a(){var o=t.callbacks[i++];return o?void o(n,a):e(n)}var i=0;a()},t.Context=n,n.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},n.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},t.Route=a,a.prototype.middleware=function(t){var e=this;return function(n,a){return e.match(n.path,n.params)?t(n,a):void a()}},a.prototype.match=function(t,e){var n=this.keys,a=t.indexOf("?"),i=~a?t.slice(0,a):t,o=this.regexp.exec(i);if(!o)return!1;for(var r=1,s=o.length;s>r;++r){var h=n[r-1],c="string"==typeof o[r]?decodeURIComponent(o[r]):o[r];h?e[h.name]=void 0!==e[h.name]?e[h.name]:c:e.push(c)}return!0},"undefined"==typeof module?window.page=t:module.exports=t}();
},{}],"page":[function(require,module,exports){
module.exports=require('4zGmvs');
},{}],7:[function(require,module,exports){
"use strict";function arrayFirst(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r)===!0)return t[r];return!1}function yankError(t){return function(e,r){e||r[0].error?t(e||r[0]):t(null,r[0])}}function computeHeight(t){var e={},r=[];return merge.traverseRevTree(t,function(t,n,i,o){var s=n+"-"+i;return t&&(e[s]=0),void 0!==o&&r.push({from:o,to:s}),s}),r.reverse(),r.forEach(function(t){e[t.from]=void 0===e[t.from]?1+e[t.to]:Math.min(e[t.from],1+e[t.to])}),e}function AbstractPouchDB(){var t=this;EventEmitter.call(this),t.autoCompact=function(e){return t.auto_compaction?function(r,n){if(r)e(r);else{var i=n.length,o=function(){i--,i||e(null,n)};n.forEach(function(e){e.ok?t.compactDocument(e.id,1,o):o()})}}:e};var e,r=0,n=["change","delete","create","update"];this.on("newListener",function(i){if(~n.indexOf(i)){if(r)return void r++;r++;var o=0;e=this.changes({conflicts:!0,include_docs:!0,continuous:!0,since:"latest",onChange:function(e){e.seq<=o||(o=e.seq,t.emit("change",e),e.doc._deleted?t.emit("delete",e):"1"===e.doc._rev.split("-")[0]?t.emit("create",e):t.emit("update",e))}})}}),this.on("removeListener",function(t){~n.indexOf(t)&&(r--,r||e.cancel())})}function processChange(t,e,r){var n=[{rev:t._rev}];"all_docs"===r.style&&(n=merge.collectLeaves(e.rev_tree).map(function(t){return{rev:t.rev}}));var i={id:e.id,changes:n,doc:t};return utils.isDeleted(e,t._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=merge.collectConflicts(e),i.doc._conflicts.length||delete i.doc._conflicts),i}function doChanges(api,opts,promise){var callback=opts.complete;if(opts=utils.extend(!0,{},opts),"live"in opts&&!("continuous"in opts)&&(opts.continuous=opts.live),opts.processChange=processChange,opts.since||(opts.since=0),"latest"===opts.since)return void api.info(function(t,e){return promise.isCancelled?void callback(null,{status:"cancelled"}):t?void callback(t):(opts.since=e.update_seq-1,void doChanges(api,opts,promise,callback))});if("http"!==api.type()&&opts.filter&&"string"==typeof opts.filter)if("_view"===opts.filter){if(!opts.view||"string"!=typeof opts.view){var err=errors.error(errors.BAD_REQUEST,"`view` filter parameter is not provided.");return void callback(err)}var viewName=opts.view.split("/");api.get("_design/"+viewName[0],function(err,ddoc){if(promise.isCancelled)return void callback(null,{status:"cancelled"});if(err)return void callback(err);if(ddoc&&ddoc.views&&ddoc.views[viewName[1]]){var filter=eval("(function () {  return function (doc) {    var emitted = false;    var emit = function (a, b) {      emitted = true;    };    var view = "+ddoc.views[viewName[1]].map+";    view(doc);    if (emitted) {      return true;    }  }})()");return opts.filter=filter,void doChanges(api,opts,promise,callback)}var msg=ddoc.views?"missing json key: "+viewName[1]:"missing json key: views";return err=err||errors.error(errors.MISSING_DOC,msg),void callback(err)})}else{var filterName=opts.filter.split("/");api.get("_design/"+filterName[0],function(err,ddoc){if(promise.isCancelled)return void callback(null,{status:"cancelled"});if(err)return void callback(err);if(ddoc&&ddoc.filters&&ddoc.filters[filterName[1]]){var filter=eval("(function () { return "+ddoc.filters[filterName[1]]+" })()");return opts.filter=filter,void doChanges(api,opts,promise,callback)}var msg=ddoc&&ddoc.filters?"missing json key: "+filterName[1]:"missing json key: filters";return err=err||errors.error(errors.MISSING_DOC,msg),void callback(err)})}else{"descending"in opts||(opts.descending=!1),opts.limit=0===opts.limit?1:opts.limit,opts.complete=callback;var newPromise=api._changes(opts);if(newPromise&&"function"==typeof newPromise.cancel){var cancel=promise.cancel;promise.cancel=utils.getArguments(function(t){newPromise.cancel(),cancel.apply(this,t)})}}}var utils=require("./utils"),merge=require("./merge"),errors=require("./deps/errors"),EventEmitter=require("events").EventEmitter;utils.inherits(AbstractPouchDB,EventEmitter),module.exports=AbstractPouchDB,AbstractPouchDB.prototype.post=utils.adapterFun("post",function(t,e,r){return"function"==typeof e&&(r=e,e={}),"object"!=typeof t||Array.isArray(t)?r(errors.NOT_AN_OBJECT):this.bulkDocs({docs:[t]},e,this.autoCompact(yankError(r)))}),AbstractPouchDB.prototype.put=utils.adapterFun("put",utils.getArguments(function(t){var e,r,n,i,o=t.shift(),s="_id"in o;if("object"!=typeof o||Array.isArray(o))return(i=t.pop())(errors.NOT_AN_OBJECT);for(o=utils.extend(!0,{},o);;)if(e=t.shift(),r=typeof e,"string"!==r||s?"string"!==r||!s||"_rev"in o?"object"===r?n=e:"function"===r&&(i=e):o._rev=e:(o._id=e,s=!0),!t.length)break;n=n||{};var c=utils.invalidIdError(o._id);return c?i(c):this.bulkDocs({docs:[o]},n,this.autoCompact(yankError(i)))})),AbstractPouchDB.prototype.putAttachment=utils.adapterFun("putAttachment",function(t,e,r,n,i,o){function s(t){t._attachments=t._attachments||{},t._attachments[e]={content_type:i,data:n},c.put(t,o)}var c=this;"function"==typeof i&&(o=i,i=n,n=r,r=null),"undefined"==typeof i&&(i=n,n=r,r=null),c.get(t,function(e,n){return e&&e.error===errors.MISSING_DOC.error?void s({_id:t}):e?void o(e):n._rev!==r?void o(errors.REV_CONFLICT):void s(n)})}),AbstractPouchDB.prototype.removeAttachment=utils.adapterFun("removeAttachment",function(t,e,r,n){var i=this;i.get(t,function(t,o){return t?void n(t):o._rev!==r?void n(errors.REV_CONFLICT):o._attachments?(delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,n)):n()})}),AbstractPouchDB.prototype.remove=utils.adapterFun("remove",function(t,e,r){"function"==typeof e&&(r=e,e={}),void 0===e&&(e={}),e=utils.extend(!0,{},e),e.was_delete=!0;var n={_id:t._id,_rev:t._rev};return n._deleted=!0,this.bulkDocs({docs:[n]},e,yankError(r))}),AbstractPouchDB.prototype.revsDiff=utils.adapterFun("revsDiff",function(t,e,r){function n(t,e){c[t]||(c[t]={missing:[]}),c[t].missing.push(e)}function i(e,r){var i=t[e].slice(0);merge.traverseRevTree(r,function(t,r,o,s,c){var a=r+"-"+o,u=i.indexOf(a);-1!==u&&(i.splice(u,1),"available"!==c.status&&n(e,a))}),i.forEach(function(t){n(e,t)})}"function"==typeof e&&(r=e,e={}),e=utils.extend(!0,{},e);var o=Object.keys(t),s=0,c={};o.map(function(e){this._getRevisionTree(e,function(n,a){if(n&&"not_found"===n.name&&"missing"===n.message)c[e]={missing:t[e]};else{if(n)return r(n);i(e,a)}return++s===o.length?r(null,c):void 0})},this)}),AbstractPouchDB.prototype.compactDocument=function(t,e,r){var n=this;this._getRevisionTree(t,function(i,o){if(i)return r(i);var s=computeHeight(o),c=[],a=[];Object.keys(s).forEach(function(t){s[t]>e&&c.push(t)}),merge.traverseRevTree(o,function(t,e,r,n,i){var o=e+"-"+r;"available"===i.status&&-1!==c.indexOf(o)&&(i.status="missing",a.push(o))}),n._doCompaction(t,o,a,r)})},AbstractPouchDB.prototype.compact=utils.adapterFun("compact",function(t,e){"function"==typeof t&&(e=t,t={});var r=this;this.changes({complete:function(t,n){if(t)return void e();var i=n.results.length;return i?void n.results.forEach(function(t){r.compactDocument(t.id,0,function(){i--,i||e()})}):void e()}})}),AbstractPouchDB.prototype.get=utils.adapterFun("get",function(t,e,r){function n(){var n=[],s=i.length;return s?void i.forEach(function(i){o.get(t,{rev:i,revs:e.revs,attachments:e.attachments},function(t,e){n.push(t?{missing:i}:{ok:e}),s--,s||r(null,n)})}):r(null,n)}if("function"==typeof e&&(r=e,e={}),"string"!=typeof t)return r(errors.INVALID_ID);var i=[],o=this;if(!e.open_revs)return this._get(t,e,function(t,n){if(e=utils.extend(!0,{},e),t)return r(t);var i=n.doc,s=n.metadata,c=n.ctx;if(e.conflicts){var a=merge.collectConflicts(s);a.length&&(i._conflicts=a)}if(e.revs||e.revs_info){var u=merge.rootToLeaf(s.rev_tree),l=arrayFirst(u,function(t){return-1!==t.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])});if(l.ids.splice(l.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])+1),l.ids.reverse(),e.revs&&(i._revisions={start:l.pos+l.ids.length-1,ids:l.ids.map(function(t){return t.id})}),e.revs_info){var f=l.pos+l.ids.length;i._revs_info=l.ids.map(function(t){return f--,{rev:f+"-"+t.id,status:t.opts.status}})}}if(e.local_seq&&(i._local_seq=n.metadata.seq),e.attachments&&i._attachments){var d=i._attachments,p=Object.keys(d).length;if(0===p)return r(null,i);Object.keys(d).forEach(function(t){this._getAttachment(d[t],{encode:!0,ctx:c},function(e,n){i._attachments[t].data=n,--p||r(null,i)})},o)}else{if(i._attachments)for(var v in i._attachments)i._attachments.hasOwnProperty(v)&&(i._attachments[v].stub=!0);r(null,i)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){t&&(e=[]),i=merge.collectLeaves(e).map(function(t){return t.rev}),n()});else{if(!Array.isArray(e.open_revs))return r(errors.error(errors.UNKNOWN_ERROR,"function_clause"));i=e.open_revs;for(var s=0;s<i.length;s++){var c=i[s];if("string"!=typeof c||!/^\d+-/.test(c))return r(errors.error(errors.BAD_REQUEST,"Invalid rev format"))}n()}}),AbstractPouchDB.prototype.getAttachment=utils.adapterFun("getAttachment",function(t,e,r,n){var i=this;r instanceof Function&&(n=r,r={}),r=utils.extend(!0,{},r),this._get(t,r,function(t,o){return t?n(t):o.doc._attachments&&o.doc._attachments[e]?(r.ctx=o.ctx,void i._getAttachment(o.doc._attachments[e],r,n)):n(errors.MISSING_DOC)})}),AbstractPouchDB.prototype.allDocs=utils.adapterFun("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t=utils.extend(!0,{},t),"keys"in t){var r=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(r)return void e(errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `"+r+"` is not compatible with multi-get"))}return"undefined"==typeof t.skip&&(t.skip=0),this._allDocs(t,e)}),AbstractPouchDB.prototype.changes=function(t){return utils.cancellableFun(doChanges,this,t)},AbstractPouchDB.prototype.close=utils.adapterFun("close",function(t){return this._close(t)}),AbstractPouchDB.prototype.info=utils.adapterFun("info",function(t){var e=this;this._info(function(r,n){if(r)return t(r);var i=e.prefix.length;n.db_name.length>i&&n.db_name.slice(0,i)===e.prefix&&(n.db_name=n.db_name.slice(i)),t(null,n)})}),AbstractPouchDB.prototype.id=utils.adapterFun("id",function(t){return this._id(t)}),AbstractPouchDB.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},AbstractPouchDB.prototype.bulkDocs=utils.adapterFun("bulkDocs",function(t,e,r){if("function"==typeof e&&(r=e,e={}),e=e?utils.extend(!0,{},e):{},!t||!t.docs)return r(errors.MISSING_BULK_DOCS);if(!Array.isArray(t.docs))return r(errors.QUERY_PARSE_ERROR);for(var n=0;n<t.docs.length;++n)if("object"!=typeof t.docs[n]||Array.isArray(t.docs[n]))return r(errors.NOT_AN_OBJECT);return t=utils.extend(!0,{},t),"new_edits"in e||(e.new_edits="new_edits"in t?t.new_edits:!0),this._bulkDocs(t,e,this.autoCompact(r))});
},{"./deps/errors":14,"./merge":21,"./utils":25,"events":79}],8:[function(require,module,exports){
"use strict";function parseUri(e){for(var t=parseUri.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},o=14;o--;)n[t.key[o]]=r[o]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(e,r,o){r&&(n[t.q.name][r]=o)}),n}function encodeDocId(e){return/^_(design|local)/.test(e)?e:encodeURIComponent(e)}function getHost(e,t){if(/http(s?):/.test(e)){var r=parseUri(e);r.remote=!0,(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var n=r.path.replace(/(^\/|\/$)/g,"").split("/");if(r.db=n.pop(),r.path=n.join("/"),t=t||{},t=utils.extend(!0,{},t),r.headers=t.headers||{},t.auth||r.auth){var o=t.auth||r.auth,s=utils.btoa(o.username+":"+o.password);r.headers.Authorization="Basic "+s}return t.headers&&(r.headers=t.headers),r}return{host:"",path:"/",db:e,auth:!1}}function genDBUrl(e,t){return genUrl(e,e.db+"/"+t)}function genUrl(e,t){if(e.remote){var r=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+r+t}return"/"+t}function HttpPouch(e,t){function r(e,t){return utils.ajax(utils.extend({},u,e),t)}function n(e,n,i,u){n=utils.extend(!0,{},n);var a=o.getHost(u),l={source:s.db,target:a.protocol===s.protocol&&a.authority===s.authority?a.db:a.source};n.continuous&&(l.continuous=!0),n.create_target&&(l.create_target=!0),n.doc_ids&&(l.doc_ids=n.doc_ids),n.filter&&"string"==typeof n.filter&&(l.filter=n.filter),n.query_params&&(l.query_params=n.query_params);var d,c={},f={headers:s.headers,method:"POST",url:genUrl(s,"_replicate"),body:l};i.cancel=function(){this.cancelled=!0,d&&!c.ok&&d.abort(),c._local_id&&(f.body={replication_id:c._local_id}),f.body.cancel=!0,r(f,function(e,r,o){return e?t(e):void utils.call(n.complete,null,c,o)})},i.cancelled||(d=r(f,function(e,r,o){return e?t(e):(c.ok=!0,r._local_id&&(c._local_id=r._local_id),void utils.call(n.complete,null,r,o))}))}var o=this;o.getHost=e.getHost?e.getHost:getHost;var s=o.getHost(e.name,e),i=genDBUrl(s,"");o.getUrl=function(){return i};var u=e.ajax||{};e=utils.extend(!0,{},e);var a={list:[],get:function(e,t){"function"==typeof e&&(t=e,e={count:10});var n=function(e,r){!e&&"uuids"in r?(a.list=a.list.concat(r.uuids),t(null,"OK")):t(e||errors.UNKNOWN_ERROR)},o="?count="+e.count;r({headers:s.headers,method:"GET",url:genUrl(s,"_uuids")+o},n)}},l=function(){r({headers:s.headers,method:"PUT",url:i},function(e){e&&401===e.status?r({headers:s.headers,method:"HEAD",url:i},function(e){e?t(e):t(null,o)}):e&&412!==e.status?t(e):t(null,o)})};e.skipSetup||r({headers:s.headers,method:"GET",url:i},function(e){e?404===e.status?l():t(e):t(null,o)}),o.type=function(){return"http"},o.id=utils.adapterFun("id",function(e){r({headers:s.headers,method:"GET",url:genUrl(s,"")},function(t,r){if(t)e(t);else{var n=r&&r.uuid?r.uuid+s.db:genDBUrl(s,"");e(null,n)}})}),o.request=utils.adapterFun("request",function(e,t){e.headers=s.headers,e.url=genDBUrl(s,e.url),r(e,t)}),o.compact=utils.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=utils.extend(!0,{},e),r({headers:s.headers,url:genDBUrl(s,"_compact"),method:"POST"},function(){function r(){o.info(function(n,o){o.compact_running?setTimeout(r,e.interval||200):t()})}"function"==typeof t&&r()})}),o._info=function(e){r({headers:s.headers,method:"GET",url:genDBUrl(s,"")},function(t,r){t?e(t):(r.host=genDBUrl(s,""),e(null,r))})},o.get=utils.adapterFun("get",function(e,t,n){"function"==typeof t&&(n=t,t={}),t=utils.extend(!0,{},t),void 0===t.auto_encode&&(t.auto_encode=!0);var o=[];t.revs&&o.push("revs=true"),t.revs_info&&o.push("revs_info=true"),t.local_seq&&o.push("local_seq=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),o.push("open_revs="+t.open_revs)),t.attachments&&o.push("attachments=true"),t.rev&&o.push("rev="+t.rev),t.conflicts&&o.push("conflicts="+t.conflicts),o=o.join("&"),o=""===o?"":"?"+o,t.auto_encode&&(e=encodeDocId(e));var i={headers:s.headers,method:"GET",url:genDBUrl(s,e+o)},u=e.split("/");(u.length>1&&"_design"!==u[0]&&"_local"!==u[0]||u.length>2&&"_design"===u[0]&&"_local"!==u[0])&&(i.binary=!0),r(i,function(e,t,r){return e?n(e):void n(null,t,r)})}),o.remove=utils.adapterFun("remove",function(e,t,n){"function"==typeof t&&(n=t,t={}),r({headers:s.headers,method:"DELETE",url:genDBUrl(s,encodeDocId(e._id))+"?rev="+e._rev},n)}),o.getAttachment=utils.adapterFun("getAttachment",function(e,t,r,n){"function"==typeof r&&(n=r,r={}),r=utils.extend(!0,{},r),void 0===r.auto_encode&&(r.auto_encode=!0),r.auto_encode&&(e=encodeDocId(e)),r.auto_encode=!1,o.get(e+"/"+t,r,n)}),o.removeAttachment=utils.adapterFun("removeAttachment",function(e,t,n,o){r({headers:s.headers,method:"DELETE",url:genDBUrl(s,encodeDocId(e)+"/"+t)+"?rev="+n},o)}),o.putAttachment=utils.adapterFun("putAttachment",function(e,t,n,o,i,u){"function"==typeof i&&(u=i,i=o,o=n,n=null),"undefined"==typeof i&&(i=o,o=n,n=null);var a=encodeDocId(e)+"/"+t,l=genDBUrl(s,a);n&&(l+="?rev="+n);var d={headers:s.headers,method:"PUT",url:l,processData:!1,body:o,timeout:6e4};d.headers["Content-Type"]=i,r(d,u)}),o.put=utils.adapterFun("put",utils.getArguments(function(e){var t,n,o,i,u=e.shift(),a="_id"in u;if("object"!=typeof u||Array.isArray(u))return(i=e.pop())(errors.NOT_AN_OBJECT);for(u=utils.extend(!0,{},u);;)if(t=e.shift(),n=typeof t,"string"!==n||a?"string"!==n||!a||"_rev"in u?"object"===n?o=utils.extend(!0,{},t):"function"===n&&(i=t):u._rev=t:(u._id=t,a=!0),!e.length)break;o=o||{};var l=utils.invalidIdError(u._id);if(l)return i(l);var d=[];o&&"undefined"!=typeof o.new_edits&&d.push("new_edits="+o.new_edits),d=d.join("&"),""!==d&&(d="?"+d),r({headers:s.headers,method:"PUT",url:genDBUrl(s,encodeDocId(u._id))+d,body:u},i)})),o.post=utils.adapterFun("post",function(e,t,r){return"function"==typeof t&&(r=t,t={}),t=utils.extend(!0,{},t),"object"!=typeof e?r(errors.NOT_AN_OBJECT):void("_id"in e?o.put(e,t,r):a.list.length>0?(e._id=a.list.pop(),o.put(e,t,r)):a.get(function(n){return n?r(errors.UNKNOWN_ERROR):(e._id=a.list.pop(),void o.put(e,t,r))}))}),o.bulkDocs=utils.adapterFun("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),!Array.isArray(e.docs))return n(errors.error(errors.NOT_AN_OBJECT,"Missing JSON list of 'docs'"));var o=e.docs.filter(function(e){return"object"!=typeof e||Array.isArray(e)});return o.length?n(errors.NOT_AN_OBJECT):(e=utils.extend(!0,{},e),t=utils.extend(!0,{},t),"undefined"!=typeof t.new_edits&&(e.new_edits=t.new_edits),void r({headers:s.headers,method:"POST",url:genDBUrl(s,"_bulk_docs"),body:e},n))}),o.allDocs=utils.adapterFun("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=utils.extend(!0,{},e);var n,o=[],i="GET";if(e.conflicts&&o.push("conflicts=true"),e.descending&&o.push("descending=true"),e.include_docs&&o.push("include_docs=true"),e.key&&o.push("key="+encodeURIComponent(JSON.stringify(e.key))),e.startkey&&o.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&o.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),"undefined"!=typeof e.limit&&o.push("limit="+e.limit),"undefined"!=typeof e.skip&&o.push("skip="+e.skip),o=o.join("&"),""!==o&&(o="?"+o),"undefined"!=typeof e.keys){var u=2e3,a="keys="+encodeURIComponent(JSON.stringify(e.keys));a.length+o.length+1<=u?o+=(-1!==o.indexOf("?")?"&":"?")+a:(i="POST",n=JSON.stringify({keys:e.keys}))}r({headers:s.headers,method:i,url:genDBUrl(s,"_all_docs"+o),body:n},t)}),o._changes=function(e){var t=25;e=utils.extend(!0,{},e),e.timeout=e.timeout||0;var n={timeout:2e4},o="undefined"!=typeof e.limit?e.limit:!1;0===o&&(o=1);var i=o;if(e.style&&(n.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(n.include_docs=!0),e.continuous&&(n.feed="longpoll"),e.conflicts&&(n.conflicts=!0),e.descending&&(n.descending=!0),e.filter&&"string"==typeof e.filter&&(n.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(n.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(n[u]=e.query_params[u]);var a,l,d=function(u,d){if(!e.aborted){n.since=u,e.descending?o&&(n.limit=i):n.limit=!o||i>t?t:i;var c="?"+Object.keys(n).map(function(e){return e+"="+n[e]}).join("&"),f={headers:s.headers,method:"GET",url:genDBUrl(s,"_changes"+c),timeout:e.timeout};l=u,e.aborted||(a=r(f,d))}},c=10,f=0,p={results:[]},h=function(r,n){if(!e.aborted){var s=0;if(n&&n.results){s=n.results.length,p.last_seq=n.last_seq;var u={};u.query=e.query_params,n.results=n.results.filter(function(t){i--;var r=utils.filterChange(e)(t);return r&&(p.results.push(t),utils.call(e.onChange,t)),r})}else if(r)return e.aborted=!0,void utils.call(e.complete,r);n&&n.last_seq&&(l=n.last_seq);var a=o&&0>=i||n&&t>s||e.descending;if(e.continuous||!a){r?f+=1:f=0;var _=1<<f,y=c*_,m=e.maximumWait||3e4;if(y>m)return void utils.call(e.complete,r||errors.UNKNOWN_ERROR);setTimeout(function(){d(l,h)},y)}else utils.call(e.complete,null,p)}};return d(e.since||0,h),{cancel:function(){e.aborted=!0,a.abort()}}},o.revsDiff=utils.adapterFun("revsDif",function(e,t,n){"function"==typeof t&&(n=t,t={}),r({headers:s.headers,method:"POST",url:genDBUrl(s,"_revs_diff"),body:e},function(e,t){n(e,t)})}),o.close=utils.adapterFun("close",function(e){e()}),o.replicateOnServer=function(e,t,r){return o.taskqueue.isReady?void e.info(function(o,s){n(e,t,r,s.host)}):(o.taskqueue.addTask("replicateOnServer",[e,t,r]),r)},o.destroy=utils.adapterFun("destroy",function(e){r({url:genDBUrl(s,""),method:"DELETE",headers:s.headers},function(t,r){t?(o.emit("error",t),e(t)):(o.emit("destroyed"),e(null,r))})})}var utils=require("../utils"),errors=require("../deps/errors");parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},HttpPouch.destroy=utils.toPromise(function(e,t,r){var n=getHost(e,t);t=t||{},"function"==typeof t&&(r=t,t={}),t=utils.extend(!0,{},t),t.headers=n.headers,t.method="DELETE",t.url=genDBUrl(n,"");var o=t.ajax||{};t=utils.extend({},t,o),utils.ajax(t,r)}),HttpPouch.valid=function(){return!0},module.exports=HttpPouch;
},{"../deps/errors":14,"../utils":25}],9:[function(require,module,exports){
(function (global){
"use strict";function idbError(e){return function(t){e(errors.error(errors.IDB_ERROR,t.target,t.type))}}function isModernIdb(){var e="_pouch__checkModernIdb_"+(global.navigator&&global.navigator.appVersion),t=utils.hasLocalStorage()&&global.localStorage[e];if(t)return JSON.parse(t);var r="_pouch__checkModernIdb",n=null===global.indexedDB.open(r,1).onupgradeneeded;return global.indexedDB.deleteDatabase&&global.indexedDB.deleteDatabase(r),utils.hasLocalStorage()&&(global.localStorage[e]=JSON.stringify(n)),n}function IdbPouch(e,t){function r(e){e.createObjectStore(u,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),e.createObjectStore(c,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(l,{keyPath:"digest"}),e.createObjectStore(d,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(f)}function n(e){var t=e.currentTarget.transaction.objectStore(u);t.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var n=r.value,o=utils.isDeleted(n),a=utils.isLocalId(n.id);n.deletedOrLocal=o||a?"1":"0",t.put(n),r["continue"]()}else t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1})}}function o(e,t){return e._bulk_seq-t._bulk_seq}function a(e,t,r){var n=t.keys,o="descending"in t?t.descending:!1;if(n.length){var a=[];n.forEach(function(s){var u=utils.extend(!0,{},t);u.keys_request=!0,u.key=s,delete u.keys,delete u.skip,delete u.limit,i(e,u,function(i,u){if(a.push({err:i,res:u,key:s}),a.length===n.length){for(var c={},l=0;l<a.length;l++){var d=a[l];if(d.err)return void r(i);c[d.key]=d}var f=[];n.forEach(function(e){var t=c[e];f.push(t.res.rows.length?t.res.rows[0]:{key:e,error:"not_found"})}),o&&(f=f.reverse()),r(null,{total_rows:e,offset:t.skip,rows:"limit"in t?f.slice(t.skip,t.limit+t.skip):t.skip>0?f.slice(t.skip):f})}})})}else r(null,{offset:t.skip,rows:[],total_rows:e})}function i(e,t,r){var n="startkey"in t?t.startkey:!1,o="endkey"in t?t.endkey:!1,a="key"in t?t.key:!1,i=t.skip||0,s="number"==typeof t.limit?t.limit:-1,l="descending"in t&&t.descending?"prev":null,d=!1;l&&n&&o&&(d=o,o=!1);var f;try{f=n&&o?global.IDBKeyRange.bound(n,o):n?l?global.IDBKeyRange.upperBound(n):global.IDBKeyRange.lowerBound(n):o?l?global.IDBKeyRange.lowerBound(o):global.IDBKeyRange.upperBound(o):a?global.IDBKeyRange.only(a):null}catch(v){return"DataError"===v.name&&0===v.code?r(null,{total_rows:e,offset:t.skip,rows:[]}):r(errors.error(errors.IDB_ERROR,v.name,v.message))}var g=p.transaction([u,c],"readonly");g.oncomplete=function(){r(null,{total_rows:e,offset:t.skip,rows:h})};var _=g.objectStore(u),b=l?_.openCursor(f,l):_.openCursor(f),h=[];b.onsuccess=function(e){function r(e,r){if(utils.isLocalId(e.id))return n["continue"]();var o={id:e.id,key:e.id,value:{rev:merge.winningRev(e)}};if(t.include_docs){o.doc=r,o.doc._rev=merge.winningRev(e),o.doc._doc_id_rev&&delete o.doc._doc_id_rev,t.conflicts&&(o.doc._conflicts=merge.collectConflicts(e));for(var a in o.doc._attachments)o.doc._attachments.hasOwnProperty(a)&&(o.doc._attachments[a].stub=!0)}if(t.keys_request)utils.isDeleted(e)&&(o.value.deleted=!0,o.doc=null),h.push(o);else if(!utils.isDeleted(e)&&i--<=0){if(d&&o.key<d)return;if(h.push(o),0===--s)return}n["continue"]()}if(e.target.result){var n=e.target.result,o=n.value;if(t.include_docs){var a=g.objectStore(c).index("_doc_id_rev"),u=merge.winningRev(o),l=o.id+"::"+u;a.get(l).onsuccess=function(e){r(n.value,e.target.result)}}else r(o)}}}var s=2,u="document-store",c="by-sequence",l="attach-store",d="meta-store",f="detect-blob-support",v=e.name,g=global.indexedDB.open(v,s);"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.openReqList[v]=g;var _=null,b=null,h=this,p=null;g.onupgradeneeded=function(e){var t=e.target.result;e.oldVersion<1&&r(t),e.oldVersion<2&&n(e)},g.onsuccess=function(e){p=e.target.result,p.onversionchange=function(){p.close()};var r=p.transaction([d,f],"readwrite"),n=r.objectStore(d).get(d);n.onsuccess=function(e){var n=!1,o=function(){null!==_&&n&&t(null,h)},a=e.target.result||{id:d};v+"_id"in a?(b=a[v+"_id"],n=!0,o()):(b=utils.uuid(),a[v+"_id"]=b,r.objectStore(d).put(a).onsuccess=function(){n=!0,o()});try{r.objectStore(f).put(utils.createBlob(),"key"),_=!0}catch(i){_=!1}finally{o()}}},g.onerror=idbError(t),h.type=function(){return"idb"},h._id=utils.toPromise(function(e){e(null,b)}),h._bulkDocs=function(e,t,r){function n(e){var t=e.target.result;t.updateSeq=(t.updateSeq||0)+R,j.objectStore(d).put(t)}function a(){if(!k.length)return void(j.objectStore(d).get(d).onsuccess=n);var e=k.shift(),t=j.objectStore(u).get(e.metadata.id);t.onsuccess=function(t){var r=t.target.result;r?b(r,e):h(e)}}function i(){var e=[];q.sort(o),q.forEach(function(t){if(delete t._bulk_seq,t.error)return void e.push(t);var r=t.metadata,n=merge.winningRev(r);e.push({ok:!0,id:r.id,rev:n}),utils.isLocalId(r.id)||(IdbPouch.Changes.notify(v),IdbPouch.Changes.notifyLocalWindows(v))}),r(null,e)}function s(e,t){if(e.stub)return t();if("string"==typeof e.data){var n;try{n=atob(e.data)}catch(o){var a=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return r(a)}if(e.digest="md5-"+utils.Crypto.MD5(n),_){var i=e.content_type;n=utils.fixBinary(n),e.data=utils.createBlob([n],{type:i})}return t()}var s=new FileReader;s.onloadend=function(){var r=utils.arrayBufferToBinaryString(this.result);e.digest="md5-"+utils.Crypto.MD5(r),_||(e.data=btoa(r)),t()},s.readAsArrayBuffer(e.data)}function f(e){function t(){r++,k.length===r&&e()}if(!k.length)return e();var r=0;k.forEach(function(e){function r(){o++,o===n.length&&t()}var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!n.length)return t();var o=0;for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&s(e.data._attachments[a],r)})}function g(e,t){function r(e){a||(e?(a=e,t(a)):i===s.length&&o())}function n(e){i++,r(e)}function o(){e.data._doc_id_rev=e.data._id+"::"+e.data._rev;var r=j.objectStore(c).index("_doc_id_rev");r.getKey(e.data._doc_id_rev).onsuccess=function(r){var n=r.target.result?j.objectStore(c).put(e.data,r.target.result):j.objectStore(c).put(e.data);n.onsuccess=function(r){e.metadata.seq=r.target.result,delete e.metadata.rev;var n=utils.isDeleted(e.metadata),o=utils.isLocalId(e.metadata.id),a=utils.extend(!0,{deletedOrLocal:n||o?"1":"0"},e.metadata),i=j.objectStore(u).put(a);i.onsuccess=function(){q.push(e),utils.call(t)}}}}var a=null,i=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,R++,utils.isDeleted(e.metadata,e.metadata.rev)&&(e.data._deleted=!0);var s=e.data._attachments?Object.keys(e.data._attachments):[];for(var l in e.data._attachments)if(e.data._attachments[l].stub)i++,r();else{var d=e.data._attachments[l].data;delete e.data._attachments[l].data;var f=e.data._attachments[l].digest;y(e,f,d,n)}s.length||o()}function b(e,t){var r=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),n=utils.isDeleted(e),o=n&&utils.isDeleted(t.metadata)||!n&&I&&"new_leaf"!==r.conflicts;return o?(q.push(m(errors.REV_CONFLICT,t._bulk_seq)),a()):(t.metadata.rev_tree=r.tree,void g(t,a))}function h(e){return"was_delete"in t&&utils.isDeleted(e.metadata)?(q.push(errors.MISSING_DOC),a()):void g(e,a)}function m(e,t){return e._bulk_seq=t,e}function y(e,t,r,n){var o=j.objectStore(l);o.get(t).onsuccess=function(a){var i=a.target.result&&a.target.result.refs||{},s=[e.metadata.id,e.metadata.rev].join("@"),u={digest:t,body:r,refs:i};u.refs[s]=!0,o.put(u).onsuccess=function(){utils.call(n)}}}var I=t.new_edits,S=e.docs,k=S.map(function(e,t){var r=utils.parseDoc(e,I);return r._bulk_seq=t,r}),D=k.filter(function(e){return e.error});if(D.length)return r(D[0]);var j,q=[],R=0;f(function(){j=p.transaction([u,c,l,d],"readwrite"),j.onerror=idbError(r),j.ontimeout=idbError(r),j.oncomplete=i,a()})},h._get=function(e,t,r){function n(){r(i,{doc:o,metadata:a,ctx:s})}var o,a,i,s;t=utils.extend(!0,{},t),s=t.ctx?t.ctx:p.transaction([u,c,l],"readonly"),s.objectStore(u).get(e).onsuccess=function(e){if(a=e.target.result,!a)return i=errors.MISSING_DOC,n();if(utils.isDeleted(a)&&!t.rev)return i=errors.error(errors.MISSING_DOC,"deleted"),n();var r=merge.winningRev(a),u=a.id+"::"+(t.rev?t.rev:r),l=s.objectStore(c).index("_doc_id_rev");l.get(u).onsuccess=function(e){return o=e.target.result,o&&o._doc_id_rev&&delete o._doc_id_rev,o?void n():(i=errors.MISSING_DOC,n())}}},h._getAttachment=function(e,t,r){var n,o;t=utils.extend(!0,{},t),o=t.ctx?t.ctx:p.transaction([u,c,l],"readonly");var a=e.digest,i=e.content_type;o.objectStore(l).get(a).onsuccess=function(e){var o=e.target.result.body;if(t.encode)if(_){var a=new FileReader;a.onloadend=function(){var e=utils.arrayBufferToBinaryString(this.result);n=btoa(e),r(null,n)},a.readAsArrayBuffer(o)}else n=o,r(null,n);else _?n=o:(o=utils.fixBinary(atob(o)),n=utils.createBlob([o],{type:i})),r(null,n)}},h._allDocs=function(e,t){function r(e){n=e.target.result}var n,o=p.transaction([u],"readonly"),s=o.objectStore(u).index("deletedOrLocal");s.count(global.IDBKeyRange.only("0")).onsuccess=r,o.onerror=idbError(t),o.oncomplete=function(){return 0===e.limit?t(null,{total_rows:n,offset:e.skip,rows:[]}):void("keys"in e?a(n,e,t):i(n,e,t))}},h._info=function(e){function t(e){o=e.target.result&&e.target.result.updateSeq||0}function r(e){var r=e.target.result;return r?(r.value.deleted!==!0&&n++,void r["continue"]()):void(a.objectStore(d).get(d).onsuccess=t)}var n=0,o=0,a=p.transaction([u,d],"readonly");a.oncomplete=function(){e(null,{db_name:v,doc_count:n,update_seq:o})},a.objectStore(u).openCursor().onsuccess=r},h._changes=function(e){function t(){s=p.transaction([u,c]),s.oncomplete=n;var t;t=a?s.objectStore(c).openCursor(global.IDBKeyRange.lowerBound(e.since,!0),a):s.objectStore(c).openCursor(global.IDBKeyRange.lowerBound(e.since,!0)),t.onsuccess=r,t.onerror=onerror}function r(t){if(!t.target.result){for(var r=0,n=l.length;n>r;r++){var o=l[r];o&&f.push(o)}return!1}var a=t.target.result,v=a.value._id,g=d[v];if(void 0!==g)return l[g].seq=a.key,l.push(l[g]),l[g]=null,d[v]=l.length-1,a["continue"]();var _=s.objectStore(u);_.get(a.value._id).onsuccess=function(t){var r=t.target.result;if(utils.isLocalId(r.id))return a["continue"]();i<r.seq&&(i=r.seq);var n=merge.winningRev(r),o=r.id+"::"+n,u=s.objectStore(c).index("_doc_id_rev");u.get(o).onsuccess=function(t){var o=t.target.result;delete o._doc_id_rev,o._rev=n;var i=e.processChange(o,r,e);i.seq=a.key;var s=i.id,u=d[s];void 0!==u&&(l[u]=null),l.push(i),d[s]=l.length-1,a["continue"]()}}}function n(){utils.processChanges(e,f,i)}if(e=utils.extend(!0,{},e),e.continuous){var o=v+":"+utils.uuid();return IdbPouch.Changes.addListener(v,o,h,e),IdbPouch.Changes.notify(v),{cancel:function(){IdbPouch.Changes.removeListener(v,o)}}}var a=e.descending?"prev":null,i=0;e.since=e.since&&!a?e.since:0;var s,l=[],d={},f=[];t()},h._close=function(e){return null===p?e(errors.NOT_OPEN):(p.close(),void e())},h._getRevisionTree=function(e,t){var r=p.transaction([u],"readonly"),n=r.objectStore(u).get(e);n.onsuccess=function(e){var r=e.target.result;r?t(null,r.rev_tree):t(errors.MISSING_DOC)}},h._doCompaction=function(e,t,r,n){var o=p.transaction([u,c],"readwrite"),a=o.objectStore(u);a.get(e).onsuccess=function(n){var a=n.target.result;a.rev_tree=t;var i=r.length;r.forEach(function(t){var r=o.objectStore(c).index("_doc_id_rev"),n=e+"::"+t;r.getKey(n).onsuccess=function(e){var t=e.target.result;if(t&&(o.objectStore(c)["delete"](t),i--,!i)){if(a){var r=utils.isDeleted(a),n=utils.isLocalId(a.id);a=utils.extend(!0,{deletedOrLocal:r||n?"1":"0"},a)}o.objectStore(u).put(a)}}})},o.oncomplete=function(){utils.call(n)}}}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors");IdbPouch.valid=function(){return global.indexedDB&&isModernIdb()},IdbPouch.destroy=utils.toPromise(function(e,t,r){"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.Changes.clearListeners(e),IdbPouch.openReqList[e]&&IdbPouch.openReqList[e].result&&IdbPouch.openReqList[e].result.close();var n=global.indexedDB.deleteDatabase(e);n.onsuccess=function(){IdbPouch.openReqList[e]&&(IdbPouch.openReqList[e]=null),r()},n.onerror=idbError(r)}),IdbPouch.Changes=new utils.Changes,module.exports=IdbPouch;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../deps/errors":14,"../merge":21,"../utils":25}],10:[function(require,module,exports){
(function (global){
"use strict";function quote(e){return"'"+e+"'"}function unknownError(e){return function(t){var n=t&&t.constructor.toString().match(/function ([^\(]+)/),a=n&&n[1]||t.type,i=t.target||t.message;e(errors.error(errors.WSQ_ERROR,i,a))}}function decodeUtf8(e){return decodeURIComponent(window.escape(e))}function parseHexString(e,t){for(var n="",a="UTF-8"===t?2:4,i=0,r=e.length;r>i;i+=a){var o=e.substring(i,i+a);4===a&&(o=o.substring(2,4)+o.substring(0,2)),n+=String.fromCharCode(parseInt(o,16))}return n="UTF-8"===t?decodeUtf8(n):n}function WebSqlPouch(e,t){function n(){utils.hasLocalStorage()&&(global.localStorage["_pouch__websqldb_"+l]=!0),t(null,E)}function a(e){e.executeSql(DOC_STORE_WINNINGSEQ_INDEX_SQL),e.executeSql("ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(BY_SEQ_STORE_DELETED_INDEX_SQL),e.executeSql("ALTER TABLE "+DOC_STORE+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql(DOC_STORE_LOCAL_INDEX_SQL);var t="SELECT "+DOC_STORE+".winningseq AS seq, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq";e.executeSql(t,[],function(e,t){for(var n=[],a=[],i=0;i<t.rows.length;i++){var r=t.rows.item(i),o=r.seq,s=JSON.parse(r.metadata);utils.isDeleted(s)&&n.push(o),utils.isLocalId(s.id)&&a.push(s.id)}e.executeSql("UPDATE "+DOC_STORE+"SET local = 1 WHERE id IN ("+a.map(function(){return"?"}).join(",")+")",a),e.executeSql("UPDATE "+BY_SEQ_STORE+" SET deleted = 1 WHERE seq IN ("+n.map(function(){return"?"}).join(",")+")",n)})})})}function i(e){for(;c.length>0;){var t=c.pop();t(null,S)}r(e)}function r(e){e.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+META_STORE,[],function(e,t){var n=t.rows.item(0).dbid,a=t.rows.item(0).hexId;u=a.length===2*n.length?"UTF-8":"UTF-16"})}function o(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+META_STORE+" (update_seq, dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+ATTACH_STORE+" (digest, json, body BLOB)",o="CREATE TABLE IF NOT EXISTS "+DOC_STORE+" (id unique, seq, json, winningseq, local TINYINT(1))",s="CREATE TABLE IF NOT EXISTS "+BY_SEQ_STORE+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, doc_id_rev UNIQUE, json, deleted TINYINT(1))";e.executeSql(r),e.executeSql(o,[],function(){e.executeSql(DOC_STORE_WINNINGSEQ_INDEX_SQL),e.executeSql(DOC_STORE_LOCAL_INDEX_SQL)}),e.executeSql(s,[],function(){e.executeSql(BY_SEQ_STORE_DELETED_INDEX_SQL)}),e.executeSql(n,[],function(){var t="INSERT INTO "+META_STORE+" (update_seq, db_version, dbid) VALUES (?, ?, ?)";S=utils.uuid(),e.executeSql(t,[0,ADAPTER_VERSION,S]),i(e)})}else 1===t&&(a(e),e.executeSql("UPDATE "+META_STORE+" SET db_version = "+ADAPTER_VERSION)),e.executeSql("SELECT dbid FROM "+META_STORE,[],function(e,t){S=t.rows.item(0).dbid,i(e)})}function s(){d.transaction(function(e){e.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+META_STORE,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+META_STORE,[],function(e,t){var n=t.rows.item(0).db_version;o(e,n)}):e.executeSql("ALTER TABLE "+META_STORE+" ADD COLUMN db_version INTEGER",[],function(){o(e,1)}):o(e,0)})},unknownError(t),n)}var u,E=this,S=null,l=e.name,c=[],d=openDB(l,POUCH_VERSION,l,POUCH_SIZE);return d?(utils.isCordova()&&"undefined"!=typeof global?global.addEventListener(l+"_pouch",function _(){global.removeEventListener(l+"_pouch",_,!1),s()},!1):s(),E.type=function(){return"websql"},E._id=utils.toPromise(function(e){e(null,S)}),E._info=function(e){d.transaction(function(t){var n="SELECT COUNT(id) AS count FROM "+DOC_STORE;t.executeSql(n,[],function(t,n){var a=n.rows.item(0).count,i="SELECT update_seq FROM "+META_STORE;t.executeSql(i,[],function(t,n){var i=n.rows.item(0).update_seq;e(null,{db_name:l,doc_count:a,update_seq:i})})})})},E._bulkDocs=function(e,t,n){function a(e,t){return e._bulk_seq-t._bulk_seq}function i(){var e=[];C.sort(a),C.forEach(function(t){if(delete t._bulk_seq,t.error)return void e.push(t);var n=t.metadata,a=merge.winningRev(n);e.push({ok:!0,id:n.id,rev:a}),utils.isLocalId(n.id)||(g++,WebSqlPouch.Changes.notify(l),WebSqlPouch.Changes.notifyLocalWindows(l))});var t="SELECT update_seq FROM "+META_STORE;D.executeSql(t,[],function(t,a){var i=a.rows.item(0).update_seq+g,r="UPDATE "+META_STORE+" SET update_seq=?";t.executeSql(r,[i],function(){n(null,e)})})}function r(e,t){if(e.stub)return t();if("string"==typeof e.data){try{e.data=atob(e.data)}catch(a){var i=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return n(i)}var r=utils.fixBinary(e.data);e.data=utils.createBlob([r],{type:e.content_type})}var o=new FileReader;o.onloadend=function(){var n=utils.arrayBufferToBinaryString(this.result);e.data=n,e.digest="md5-"+utils.Crypto.MD5(n),t()},o.readAsArrayBuffer(e.data)}function o(e){function t(){n++,q.length===n&&e()}if(!q.length)return e();var n=0;q.forEach(function(e){function n(){i++,i===a.length&&t()}var a=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!a.length)return t();for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&r(e.data._attachments[o],n)})}function s(e,t,n){function a(){var t=e.data,n=t._id+"::"+t._rev,a=utils.isDeleted(e.metadata,e.metadata.rev)?1:0,i="SELECT * FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?;";D.executeSql(i,[n],function(e,i){var r,s;i.rows.length?(r="UPDATE "+BY_SEQ_STORE+" SET json=?, deleted=? WHERE doc_id_rev=?;",s=[JSON.stringify(t),a,n],D.executeSql(r,s,function(e){o(e,i.rows.item(0).seq)})):(r="INSERT INTO "+BY_SEQ_STORE+" (doc_id_rev, json, deleted) VALUES (?, ?, ?);",s=[n,JSON.stringify(t),a],D.executeSql(r,s,function(e,t){o(e,t.insertId)}))})}function i(e){s||(e?(s=e,t(s)):u===E.length&&a())}function r(e){u++,i(e)}function o(a,i){e.metadata.seq=i,delete e.metadata.rev;var r=merge.winningRev(e.metadata),o=n?"UPDATE "+DOC_STORE+" SET seq=?, json=?, winningseq=(SELECT seq FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?) WHERE id=?":"INSERT INTO "+DOC_STORE+" (id, seq, winningseq, json, local) VALUES (?, ?, ?, ?, ?);",s=JSON.stringify(e.metadata),u=e.metadata.id+"::"+r,E=utils.isLocalId(e.metadata.id)?1:0,S=n?[i,s,u,e.metadata.id]:[e.metadata.id,i,i,s,E];a.executeSql(o,S,function(){C.push(e),t()})}var s=null,u=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,utils.isDeleted(e.metadata,e.metadata.rev)&&(e.data._deleted=!0);var E=e.data._attachments?Object.keys(e.data._attachments):[];for(var S in e.data._attachments)if(e.data._attachments[S].stub)u++,i();else{var l=e.data._attachments[S].data;delete e.data._attachments[S].data;var c=e.data._attachments[S].digest;O(e,c,l,r)}E.length||a()}function E(e,t){var n=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),a=utils.isDeleted(e)&&utils.isDeleted(t.metadata)||!utils.isDeleted(e)&&R&&"new_leaf"!==n.conflicts;return a?(C.push(_(errors.REV_CONFLICT,t._bulk_seq)),c()):(t.metadata.rev_tree=n.tree,void s(t,c,!0))}function S(e){return"was_delete"in t&&utils.isDeleted(e.metadata)?(C.push(errors.MISSING_DOC),c()):void s(e,c,!1)}function c(){if(!q.length)return i();var e=q.shift(),t=e.metadata.id;t in m?E(m[t],e):(m[t]=e.metadata,S(e))}function _(e,t){return e._bulk_seq=t,e}function O(e,t,n,a){var i=[e.metadata.id,e.metadata.rev].join("@"),r={digest:t},o="SELECT digest, json FROM "+ATTACH_STORE+" WHERE digest=?";D.executeSql(o,[t],function(e,s){s.rows.length?(r.refs=JSON.parse(s.rows.item(0).json).refs,o="UPDATE "+ATTACH_STORE+" SET json=?, body=? WHERE digest=?",e.executeSql(o,[JSON.stringify(r),n,t],function(){a()})):(r.refs={},r.refs[i]=!0,o="INSERT INTO "+ATTACH_STORE+"(digest, json, body) VALUES (?, ?, ?)",e.executeSql(o,[t,JSON.stringify(r),n],function(){a()}))})}function T(e,t){for(var n=0;n<t.rows.length;n++){var a=t.rows.item(n),i=parseHexString(a.hexId,u);m[i]=JSON.parse(a.json)}c()}var R=t.new_edits,f=e.docs,g=0,q=f.map(function(e,t){var n=utils.parseDoc(e,R);return n._bulk_seq=t,n}),v=q.filter(function(e){return e.error});if(v.length)return n(v[0]);var D,C=[],m={};o(function(){d.transaction(function(e){D=e;var t="SELECT hex(id) AS hexId, json FROM "+DOC_STORE+" WHERE id IN ("+q.map(function(){return"?"}).join(",")+")",n=q.map(function(e){return e.metadata.id});D.executeSql(t,n,T)},unknownError(n))})},E._get=function(e,t,n){function a(){n(o,{doc:i,metadata:r,ctx:s})}t=utils.extend(!0,{},t);var i,r,o;if(!t.ctx)return void d.transaction(function(a){t.ctx=a,E._get(e,t,n)});var s=t.ctx,u="SELECT * FROM "+DOC_STORE+" WHERE id=?";s.executeSql(u,[e],function(e,n){if(!n.rows.length)return o=errors.MISSING_DOC,a();if(r=JSON.parse(n.rows.item(0).json),utils.isDeleted(r)&&!t.rev)return o=errors.error(errors.MISSING_DOC,"deleted"),a();var u=merge.winningRev(r),E=t.rev?t.rev:u;E=r.id+"::"+E;var S="SELECT * FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?";s.executeSql(S,[E],function(e,t){return t.rows.length?(i=JSON.parse(t.rows.item(0).json),void a()):(o=errors.MISSING_DOC,a())})})},E._allDocs=function(e,t){var n,a=[],i={},r=BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq",o="startkey"in e?e.startkey:!1,s="endkey"in e?e.endkey:!1,u="key"in e?e.key:!1,E="descending"in e?e.descending:!1,S="keys"in e?e.keys:!1,l="limit"in e?e.limit:!1,c="skip"in e?e.skip:!1,_=[],O=[DOC_STORE+".local = 0"];u!==!1?(O.push(DOC_STORE+".id = ?"),_.push(u)):S!==!1?(O.push(DOC_STORE+".id in ("+S.map(function(){return"?"}).join(",")+")"),_=_.concat(S)):(o!==!1||s!==!1)&&(o!==!1&&(O.push(DOC_STORE+".id "+(E?"<=":">=")+" ?"),_.push(o)),s!==!1&&(O.push(DOC_STORE+".id "+(E?">=":"<=")+" ?"),_.push(s)),u!==!1&&(O.push(DOC_STORE+".id = ?"),_.push(u))),S===!1&&O.push(BY_SEQ_STORE+".deleted = 0"),d.transaction(function(t){var o="SELECT COUNT("+DOC_STORE+".id) AS 'num' FROM "+r+" WHERE "+BY_SEQ_STORE+".deleted = 0 AND "+DOC_STORE+".local = 0";t.executeSql(o,[],function(t,o){if(n=o.rows.item(0).num,0!==l){var s="SELECT "+DOC_STORE+".id, "+BY_SEQ_STORE+".seq, "+BY_SEQ_STORE+".json AS data, "+DOC_STORE+".json AS metadata FROM "+r;O.length&&(s+=" WHERE "+O.join(" AND ")),s+=" ORDER BY "+DOC_STORE+".id "+(E?"DESC":"ASC"),l!==!1&&(s+=" LIMIT "+l),c!==!1&&c>0&&(l===!1&&(s+=" LIMIT -1"),s+=" OFFSET "+c),t.executeSql(s,_,function(t,n){for(var r=0,o=n.rows.length;o>r;r++){var s=n.rows.item(r),u=JSON.parse(s.metadata),E=JSON.parse(s.data);if(s={id:u.id,key:u.id,value:{rev:merge.winningRev(u)}},e.include_docs){s.doc=E,s.doc._rev=merge.winningRev(u),e.conflicts&&(s.doc._conflicts=merge.collectConflicts(u));for(var S in s.doc._attachments)s.doc._attachments.hasOwnProperty(S)&&(s.doc._attachments[S].stub=!0)}"keys"in e?e.keys.indexOf(u.id)>-1&&(utils.isDeleted(u)&&(s.value.deleted=!0,s.doc=null),i[s.id]=s):a.push(s)}})}})},unknownError(t),function(){0!==l&&"keys"in e&&(e.keys.forEach(function(e){a.push(e in i?i[e]:{key:e,error:"not_found"})}),e.descending&&a.reverse()),t(null,{total_rows:n,offset:e.skip,rows:a})})},E._changes=function(e){function t(){var t="SELECT "+DOC_STORE+".id, "+BY_SEQ_STORE+".seq, "+BY_SEQ_STORE+".json AS data, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq WHERE "+DOC_STORE+".seq > "+e.since+" ORDER BY "+DOC_STORE+".seq "+(a?"DESC":"ASC");d.transaction(function(n){n.executeSql(t,[],function(t,n){for(var a=0,r=0,o=n.rows.length;o>r;r++){var s=n.rows.item(r),u=JSON.parse(s.metadata);if(!utils.isLocalId(u.id)){a<s.seq&&(a=s.seq);var E=JSON.parse(s.data),S=e.processChange(E,u,e);S.seq=s.seq,i.push(S)}}utils.processChanges(e,i,a)})})}if(e=utils.extend(!0,{},e),e.continuous){var n=l+":"+utils.uuid();return WebSqlPouch.Changes.addListener(l,n,E,e),WebSqlPouch.Changes.notify(l),{cancel:function(){WebSqlPouch.Changes.removeListener(l,n)}}}var a=e.descending;e.since=e.since&&!a?e.since:0;var i=[];t()},E._close=function(e){e()},E._getAttachment=function(e,t,n){var a,i=t.ctx,r=e.digest,o=e.content_type,s="SELECT hex(body) as body FROM "+ATTACH_STORE+" WHERE digest=?";i.executeSql(s,[r],function(e,i){var r=parseHexString(i.rows.item(0).body,u);t.encode?a=btoa(r):(r=utils.fixBinary(r),a=utils.createBlob([r],{type:o})),n(null,a)})},E._getRevisionTree=function(e,t){d.transaction(function(n){var a="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";n.executeSql(a,[e],function(e,n){if(n.rows.length){var a=JSON.parse(n.rows.item(0).metadata);t(null,a.rev_tree)}else t(errors.MISSING_DOC)})})},void(E._doCompaction=function(e,t,n,a){d.transaction(function(i){var r="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";i.executeSql(r,[e],function(i,r){if(!r.rows.length)return utils.call(a);var o=JSON.parse(r.rows.item(0).metadata);o.rev_tree=t;var s="DELETE FROM "+BY_SEQ_STORE+" WHERE doc_id_rev IN ("+n.map(function(){return"?"}).join(",")+")",u=n.map(function(t){return e+"::"+t});i.executeSql(s,[u],function(t){var n="UPDATE "+DOC_STORE+" SET json = ? WHERE id = ?";t.executeSql(n,[JSON.stringify(o),e],function(){a()})})})})})):t(errors.UNKNOWN_ERROR)}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors"),cachedDatabases={},openDB=utils.getArguments(function(e){if("undefined"!=typeof global){if(global.navigator&&global.navigator.sqlitePlugin&&global.navigator.sqlitePlugin.openDatabase)return navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,e);if(global.sqlitePlugin&&global.sqlitePlugin.openDatabase)return global.sqlitePlugin.openDatabase.apply(global.sqlitePlugin,e);var t=cachedDatabases[e[0]];return t||(t=cachedDatabases[e[0]]=global.openDatabase.apply(global,e)),t}}),POUCH_VERSION=1,POUCH_SIZE=5242880,ADAPTER_VERSION=2,DOC_STORE=quote("document-store"),BY_SEQ_STORE=quote("by-sequence"),ATTACH_STORE=quote("attach-store"),META_STORE=quote("metadata-store"),BY_SEQ_STORE_DELETED_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+BY_SEQ_STORE+" (seq, deleted)",DOC_STORE_LOCAL_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+DOC_STORE+" (local, id)",DOC_STORE_WINNINGSEQ_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+DOC_STORE+" (winningseq)";WebSqlPouch.valid=function(){if("undefined"!=typeof global){if(global.navigator&&global.navigator.sqlitePlugin&&global.navigator.sqlitePlugin.openDatabase)return!0;if(global.sqlitePlugin&&global.sqlitePlugin.openDatabase)return!0;if(global.openDatabase)return!0}return!1},WebSqlPouch.destroy=utils.toPromise(function(e,t,n){var a=openDB(e,POUCH_VERSION,e,POUCH_SIZE);a.transaction(function(e){e.executeSql("DROP TABLE IF EXISTS "+DOC_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+BY_SEQ_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+ATTACH_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+META_STORE,[])},unknownError(n),function(){utils.hasLocalStorage()&&delete global.localStorage["_pouch__websqldb_"+e],n()})}),WebSqlPouch.Changes=new utils.Changes,module.exports=WebSqlPouch;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../deps/errors":14,"../merge":21,"../utils":25}],11:[function(require,module,exports){
(function (global){
"use strict";function defaultCallback(e){e&&global.debug&&console.error(e)}function PouchDB(e,t,n){if(!(this instanceof PouchDB))return new PouchDB(e,t,n);var a=this;("function"==typeof t||"undefined"==typeof t)&&(n=t,t={}),"object"==typeof e&&(t=e,e=void 0),"undefined"==typeof n&&(n=defaultCallback),t=t||{};var o=n;a.auto_compaction=t.auto_compaction,a.prefix=PouchDB.prefix,Adapter.call(a),a.taskqueue=new TaskQueue;var r=new Promise(function(o,r){n=function(e,t){return e?r(e):(delete t.then,void o(t))},t=utils.extend(!0,{},t);var i,u,c=t.name||e;return function(){try{if("string"!=typeof c)throw u=new Error("Missing/invalid DB name"),u.code=400,u;if(i=PouchDB.parseAdapter(c,t),t.originalName=c,t.name=i.name,t.adapter=t.adapter||i.adapter,!PouchDB.adapters[t.adapter])throw u=new Error("Adapter is missing"),u.code=404,u;if(!PouchDB.adapters[t.adapter].valid())throw u=new Error("Invalid Adapter"),u.code=404,u}catch(e){a.taskqueue.fail(e),a.changes=utils.toPromise(function(t){t.complete&&t.complete(e)})}}(),u?r(u):(a.adapter=t.adapter,a.replicate=function(e,t,n){return utils.cancellableFun(function(a,o,r){var i=PouchDB.replicate(e,t,n);r.cancel=i.cancel},a,n)},a.replicate.from=function(e,t,n){return"function"==typeof t&&(n=t,t={}),PouchDB.replicate(e,a,t,n)},a.replicate.to=function(e,t,n){return"function"==typeof t&&(n=t,t={}),PouchDB.replicate(a,e,t,n)},a.replicate.sync=function(e,t,n){return"function"==typeof t&&(n=t,t={}),utils.cancellableFun(function(o,r,i){var u=PouchDB.sync(a,e,t,n);i.cancel=u.cancel},a,t)},a.destroy=utils.adapterFun("destroy",function(e){var t=this;t.info(function(t,n){return t?e(t):void PouchDB.destroy(n.db_name,e)})}),PouchDB.adapters[t.adapter].call(a,t,function(e){function o(e){"destroyed"===e&&(a.emit("destroyed"),PouchDB.removeListener(t.name,o))}return e?void(n&&(a.taskqueue.fail(e),n(e))):(PouchDB.on(t.name,o),a.emit("created",a),PouchDB.emit("created",t.originalName),a.taskqueue.ready(a),void n(null,a))}),t.skipSetup&&a.taskqueue.ready(a),void(utils.isCordova()&&cordova.fireWindowEvent(t.name+"_pouch",{})))});r.then(function(e){o(null,e)},o),a.then=r.then.bind(r),function(){try{a["catch"]=r["catch"].bind(r)}catch(e){}}()}var Promise="function"==typeof global.Promise?global.Promise:require("bluebird"),Adapter=require("./adapter"),utils=require("./utils"),TaskQueue=require("./taskqueue");utils.inherits(PouchDB,Adapter),module.exports=PouchDB;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./adapter":7,"./taskqueue":24,"./utils":25,"bluebird":31}],12:[function(require,module,exports){
(function (process){
"use strict";function ajax(r,e){function s(e,s,t){if(r.binary||r.json||!r.processData||"string"==typeof e){if(!r.binary&&r.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(o){return t(o)}}else e=JSON.stringify(e);Array.isArray(e)&&(e=e.map(function(r){var e;return r.ok?r:r.error&&"conflict"===r.error?(e=errors.REV_CONFLICT,e.id=r.id,e):r.error&&"forbidden"===r.error?(e=errors.FORBIDDEN,e.id=r.id,e.reason=r.reason,e):r.missing?(e=errors.MISSING_DOC,e.missing=r.missing,e):r})),t(null,e,s)}function t(r,e){var s,t,o,n;try{s=JSON.parse(r.responseText);for(n in errors)if(errors.hasOwnProperty(n)&&errors[n].name===s.error){o=errors[n];break}o||(o=errors.UNKNOWN_ERROR,r.status&&(o.status=r.status),r.statusText&&(r.name=r.statusText)),t=errors.error(o,s.reason)}catch(a){for(var n in errors)if(errors.hasOwnProperty(n)&&errors[n].status===r.status){o=errors[n];break}o||(o=errors.UNKNOWN_ERROR,r.status&&(o.status=r.status),r.statusText&&(r.name=r.statusText)),t=errors.error(o)}e(t)}var o=!1,n=utils.getArguments(function(r){o||(e.apply(this,r),o=!0)});"function"==typeof r&&(n=r,r={}),r=extend(!0,{},r);var a={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};if(r=extend(!0,a,r),"GET"===r.method&&!r.cache){var i=-1!==r.url.indexOf("?");r.url+=(i?"&":"?")+"_nonce="+uuid(16)}if(process.browser){var u,p;p=r.xhr?new r.xhr:new XMLHttpRequest,p.open(r.method,r.url),p.withCredentials=!0,r.json&&(r.headers.Accept="application/json",r.headers["Content-Type"]=r.headers["Content-Type"]||"application/json",r.body&&r.processData&&"string"!=typeof r.body&&(r.body=JSON.stringify(r.body))),r.binary&&(p.responseType="arraybuffer");var d=function(r,e,s){var t="";if(s){var o=new Date;o.setTime(o.getTime()+24*s*60*60*1e3),t="; expires="+o.toGMTString()}document.cookie=r+"="+e+t+"; path=/"};for(var c in r.headers)if("Cookie"===c){var y=r.headers[c].split("=");d(y[0],y[1],10)}else p.setRequestHeader(c,r.headers[c]);"body"in r||(r.body=null);var f=function(){o||(p.abort(),t(p,n))};return p.onreadystatechange=function(){if(4===p.readyState&&!o)if(clearTimeout(u),p.status>=200&&p.status<300){var e;e=r.binary?createBlob([p.response||""],{type:p.getResponseHeader("Content-Type")}):p.responseText,s(e,p,n)}else t(p,n)},r.timeout>0&&(u=setTimeout(f,r.timeout),p.onprogress=function(){clearTimeout(u),u=setTimeout(f,r.timeout)},p.upload&&(p.upload.onprogress=p.onprogress)),p.send(r.body),{abort:f}}return r.json&&(r.binary||(r.headers.Accept="application/json"),r.headers["Content-Type"]=r.headers["Content-Type"]||"application/json"),r.binary&&(r.encoding=null,r.json=!1),r.processData||(r.json=!1),request(r,function(e,o,a){if(e)return e.status=o?o.statusCode:400,t(e,n);var i,u=o.headers["content-type"],p=a||"";r.binary||!r.json&&r.processData||"object"==typeof p||!(/json/.test(u)||/^[\s]*\{/.test(p)&&/\}[\s]*$/.test(p))||(p=JSON.parse(p)),o.statusCode>=200&&o.statusCode<300?s(p,o,n):(r.binary&&(p=JSON.parse(p.toString())),i="missing"===p.reason?errors.MISSING_DOC:"no_db_file"===p.reason?errors.error(errors.DB_MISSING,p.reason):"conflict"===p.error?errors.REV_CONFLICT:errors.error(errors.UNKNOWN_ERROR,p.reason,p.error),i.status=o.statusCode,n(i))})}var request=require("request"),extend=require("./extend.js"),createBlob=require("./blob.js"),errors=require("./errors"),uuid=require("../deps/uuid"),utils=require("../utils");module.exports=ajax;
}).call(this,require("/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"../deps/uuid":18,"../utils":25,"./blob.js":13,"./errors":14,"./extend.js":16,"/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":80,"request":78}],13:[function(require,module,exports){
(function (global){
"use strict";function createBlob(e,l){e=e||[],l=l||{};try{return new Blob(e,l)}catch(o){if("TypeError"!==o.name)throw o;for(var r=global.BlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder,t=new r,b=0;b<e.length;b+=1)t.append(e[b]);return t.getBlob(l.type)}}module.exports=createBlob;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],14:[function(require,module,exports){
"use strict";function PouchError(r){this.status=r.status,this.name=r.error,this.message=r.reason,this.error=!0}PouchError.prototype__proto__=Error.prototype,PouchError.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},exports.UNAUTHORIZED=new PouchError({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),exports.MISSING_BULK_DOCS=new PouchError({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),exports.MISSING_DOC=new PouchError({status:404,error:"not_found",reason:"missing"}),exports.REV_CONFLICT=new PouchError({status:409,error:"conflict",reason:"Document update conflict"}),exports.INVALID_ID=new PouchError({status:400,error:"invalid_id",reason:"_id field must contain a string"}),exports.MISSING_ID=new PouchError({status:412,error:"missing_id",reason:"_id is required for puts"}),exports.RESERVED_ID=new PouchError({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),exports.NOT_OPEN=new PouchError({status:412,error:"precondition_failed",reason:"Database not open so cannot close"}),exports.UNKNOWN_ERROR=new PouchError({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),exports.BAD_ARG=new PouchError({status:500,error:"badarg",reason:"Some query argument is invalid"}),exports.INVALID_REQUEST=new PouchError({status:400,error:"invalid_request",reason:"Request was invalid"}),exports.QUERY_PARSE_ERROR=new PouchError({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),exports.DOC_VALIDATION=new PouchError({status:500,error:"doc_validation",reason:"Bad special document member"}),exports.BAD_REQUEST=new PouchError({status:400,error:"bad_request",reason:"Something wrong with the request"}),exports.NOT_AN_OBJECT=new PouchError({status:400,error:"bad_request",reason:"Document must be a JSON object"}),exports.DB_MISSING=new PouchError({status:404,error:"not_found",reason:"Database not found"}),exports.IDB_ERROR=new PouchError({status:500,error:"indexed_db_went_bad",reason:"unknown"}),exports.WSQ_ERROR=new PouchError({status:500,error:"web_sql_went_bad",reason:"unknown"}),exports.LDB_ERROR=new PouchError({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),exports.FORBIDDEN=new PouchError({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),exports.error=function(r,e,o){function s(){this.message=e,o&&(this.name=o)}return s.prototype=r,new s(e)};
},{}],15:[function(require,module,exports){
"use strict";Object.keys||(Object.keys=function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on a non-object");var t=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.push(o);return t}),Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),"forEach"in Array.prototype||(Array.prototype.forEach=function(r,t){for(var o=0,e=this.length;e>o;o++)o in this&&r.call(t,this[o],o,this)}),"map"in Array.prototype||(Array.prototype.map=function(r,t){for(var o=new Array(this.length),e=0,n=this.length;n>e;e++)e in this&&(o[e]=r.call(t,this[e],e,this));return o});
},{}],16:[function(require,module,exports){
"use strict";function type(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?class2type[core_toString.call(t)]||"object":typeof t}function isWindow(t){return null!==t&&t===t.window}function isPlainObject(t){if(!t||"object"!==type(t)||t.nodeType||isWindow(t))return!1;try{if(t.constructor&&!core_hasOwn.call(t,"constructor")&&!core_hasOwn.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var r;for(r in t);return void 0===r||core_hasOwn.call(t,r)}function isFunction(t){return"function"===type(t)}function extend(){var t,e,r,n,o,i,c=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[1]||{},s=2),"object"==typeof c||isFunction(c)||(c={}),a===s&&(c=this,--s);a>s;s++)if(null!=(t=arguments[s]))for(e in t)if(!(e in Object.prototype)){if(r=c[e],n=t[e],c===n)continue;u&&n&&(isPlainObject(n)||(o=isArray(n)))?(o?(o=!1,i=r&&isArray(r)?r:[]):i=r&&isPlainObject(r)?r:{},c[e]=extend(u,i,n)):void 0!==n&&(isArray(t)&&isFunction(n)||(c[e]=n))}return c}for(var class2type={},types=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],i=0;i<types.length;i++){var typename=types[i];class2type["[object "+typename+"]"]=typename.toLowerCase()}var core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,isArray=Array.isArray||function(t){return"array"===type(t)};module.exports=extend;
},{}],17:[function(require,module,exports){
(function (process){
"use strict";var crypto=require("crypto");exports.MD5=function(r){function n(r,n){return r<<n|r>>>32-n}function t(r,n){var t,e,u,o,c;return u=2147483648&r,o=2147483648&n,t=1073741824&r,e=1073741824&n,c=(1073741823&r)+(1073741823&n),t&e?2147483648^c^u^o:t|e?1073741824&c?3221225472^c^u^o:1073741824^c^u^o:c^u^o}function e(r,n,t){return r&n|~r&t}function u(r,n,t){return r&t|n&~t}function o(r,n,t){return r^n^t}function c(r,n,t){return n^(r|~t)}function i(r,u,o,c,i,f,a){return r=t(r,t(t(e(u,o,c),i),a)),t(n(r,f),u)}function f(r,e,o,c,i,f,a){return r=t(r,t(t(u(e,o,c),i),a)),t(n(r,f),e)}function a(r,e,u,c,i,f,a){return r=t(r,t(t(o(e,u,c),i),a)),t(n(r,f),e)}function s(r,e,u,o,i,f,a){return r=t(r,t(t(c(e,u,o),i),a)),t(n(r,f),e)}function h(r){for(var n,t=r.length,e=t+8,u=(e-e%64)/64,o=16*(u+1),c=new Array(o-1),i=0,f=0;t>f;)n=(f-f%4)/4,i=f%4*8,c[n]=c[n]|r.charCodeAt(f)<<i,f++;return n=(f-f%4)/4,i=f%4*8,c[n]=c[n]|128<<i,c[o-2]=t<<3,c[o-1]=t>>>29,c}function p(r){var n,t,e="",u="";for(t=0;3>=t;t++)n=r>>>8*t&255,u="0"+n.toString(16),e+=u.substr(u.length-2,2);return e}if(!process.browser)return crypto.createHash("md5").update(r).digest("hex");var v,g,d,y,l,w,b,x,A,C=[],m=7,q=12,D=17,H=22,L=5,M=9,S=14,j=20,k=4,z=11,B=16,E=23,F=6,G=10,I=15,J=21;for(C=h(r),w=1732584193,b=4023233417,x=2562383102,A=271733878,v=0;v<C.length;v+=16)g=w,d=b,y=x,l=A,w=i(w,b,x,A,C[v+0],m,3614090360),A=i(A,w,b,x,C[v+1],q,3905402710),x=i(x,A,w,b,C[v+2],D,606105819),b=i(b,x,A,w,C[v+3],H,3250441966),w=i(w,b,x,A,C[v+4],m,4118548399),A=i(A,w,b,x,C[v+5],q,1200080426),x=i(x,A,w,b,C[v+6],D,2821735955),b=i(b,x,A,w,C[v+7],H,4249261313),w=i(w,b,x,A,C[v+8],m,1770035416),A=i(A,w,b,x,C[v+9],q,2336552879),x=i(x,A,w,b,C[v+10],D,4294925233),b=i(b,x,A,w,C[v+11],H,2304563134),w=i(w,b,x,A,C[v+12],m,1804603682),A=i(A,w,b,x,C[v+13],q,4254626195),x=i(x,A,w,b,C[v+14],D,2792965006),b=i(b,x,A,w,C[v+15],H,1236535329),w=f(w,b,x,A,C[v+1],L,4129170786),A=f(A,w,b,x,C[v+6],M,3225465664),x=f(x,A,w,b,C[v+11],S,643717713),b=f(b,x,A,w,C[v+0],j,3921069994),w=f(w,b,x,A,C[v+5],L,3593408605),A=f(A,w,b,x,C[v+10],M,38016083),x=f(x,A,w,b,C[v+15],S,3634488961),b=f(b,x,A,w,C[v+4],j,3889429448),w=f(w,b,x,A,C[v+9],L,568446438),A=f(A,w,b,x,C[v+14],M,3275163606),x=f(x,A,w,b,C[v+3],S,4107603335),b=f(b,x,A,w,C[v+8],j,1163531501),w=f(w,b,x,A,C[v+13],L,2850285829),A=f(A,w,b,x,C[v+2],M,4243563512),x=f(x,A,w,b,C[v+7],S,1735328473),b=f(b,x,A,w,C[v+12],j,2368359562),w=a(w,b,x,A,C[v+5],k,4294588738),A=a(A,w,b,x,C[v+8],z,2272392833),x=a(x,A,w,b,C[v+11],B,1839030562),b=a(b,x,A,w,C[v+14],E,4259657740),w=a(w,b,x,A,C[v+1],k,2763975236),A=a(A,w,b,x,C[v+4],z,1272893353),x=a(x,A,w,b,C[v+7],B,4139469664),b=a(b,x,A,w,C[v+10],E,3200236656),w=a(w,b,x,A,C[v+13],k,681279174),A=a(A,w,b,x,C[v+0],z,3936430074),x=a(x,A,w,b,C[v+3],B,3572445317),b=a(b,x,A,w,C[v+6],E,76029189),w=a(w,b,x,A,C[v+9],k,3654602809),A=a(A,w,b,x,C[v+12],z,3873151461),x=a(x,A,w,b,C[v+15],B,530742520),b=a(b,x,A,w,C[v+2],E,3299628645),w=s(w,b,x,A,C[v+0],F,4096336452),A=s(A,w,b,x,C[v+7],G,1126891415),x=s(x,A,w,b,C[v+14],I,2878612391),b=s(b,x,A,w,C[v+5],J,4237533241),w=s(w,b,x,A,C[v+12],F,1700485571),A=s(A,w,b,x,C[v+3],G,2399980690),x=s(x,A,w,b,C[v+10],I,4293915773),b=s(b,x,A,w,C[v+1],J,2240044497),w=s(w,b,x,A,C[v+8],F,1873313359),A=s(A,w,b,x,C[v+15],G,4264355552),x=s(x,A,w,b,C[v+6],I,2734768916),b=s(b,x,A,w,C[v+13],J,1309151649),w=s(w,b,x,A,C[v+4],F,4149444226),A=s(A,w,b,x,C[v+11],G,3174756917),x=s(x,A,w,b,C[v+2],I,718787259),b=s(b,x,A,w,C[v+9],J,3951481745),w=t(w,g),b=t(b,d),x=t(x,y),A=t(A,l);var K=p(w)+p(b)+p(x)+p(A);return K.toLowerCase()};
}).call(this,require("/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":80,"crypto":78}],18:[function(require,module,exports){
"use strict";function uuid(u,r){var i,t=uuid.CHARS,o=[];if(r=r||t.length,u)for(i=0;u>i;i++)o[i]=t[0|Math.random()*r];else{var d;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",i=0;36>i;i++)o[i]||(d=0|16*Math.random(),o[i]=t[19===i?3&d|8:d])}return o.join("")}uuid.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),module.exports=uuid;
},{}],"pouchdb":[function(require,module,exports){
module.exports=require('S6KqvD');
},{}],"S6KqvD":[function(require,module,exports){
(function (process){
"use strict";require("./deps/es5_shims");var PouchDB=require("./setup");module.exports=PouchDB,PouchDB.ajax=require("./deps/ajax"),PouchDB.extend=require("./deps/extend"),PouchDB.utils=require("./utils"),PouchDB.Errors=require("./deps/errors");var replicate=require("./replicate");PouchDB.replicate=replicate.replicate,PouchDB.sync=replicate.sync,PouchDB.version=require("./version");var httpAdapter=require("./adapters/http");if(PouchDB.adapter("http",httpAdapter),PouchDB.adapter("https",httpAdapter),PouchDB.adapter("idb",require("./adapters/idb")),PouchDB.adapter("websql",require("./adapters/websql")),PouchDB.plugin(require("pouchdb-mapreduce")),!process.browser){var ldbAdapter=require("./adapters/leveldb");PouchDB.adapter("ldb",ldbAdapter),PouchDB.adapter("leveldb",ldbAdapter)}
}).call(this,require("/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./adapters/http":8,"./adapters/idb":9,"./adapters/leveldb":78,"./adapters/websql":10,"./deps/ajax":12,"./deps/errors":14,"./deps/es5_shims":15,"./deps/extend":16,"./replicate":22,"./setup":23,"./utils":25,"./version":26,"/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":80,"pouchdb-mapreduce":46}],21:[function(require,module,exports){
"use strict";function pathToTree(e){for(var r,t=e.shift(),s=[t.id,t.opts,[]],o=s;e.length;)t=e.shift(),r=[t.id,t.opts,[]],o[2].push(r),o=r;return s}function mergeTree(e,r){for(var t=[{tree1:e,tree2:r}],s=!1;t.length>0;){var o=t.pop(),n=o.tree1,i=o.tree2;(n[1].status||i[1].status)&&(n[1].status="available"===n[1].status||"available"===i[1].status?"available":"missing");for(var u=0;u<i[2].length;u++)if(n[2][0]){for(var c=!1,p=0;p<n[2].length;p++)n[2][p][0]===i[2][u][0]&&(t.push({tree1:n[2][p],tree2:i[2][u]}),c=!0);c||(s="new_branch",n[2].push(i[2][u]),n[2].sort())}else s="new_leaf",n[2][0]=i[2][u]}return{conflicts:s,tree:e}}function doMerge(e,r,t){var s,o=[],n=!1,i=!1;return e.length?(e.forEach(function(e){if(e.pos===r.pos&&e.ids[0]===r.ids[0])s=mergeTree(e.ids,r.ids),o.push({pos:e.pos,ids:s.tree}),n=n||s.conflicts,i=!0;else if(t!==!0){var u=e.pos<r.pos?e:r,c=e.pos<r.pos?r:e,p=c.pos-u.pos,d=[],f=[];for(f.push({ids:u.ids,diff:p,parent:null,parentIdx:null});f.length>0;){var a=f.pop();0!==a.diff?a.ids&&a.ids[2].forEach(function(e,r){f.push({ids:e,diff:a.diff-1,parent:a.ids,parentIdx:r})}):a.ids[0]===c.ids[0]&&d.push(a)}var h=d[0];h?(s=mergeTree(h.ids,c.ids),h.parent[2][h.parentIdx]=s.tree,o.push({pos:u.pos,ids:u.ids}),n=n||s.conflicts,i=!0):o.push(e)}else o.push(e)}),i||o.push(r),o.sort(function(e,r){return e.pos-r.pos}),{tree:o,conflicts:n||"internal_node"}):{tree:[r],conflicts:"new_leaf"}}function stem(e,r){var t=PouchMerge.rootToLeaf(e).map(function(e){var t=e.ids.slice(-r);return{pos:e.pos+(e.ids.length-t.length),ids:pathToTree(t)}});return t.reduce(function(e,r){return doMerge(e,r,!0).tree},[t.shift()])}var extend=require("./deps/extend"),PouchMerge={};PouchMerge.merge=function(e,r,t){e=extend(!0,[],e),r=extend(!0,{},r);var s=doMerge(e,r);return{tree:stem(s.tree,t),conflicts:s.conflicts}},PouchMerge.winningRev=function(e){var r=[];return PouchMerge.traverseRevTree(e.rev_tree,function(e,t,s,o,n){e&&r.push({pos:t,id:s,deleted:!!n.deleted})}),r.sort(function(e,r){return e.deleted!==r.deleted?e.deleted>r.deleted?1:-1:e.pos!==r.pos?r.pos-e.pos:e.id<r.id?1:-1}),r[0].pos+"-"+r[0].id},PouchMerge.traverseRevTree=function(e,r){var t=[];for(e.forEach(function(e){t.push({pos:e.pos,ids:e.ids})});t.length>0;){var s=t.pop(),o=s.pos,n=s.ids,i=r(0===n[2].length,o,n[0],s.ctx,n[1]);n[2].forEach(function(e){t.push({pos:o+1,ids:e,ctx:i})})}},PouchMerge.collectLeaves=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){e&&r.unshift({rev:t+"-"+s,pos:t,opts:n})}),r.sort(function(e,r){return r.pos-e.pos}),r.map(function(e){delete e.pos}),r},PouchMerge.collectConflicts=function(e){var r=PouchMerge.winningRev(e),t=PouchMerge.collectLeaves(e.rev_tree),s=[];return t.forEach(function(e){e.rev===r||e.opts.deleted||s.push(e.rev)}),s},PouchMerge.rootToLeaf=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){if(o=o?o.slice(0):[],o.push({id:s,opts:n}),e){var i=t+1-o.length;r.unshift({pos:i,ids:o})}return o}),r},module.exports=PouchMerge;
},{"./deps/extend":16}],22:[function(require,module,exports){
"use strict";function Promise(){var e=this;this.cancelled=!1,this.cancel=function(){e.cancelled=!0}}function Batch(){this.seq=0,this.changes=[],this.docs=[]}function genReplicationId(e,t,n,r){var c=n.filter?n.filter.toString():"";e.id(function(e,i){t.id(function(e,t){var o=i+t+c+JSON.stringify(n.query_params)+n.doc_ids;r("_local/"+PouchUtils.Crypto.MD5(o))})})}function fetchCheckpoint(e,t,n,r){t.get(n,function(t,c){t&&404===t.status?r(null,0):t?r(t):e.get(n,function(e,t){e&&404===e.status||!e&&c.last_seq!==t.last_seq?r(null,0):e?r(e):r(null,t.last_seq)})})}function writeCheckpoint(e,t,n,r,c){function i(e,t){e.get(n,function(c,i){if(c&&404===c.status)i={_id:n};else if(c)return t(c);i.last_seq=r,e.put(i,t)})}i(t,function(t){return t?c(t):void i(e,function(e){return e?c(e):void c()})})}function replicate(e,t,n,r,c){function i(){if(0===w.docs.length)return a();var e=w.docs;n.bulkDocs({docs:e},{new_edits:!1},function(t,n){if(t)return S.doc_write_failures+=e.length,l("target.bulkDocs completed with error",t);var r=[];return n.forEach(function(e){e.ok||(S.doc_write_failures++,r.push({status:500,error:e.error||"Unknown document write error",reason:e.reason||"Unknown reason"}))}),r.length>0?l("target.bulkDocs failed to write docs",r):(S.docs_written+=e.length,void a())})}function o(e,t){return c.cancelled?v():e?l("src.get completed with error",e):(Object.keys(t).forEach(function(e){var n=t[e].ok;n&&(S.docs_read++,w.pendingRevs++,w.docs.push(n))}),void u())}function s(e,n){t.allDocs({keys:e,include_docs:!0},function(e,t){return c.cancelled?v():e?l("src.get completed with error",e):(t.rows.forEach(function(e,t){var r=!e.doc||"1-"!==e.value.rev.slice(0,2)||e.doc._attachments&&Object.keys(e.doc._attachments).length;return r?q.push({id:"not_found"===e.error?e.key:e.id,rev:n[t]}):(S.docs_read++,w.pendingRevs++,void w.docs.push(e.doc))}),void u())})}function u(){if(q.length){var e=q.shift();return fetchSingleRev(t,o,e.id,[e.rev])}var n=w.diffs;if(0===Object.keys(n).length)return void i();var r=Object.keys(n).reduce(function(e,t){return 1===n[t].missing.length&&"1-"===n[t].missing[0].slice(0,2)&&(e.ids.push(t),e.revs.push(n[t].missing[0]),delete n[t]),e},{ids:[],revs:[]});if(r.ids.length)return s(r.ids,r.revs);var c=Object.keys(n)[0],u=n[c].missing;delete n[c],fetchSingleRev(t,o,c,u)}function l(e,t){if(!b){S.ok=!1,S.status="aborted",S.errors.push(t),S.end_time=new Date,S.last_seq=D,y=[],k=new Batch;var n={status:500,error:"Replication aborted",reason:e,details:t};b=!0,PouchUtils.call(r.complete,n,S),c.cancel()}}function a(){P=!0,writeCheckpoint(t,n,e,w.seq,function(e){return P=!1,c.cancelled?v():e?l("writeCheckpoint completed with error",e):(S.last_seq=D=w.seq,PouchUtils.call(r.onChange,null,S),w=void 0,void h())})}function f(e,t){return c.cancelled?v():e?l("target.revsDiff completed with error",e):0===Object.keys(t).length?void a():(w.diffs=t,w.pendingRevs=0,void u())}function d(){var e={};w.changes.forEach(function(t){e[t.id]=t.changes.map(function(e){return e.rev})}),n.revsDiff(e,f)}function h(){if(c.cancelled)return v();if(!w){if(0===y.length)return void p();w=y.shift(),d()}}function p(){return 0===k.changes.length?void(C&&0===y.length&&!w&&v()):void((C||k.changes.length>=O)&&(y.push(k),k=new Batch,h()))}function v(){return b||c.cancelled&&(S.status="cancelled",P)?void 0:(S.status=S.status||"complete",S.end_time=new Date,S.last_seq=D,b=!0,S.errors.length>0?PouchUtils.call(r.complete,S.errors[0],S):PouchUtils.call(r.complete,null,S))}function g(e){return c.cancelled?v():void(b||(k.seq=e.seq,k.changes.push(e),p()))}function _(e){return C=!0,c.cancelled?v():(e&&(S.status="src.changes completed with error",S.errors.push(e)),void p())}function m(){fetchCheckpoint(t,n,e,function(e,n){if(e)return l("fetchCheckpoint completed with error",e);if(D=n,c.cancelled)return v();var i={continuous:U,since:D,style:"all_docs",onChange:g,complete:_,doc_ids:R};r.filter&&(i.filter=r.filter),r.query_params&&(i.query_params=r.query_params);var o=t.changes(i),s=c.cancel;c.cancel=function(){s(),v(),o&&o.cancel instanceof Function&&o.cancel()}})}var w,y=[],k=new Batch,q=[],P=!1,C=!1,b=!1,D=0,U=r.continuous||r.live||!1,O=r.batch_size||1,R=r.doc_ids,S={ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};"undefined"==typeof r.since?m():writeCheckpoint(t,n,e,r.since,function(e){return e?l("writeCheckpoint completed with error",e):(D=r.since,void m())})}function fetchSingleRev(e,t,n,r){e.get(n,{revs:!0,open_revs:r,attachments:!0},t)}function toPouch(e,t){return"string"==typeof e?new Pouch(e,t):void t(null,e)}function replicateWrapper(e,t,n,r){n instanceof Function&&(r=n,n={}),void 0===n&&(n={}),n.complete||(n.complete=r),n=PouchUtils.extend(!0,{},n),n.continuous=n.continuous||n.live;var c=new Promise;return toPouch(e,function(e,i){return e?r(e):void toPouch(t,function(e,t){if(e)return r(e);if(n.server){if("function"!=typeof i.replicateOnServer)return r({error:"Server replication not supported for "+i.type()+"adapter"});if(i.type()!==t.type())return r({error:"Server replication for different adapter types ("+i.type()+" and "+t.type()+") is not supported"});i.replicateOnServer(t,n,c)}else genReplicationId(i,t,n,function(e){replicate(e,i,t,n,c)})})}),c}function sync(e,t,n,r){function c(e,t){return function(n,r){n&&l(),r.direction=t,e(n,r)}}function i(e,t){return t=t||function(){},function(n){return{source:e,change:t(n)}}}function o(e,t,n){return t=PouchUtils.extend(!0,{},t),t.complete=c(t.complete,n),t.onChange=i(e,t.onChange),t.continuous=t.continuous||t.live,t}function s(){return a=replicateWrapper(e,t,o(e,n,"push"),r)}function u(){return f=replicateWrapper(t,e,o(t,n,"pull"),r)}function l(){a&&a.cancel(),f&&f.cancel()}var a,f;return n instanceof Function&&(r=n,n={}),void 0===n&&(n={}),r instanceof Function&&!n.complete&&(n.complete=r),{push:s(),pull:u(),cancel:l}}var PouchUtils=require("./utils"),Pouch=require("./index");exports.replicate=replicateWrapper,exports.sync=sync;
},{"./index":"S6KqvD","./utils":25}],23:[function(require,module,exports){
(function (global){
"use strict";var PouchDB=require("./constructor"),utils=require("./utils"),EventEmitter=require("events").EventEmitter;PouchDB.adapters={},PouchDB.prefix="_pouch_";var eventEmitter=new EventEmitter,eventEmitterMethods=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"],preferredAdapters=["levelalt","idb","leveldb","websql"];eventEmitterMethods.forEach(function(e){PouchDB[e]=eventEmitter[e].bind(eventEmitter)}),PouchDB.setMaxListeners(0),PouchDB.parseAdapter=function(e,t){var r,o,a=e.match(/([a-z\-]*):\/\/(.*)/);if(a){if(e=/http(s?)/.test(a[1])?a[1]+"://"+a[2]:a[2],r=a[1],!PouchDB.adapters[r].valid())throw"Invalid adapter";return{name:e,adapter:a[1]}}var i="idb"in PouchDB.adapters&&"websql"in PouchDB.adapters&&utils.hasLocalStorage()&&global.localStorage["_pouch__websqldb_"+PouchDB.prefix+e];if("undefined"!=typeof t&&t.db)o="leveldb";else for(var n=0;n<preferredAdapters.length;++n)if(o=preferredAdapters[n],o in PouchDB.adapters){if(i&&"idb"===o)continue;break}if(o){r=PouchDB.adapters[o];var s="use_prefix"in r?r.use_prefix:!0;return{name:s?PouchDB.prefix+e:e,adapter:o}}throw"No valid adapter found"},PouchDB.destroy=utils.toPromise(function(e,t,r){("function"==typeof t||"undefined"==typeof t)&&(r=t,t={}),"object"==typeof e&&(t=e,e=void 0);var o=PouchDB.parseAdapter(t.name||e,t),a=o.name;PouchDB.adapters[o.adapter].destroy(a,t,function(e,t){e?r(e):(PouchDB.emit("destroyed",a),PouchDB.emit(a,"destroyed"),r(null,t))})}),PouchDB.allDbs=utils.toPromise(function(e){var t=new Error("allDbs method removed");t.stats="400",e(t)}),PouchDB.adapter=function(e,t){t.valid()&&(PouchDB.adapters[e]=t)},PouchDB.plugin=function(e){Object.keys(e).forEach(function(t){PouchDB.prototype[t]=e[t]})},module.exports=PouchDB;
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./constructor":11,"./utils":25,"events":79}],24:[function(require,module,exports){
"use strict";function TaskQueue(){this.isReady=!1,this.failed=!1,this.queue=[]}module.exports=TaskQueue,TaskQueue.prototype.execute=function(){var e,t;if(this.failed)for(;e=this.queue.shift();)t=e.parameters[e.parameters.length-1],"function"==typeof t?t(this.failed):"changes"===e.name&&"function"==typeof t.complete&&t.complete(this.failed);else if(this.isReady)for(;e=this.queue.shift();)"function"==typeof e?e():e.task=this.db[e.name].apply(this.db,e.parameters)},TaskQueue.prototype.fail=function(e){this.failed=e,this.execute()},TaskQueue.prototype.ready=function(e){return this.failed?!1:0===arguments.length?this.isReady:(this.isReady=e?!0:!1,this.db=e,void this.execute())},TaskQueue.prototype.addTask=function(e,t){if("function"!=typeof e){var i={name:e,parameters:t};return this.queue.push(i),this.failed&&this.execute(),i}this.queue.push(e)};
},{}],25:[function(require,module,exports){
(function (process,global){
function isChromeApp(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}var merge=require("./merge");exports.extend=require("./deps/extend"),exports.ajax=require("./deps/ajax"),exports.createBlob=require("./deps/blob");var uuid=require("./deps/uuid");exports.Crypto=require("./deps/md5.js");var buffer=require("./deps/buffer"),errors=require("./deps/errors"),EventEmitter=require("events").EventEmitter,Promise="function"==typeof global.Promise?global.Promise:require("bluebird"),reservedWords=["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree"];exports.inherits=require("inherits"),exports.uuids=function(e,r){"object"!=typeof r&&(r={});for(var t=r.length,n=r.radix,o=[];o.push(uuid(t,n))<e;);return o},exports.uuid=function(e){return exports.uuids(1,e)[0]},exports.invalidIdError=function(e){return e?"string"!=typeof e?errors.INVALID_ID:/^_/.test(e)&&!/^_(design|local)/.test(e)?errors.RESERVED_ID:void 0:errors.MISSING_ID},exports.getArguments=function(e){return function(){for(var r=arguments.length,t=new Array(r),n=-1;++n<r;)t[n]=arguments[n];return e.call(this,t)}},exports.call=exports.getArguments(function(e){if(e.length){var r=e.shift();"function"==typeof r&&r.apply(this,e)}}),exports.isLocalId=function(e){return/^_local/.test(e)},exports.isDeleted=function(e,r){r||(r=merge.winningRev(e)),r.indexOf("-")>=0&&(r=r.split("-")[1]);var t=!1;return merge.traverseRevTree(e.rev_tree,function(e,n,o,i,s){o===r&&(t=!!s.deleted)}),t},exports.filterChange=function(e){return function(r){var t={},n=e.filter&&"function"==typeof e.filter;if(t.query=e.query_params,e.filter&&n&&!e.filter.call(this,r.doc,t))return!1;if(e.doc_ids&&-1===e.doc_ids.indexOf(r.id))return!1;if(e.include_docs)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0);else delete r.doc;return!0}},exports.processChanges=function(e,r,t){r=r.filter(exports.filterChange(e)),e.limit&&e.limit<r.length&&(r.length=e.limit),r.forEach(function(r){exports.call(e.onChange,r)}),e.continuous||exports.call(e.complete,null,{results:r,last_seq:t})},exports.parseDoc=function(e,r){var t,n,o,i=null,s={status:"available"};if(e._deleted&&(s.deleted=!0),r)if(e._id||(e._id=exports.uuid()),n=exports.uuid({length:32,radix:16}).toLowerCase(),e._rev){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)throw"invalid value for property '_rev'";e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],{status:"missing"},[[n,s,[]]]]}],t=parseInt(o[1],10)+1}else e._rev_tree=[{pos:1,ids:[n,s,[]]}],t=1;else if(e._revisions&&(e._rev_tree=[{pos:e._revisions.start-e._revisions.ids.length+1,ids:e._revisions.ids.reduce(function(e,r){return null===e?[r,s,[]]:[r,{status:"missing"},[e]]},null)}],t=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)return errors.BAD_ARG;t=parseInt(o[1],10),n=o[2],e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],s,[]]}]}i=exports.invalidIdError(e._id);for(var a in e)e.hasOwnProperty(a)&&"_"===a[0]&&-1===reservedWords.indexOf(a)&&(i=exports.extend({},errors.DOC_VALIDATION),i.reason+=": "+a);return e._id=decodeURIComponent(e._id),e._rev=[t,n].join("-"),i?i:Object.keys(e).reduce(function(r,t){return/^_/.test(t)&&"_attachments"!==t?r.metadata[t.slice(1)]=e[t]:r.data[t]=e[t],r},{metadata:{},data:{}})},exports.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},exports.hasLocalStorage=function(){if(isChromeApp())return!1;try{return global.localStorage}catch(e){return!1}},exports.Changes=function(){var e={},r=new EventEmitter,t=isChromeApp(),n={},o=!1;return t||(o=exports.hasLocalStorage()),t?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&r.emit(e.dbName.newValue)}):o&&(global.addEventListener?global.addEventListener("storage",function(e){r.emit(e.key)}):global.attachEvent("storage",function(e){r.emit(e.key)})),e.addListener=function(e,t,o,i){function s(){o.changes({include_docs:i.include_docs,conflicts:i.conflicts,continuous:!1,descending:!1,filter:i.filter,view:i.view,since:i.since,query_params:i.query_params,onChange:function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,exports.call(i.onChange,e))}})}n[t]||(n[t]=s,r.on(e,s))},e.removeListener=function(e,t){t in n&&r.removeListener(e,n[t])},e.clearListeners=function(e){r.removeAllListeners(e)},e.notifyLocalWindows=function(e){t?chrome.storage.local.set({dbName:e}):o&&(localStorage[e]="a"===localStorage[e]?"b":"a")},e.notify=function(e){r.emit(e)},e},exports.atob=process.browser&&"atob"in global?function(e){return atob(e)}:function(e){var r=new buffer(e,"base64");if(r.toString("base64")!==e)throw"Cannot base64 encode full string";return r.toString("binary")},exports.btoa=process.browser&&"btoa"in global?function(e){return btoa(e)}:function(e){return new buffer(e,"binary").toString("base64")},exports.fixBinary=function(e){if(!process.browser)return e;for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),o=0;r>o;o++)n[o]=e.charCodeAt(o);return t},exports.once=function(e){var r=!1;return exports.getArguments(function(t){if(r)throw console.trace(),new Error("once called  more than once");r=!0,e.apply(this,t)})},exports.toPromise=function(e){return exports.getArguments(function(r){var t,n=this,o="function"==typeof r[r.length-1]?r.pop():!1;o&&(t=function(e,r){process.nextTick(function(){o(e,r)})});var i=new Promise(function(t,o){try{var i=exports.once(function(e,r){e?o(e):t(r)});r.push(i),e.apply(n,r)}catch(s){o(s)}});return t&&i.then(function(e){t(null,e)},t),i.cancel=function(){return this},i})},exports.adapterFun=function(e,r){return exports.toPromise(exports.getArguments(function(t){return this.taskqueue.isReady?void r.apply(this,t):void this.taskqueue.addTask(e,t)}))},exports.arrayBufferToBinaryString=function(e){for(var r="",t=new Uint8Array(e),n=t.byteLength,o=0;n>o;o++)r+=String.fromCharCode(t[o]);return r},exports.cancellableFun=function(e,r,t){t=t?exports.extend(!0,{},t):{},t.complete=t.complete||function(){};var n=exports.once(t.complete),o=new Promise(function(e,r){t.complete=function(t,n){t?r(t):e(n)}});return o.then(function(e){n(null,e)},n),o.cancel=function(){o.isCancelled=!0,r.taskqueue.isReady&&t.complete(null,{status:"cancelled"})},r.taskqueue.isReady?(e(r,t,o),o):(r.taskqueue.addTask(function(){o.isCancelled?t.complete(null,{status:"cancelled"}):e(r,t,o)}),o)};
}).call(this,require("/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./deps/ajax":12,"./deps/blob":13,"./deps/buffer":78,"./deps/errors":14,"./deps/extend":16,"./deps/md5.js":17,"./deps/uuid":18,"./merge":21,"/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":80,"bluebird":31,"events":79,"inherits":27}],26:[function(require,module,exports){
module.exports=require("../package.json").version;
},{"../package.json":56}],27:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],28:[function(require,module,exports){
'use strict';

module.exports = INTERNAL;

function INTERNAL() {}
},{}],29:[function(require,module,exports){
'use strict';
var INTERNAL = require('./INTERNAL');
var Promise = require('./promise');
var reject = require('./reject');
var resolve = require('./resolve');

module.exports = function all(iterable) {
  if (Object.prototype.toString.call(iterable) !== '[object Array]') {
    return reject(new TypeError('must be an array'));
  }
  var len = iterable.length;
  if (!len) {
    return resolve([]);
  }
  var values = [];
  var resolved = 0;
  var i = -1;
  var promise = new Promise(INTERNAL);
  function allResolver(value, i) {
    resolve(value).then(function (outValue) {
      values[i] = outValue;
      if (++resolved === len) {
        promise.resolve(values);
      }
    }, function (error) {
      promise.reject(error);
    });
  }
  
  while (++i < len) {
    allResolver(iterable[i], i);
  }
  return promise;
};
},{"./INTERNAL":28,"./promise":33,"./reject":34,"./resolve":35}],30:[function(require,module,exports){
'use strict';

module.exports = getThen;

function getThen(obj) {
  // Make sure we only access the accessor once as required by the spec
  var then = obj && obj.then;
  if (obj && typeof obj === 'object' && typeof then === 'function') {
    return function appyThen() {
      then.apply(obj, arguments);
    };
  }
}
},{}],31:[function(require,module,exports){
module.exports = exports = require('./promise');

exports.resolve = require('./resolve');
exports.reject = require('./reject');
exports.all = require('./all');
},{"./all":29,"./promise":33,"./reject":34,"./resolve":35}],32:[function(require,module,exports){
'use strict';

module.exports = once;

/* Wrap an arbitrary number of functions and allow only one of them to be
   executed and only once */
function once() {
  var called = 0;
  return function wrapper(wrappedFunction) {
    return function () {
      if (called++) {
        return;
      }
      wrappedFunction.apply(this, arguments);
    };
  };
}
},{}],33:[function(require,module,exports){
'use strict';

var unwrap = require('./unwrap');
var INTERNAL = require('./INTERNAL');
var once = require('./once');
var tryCatch = require('./tryCatch');
var getThen = require('./getThen');

// Lazy man's symbols for states
var PENDING = ['PENDING'],
  FULFILLED = ['FULFILLED'],
  REJECTED = ['REJECTED'];
module.exports = Promise;
function Promise(resolver) {
  if (!(this instanceof Promise)) {
    return new Promise(resolver);
  }
  if (typeof resolver !== 'function') {
    throw new TypeError('reslover must be a function');
  }
  this.state = PENDING;
  this.queue = [];
  if (resolver !== INTERNAL) {
    safelyResolveThenable(this, resolver);
  }
}
Promise.prototype.resolve = function (value) {
  var result = tryCatch(getThen, value);
  if (result.status === 'error') {
    return this.reject(result.value);
  }
  var thenable = result.value;

  if (thenable) {
    safelyResolveThenable(this, thenable);
  } else {
    this.state = FULFILLED;
    this.outcome = value;
    var i = -1;
    var len = this.queue.length;
    while (++i < len) {
      this.queue[i].callFulfilled(value);
    }
  }
  return this;
};
Promise.prototype.reject = function (error) {
  this.state = REJECTED;
  this.outcome = error;
  var i = -1;
  var len = this.queue.length;
  while (++i < len) {
    this.queue[i].callRejected(error);
  }
  return this;
};

Promise.prototype['catch'] = function (onRejected) {
  return this.then(null, onRejected);
};
Promise.prototype.then = function (onFulfilled, onRejected) {
  var onFulfilledFunc = typeof onFulfilled === 'function';
  var onRejectedFunc = typeof onRejected === 'function';
  if (!onFulfilledFunc && this.state === FULFILLED || !onRejected && this.state === REJECTED) {
    return this;
  }
  var promise = new Promise(INTERNAL);

  var thenHandler =  {
    promise: promise,
  };
  if (this.state !== REJECTED) {
    if (onFulfilledFunc) {
      thenHandler.callFulfilled = function (value) {
        unwrap(promise, onFulfilled, value);
      };
    } else {
      thenHandler.callFulfilled = function (value) {
        promise.resolve(value);
      };
    }
  }
  if (this.state !== FULFILLED) {
    if (onRejectedFunc) {
      thenHandler.callRejected = function (value) {
        unwrap(promise, onRejected, value);
      };
    } else {
      thenHandler.callRejected = function (value) {
        promise.reject(value);
      };
    }
  }
  if (this.state === FULFILLED) {
    thenHandler.callFulfilled(this.outcome);
  } else if (this.state === REJECTED) {
    thenHandler.callRejected(this.outcome);
  } else {
    this.queue.push(thenHandler);
  }

  return promise;
};
function safelyResolveThenable(self, thenable) {
  // Either fulfill, reject or reject with error
  var onceWrapper = once();
  var onError = onceWrapper(function (value) {
    return self.reject(value);
  });
  var result = tryCatch(function () {
    thenable(
      onceWrapper(function (value) {
        return self.resolve(value);
      }),
      onError
    );
  });
  if (result.status === 'error') {
    onError(result.value);
  }
}
},{"./INTERNAL":28,"./getThen":30,"./once":32,"./tryCatch":36,"./unwrap":37}],34:[function(require,module,exports){
'use strict';

var Promise = require('./promise');
var INTERNAL = require('./INTERNAL');

module.exports = reject;

function reject(reason) {
	var promise = new Promise(INTERNAL);
	return promise.reject(reason);
}
},{"./INTERNAL":28,"./promise":33}],35:[function(require,module,exports){
'use strict';

var Promise = require('./promise');
var INTERNAL = require('./INTERNAL');

module.exports = resolve;

var FALSE = new Promise(INTERNAL).resolve(false);
var NULL = new Promise(INTERNAL).resolve(null);
var UNDEFINED = new Promise(INTERNAL).resolve(void 0);
var ZERO = new Promise(INTERNAL).resolve(0);
var EMPTYSTRING = new Promise(INTERNAL).resolve('');

function resolve(value) {
  if (value) {
    return new Promise(INTERNAL).resolve(value);
  }
  var valueType = typeof value;
  switch (valueType) {
    case 'boolean':
      return FALSE;
    case 'undefined':
      return UNDEFINED;
    case 'object':
      return NULL;
    case 'number':
      return ZERO;
    case 'string':
      return EMPTYSTRING;
  }
}
},{"./INTERNAL":28,"./promise":33}],36:[function(require,module,exports){
'use strict';

module.exports = tryCatch;

function tryCatch(func, value) {
  var out = {};
  try {
    out.value = func(value);
    out.status = 'success';
  } catch (e) {
    out.status = 'error';
    out.value = e;
  }
  return out;
}
},{}],37:[function(require,module,exports){
'use strict';

var immediate = require('immediate');

module.exports = unwrap;

function unwrap(promise, func, value) {
  immediate(function () {
    var returnValue;
    try {
      returnValue = func(value);
    } catch (e) {
      return promise.reject(e);
    }
    if (returnValue === promise) {
      promise.reject(new TypeError('Cannot resolve promise with itself'));
    } else {
      promise.resolve(returnValue);
    }
  });
}
},{"immediate":39}],38:[function(require,module,exports){
'use strict';
exports.test = function () {
  return false;
};
},{}],39:[function(require,module,exports){
'use strict';
var types = [
  require('./nextTick'),
  require('./mutation'),
  require('./postMessage'),
  require('./messageChannel'),
  require('./stateChange'),
  require('./timeout')
];
var handlerQueue = [];
function drainQueue() {
  var i = 0,
  task,
  innerQueue = handlerQueue;
  handlerQueue = [];
  while ((task = innerQueue[i++])) {
    task();
  }
}
var nextTick;
var i = -1;
var len = types.length;
while (++ i < len) {
  if (types[i].test()) {
    nextTick = types[i].install(drainQueue);
    break;
  }
}
module.exports = function (task) {
  var len, i, args;
  var nTask = task;
  if (arguments.length > 1 && typeof task === 'function') {
    args = new Array(arguments.length - 1);
    i = 0;
    while (++i < arguments.length) {
      args[i - 1] = arguments[i];
    }
    nTask = function () {
      task.apply(undefined, args);
    };
  }
  if ((len = handlerQueue.push(nTask)) === 1) {
    nextTick(drainQueue);
  }
  return len;
};
module.exports.clear = function (n) {
  if (n <= handlerQueue.length) {
    handlerQueue[n - 1] = function () {};
  }
  return this;
};

},{"./messageChannel":40,"./mutation":41,"./nextTick":38,"./postMessage":42,"./stateChange":43,"./timeout":44}],40:[function(require,module,exports){
(function (global){
'use strict';

exports.test = function () {
  return typeof global.MessageChannel !== 'undefined';
};

exports.install = function (func) {
  var channel = new global.MessageChannel();
  channel.port1.onmessage = func;
  return function () {
    channel.port2.postMessage(0);
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],41:[function(require,module,exports){
(function (global){
'use strict';
//based off rsvp https://github.com/tildeio/rsvp.js
//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE
//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js

var Mutation = global.MutationObserver || global.WebKitMutationObserver;

exports.test = function () {
  return Mutation;
};

exports.install = function (handle) {
  var called = 0;
  var observer = new Mutation(handle);
  var element = global.document.createTextNode('');
  observer.observe(element, {
    characterData: true
  });
  return function () {
    element.data = (called = ++called % 2);
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],42:[function(require,module,exports){
(function (global){
'use strict';
// The test against `importScripts` prevents this implementation from being installed inside a web worker,
// where `global.postMessage` means something completely different and can't be used for this purpose.

exports.test = function () {
  if (!global.postMessage || global.importScripts) {
    return false;
  }

  var postMessageIsAsynchronous = true;
  var oldOnMessage = global.onmessage;
  global.onmessage = function () {
    postMessageIsAsynchronous = false;
  };
  global.postMessage('', '*');
  global.onmessage = oldOnMessage;

  return postMessageIsAsynchronous;
};

exports.install = function (func) {
  var codeWord = 'com.calvinmetcalf.setImmediate' + Math.random();
  function globalMessage(event) {
    if (event.source === global && event.data === codeWord) {
      func();
    }
  }
  if (global.addEventListener) {
    global.addEventListener('message', globalMessage, false);
  } else {
    global.attachEvent('onmessage', globalMessage);
  }
  return function () {
    global.postMessage(codeWord, '*');
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],43:[function(require,module,exports){
(function (global){
'use strict';

exports.test = function () {
  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');
};

exports.install = function (handle) {
  return function () {

    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
    var scriptEl = global.document.createElement('script');
    scriptEl.onreadystatechange = function () {
      handle();

      scriptEl.onreadystatechange = null;
      scriptEl.parentNode.removeChild(scriptEl);
      scriptEl = null;
    };
    global.document.documentElement.appendChild(scriptEl);

    return handle;
  };
};
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],44:[function(require,module,exports){
'use strict';
exports.test = function () {
  return true;
};

exports.install = function (t) {
  return function () {
    setTimeout(t, 0);
  };
};
},{}],45:[function(require,module,exports){
'use strict';

module.exports = function (func, emit, sum, log, isArray, toJSON) {
  /*jshint evil: true */
  return eval("'use strict'; (" + func + ");");
};

},{}],46:[function(require,module,exports){
(function (process,global){
'use strict';

var pouchCollate = require('pouchdb-collate');
var Promise = typeof global.Promise === 'function' ? global.Promise : require('lie');
var collate = pouchCollate.collate;
var evalFunc = require('./evalfunc');
var log = (typeof console !== 'undefined') ?
  Function.prototype.bind.call(console.log, console) : function () {};
var processKey = function (key) {
  // Stringify keys since we want them as map keys (see #35)
  return JSON.stringify(pouchCollate.normalizeKey(key));
};
// This is the first implementation of a basic plugin, we register the
// plugin object with pouch and it is mixin'd to each database created
// (regardless of adapter), adapters can override plugins by providing
// their own implementation. functions on the plugin object that start
// with _ are reserved function that are called by pouchdb for special
// notifications.

// If we wanted to store incremental views we can do it here by listening
// to the changes feed (keeping track of our last update_seq between page loads)
// and storing the result of the map function (possibly using the upcoming
// extracted adapter functions)


function createKeysLookup(keys) {
  // creates a lookup map for the given keys, so that doing
  // query() with keys doesn't become an O(n * m) operation
  // lookup values are typically integer indexes, but may
  // map to a list of integers, since keys can be duplicated
  var lookup = {};

  for (var i = 0, len = keys.length; i < len; i++) {
    var key = processKey(keys[i]);
    var val = lookup[key];
    if (typeof val === 'undefined') {
      lookup[key] = i;
    } else if (typeof val === 'number') {
      lookup[key] = [val, i];
    } else { // array
      val.push(i);
    }
  }

  return lookup;
}

function sortByIdAndValue(a, b) {
  // sort by id, then value
  var idCompare = collate(a.id, b.id);
  return idCompare !== 0 ? idCompare : collate(a.value, b.value);
}
function addAtIndex(idx, result, prelimResults) {
  var val = prelimResults[idx];
  if (typeof val === 'undefined') {
    prelimResults[idx] = result;
  } else if (!Array.isArray(val)) {
    // same key for multiple docs, need to preserve document order, so create array
    prelimResults[idx] = [val, result];
  } else { // existing array
    val.push(result);
  }
}

function sum(values) {
  return values.reduce(function (a, b) {
    return a + b;
  }, 0);
}

var builtInReduce = {
  "_sum": function (keys, values) {
    return sum(values);
  },

  "_count": function (keys, values, rereduce) {
    return values.length;
  },

  "_stats": function (keys, values) {
    return {
      'sum': sum(values),
      'min': Math.min.apply(null, values),
      'max': Math.max.apply(null, values),
      'count': values.length,
      'sumsqr': (function () {
        var _sumsqr = 0;
        var error;
        for (var idx in values) {
          if (typeof values[idx] === 'number') {
            _sumsqr += values[idx] * values[idx];
          } else {
            error =  new Error('builtin _stats function requires map values to be numbers');
            error.name = 'invalid_value';
            error.status = 500;
            return error;
          }
        }
        return _sumsqr;
      })()
    };
  }
};

function addHttpParam(paramName, opts, params, asJson) {
  // add an http param from opts to params, optionally json-encoded
  var val = opts[paramName];
  if (typeof val !== 'undefined') {
    if (asJson) {
      val = encodeURIComponent(JSON.stringify(val));
    }
    params.push(paramName + '=' + val);
  }
}

function mapUsingKeys(inputResults, keys, keysLookup) {
  // create a new results array from the given array,
  // ensuring that the following conditions are respected:
  // 1. docs are ordered by key, then doc id
  // 2. docs can appear >1 time in the list, if their key is specified >1 time
  // 3. keys can be unknown, in which case there's just a hole in the returned array

  var prelimResults = new Array(keys.length);

  inputResults.forEach(function (result) {
    var idx = keysLookup[processKey(result.key)];
    if (typeof idx === 'number') {
      addAtIndex(idx, result, prelimResults);
    } else { // array of indices
      idx.forEach(function (subIdx) {
        addAtIndex(subIdx, result, prelimResults);
      });
    }
  });

  // flatten the array, remove nulls, sort by doc ids
  var outputResults = [];
  prelimResults.forEach(function (result) {
    if (Array.isArray(result)) {
      outputResults = outputResults.concat(result.sort(sortByIdAndValue));
    } else { // single result
      outputResults.push(result);
    }
  });

  return outputResults;
}

function viewQuery(db, fun, options) {
  var origMap;
  if (!options.skip) {
    options.skip = 0;
  }

  if (!fun.reduce) {
    options.reduce = false;
  }

  var results = [];
  var current;
  var num_started = 0;
  var completed = false;
  var keysLookup;

  function emit(key, val) {
    var viewRow = {
      id: current.doc._id,
      key: key,
      value: val
    };

    if (typeof options.startkey !== 'undefined' && collate(key, options.startkey) < 0) {
      return;
    }
    if (typeof options.endkey !== 'undefined' && collate(key, options.endkey) > 0) {
      return;
    }
    if (typeof options.key !== 'undefined' && collate(key, options.key) !== 0) {
      return;
    }
    if (typeof options.keys !== 'undefined') {
      keysLookup = keysLookup || createKeysLookup(options.keys);
      if (typeof keysLookup[processKey(key)] === 'undefined') {
        return;
      }
    }

    num_started++;
    if (options.include_docs) {
      //in this special case, join on _id (issue #106)
      if (val && typeof val === 'object' && val._id) {
        db.get(val._id,
          function (_, joined_doc) {
            if (joined_doc) {
              viewRow.doc = joined_doc;
            }
            results.push(viewRow);
            checkComplete();
          });
        return;
      } else {
        viewRow.doc = current.doc;
      }
    }
    results.push(viewRow);
  }
  if (typeof fun.map === "function" && fun.map.length === 2) {
    //save a reference to it
    origMap = fun.map;
    fun.map = function (doc) {
      //call it with the emit as the second argument
      return origMap(doc, emit);
    };
  } else {
    // ugly way to make sure references to 'emit' in map/reduce bind to the
    // above emit
    fun.map = evalFunc(fun.map.toString(), emit, sum, log, Array.isArray, JSON.parse);
  }
  if (fun.reduce) {
    if (builtInReduce[fun.reduce]) {
      fun.reduce = builtInReduce[fun.reduce];
    } else {
      fun.reduce = evalFunc(fun.reduce.toString(), emit, sum, log, Array.isArray, JSON.parse);
    }
  }

  //only proceed once all documents are mapped and joined
  function checkComplete() {
    var error;
    if (completed && results.length === num_started) {

      if (typeof options.keys !== 'undefined' && results.length) {
        // user supplied a keys param, sort by keys
        results = mapUsingKeys(results, options.keys, keysLookup);
      } else { // normal sorting
        results.sort(function (a, b) {
          // sort by key, then id
          var keyCollate = collate(a.key, b.key);
          return keyCollate !== 0 ? keyCollate : collate(a.id, b.id);
        });
      }
      if (options.descending) {
        results.reverse();
      }
      if (options.reduce === false) {
        return options.complete(null, {
          total_rows: results.length,
          offset: options.skip,
          rows: ('limit' in options) ? results.slice(options.skip, options.limit + options.skip) :
            (options.skip > 0) ? results.slice(options.skip) : results
        });
      }

      var groups = [];
      results.forEach(function (e) {
        var last = groups[groups.length - 1];
        if (last && collate(last.key[0][0], e.key) === 0) {
          last.key.push([e.key, e.id]);
          last.value.push(e.value);
          return;
        }
        groups.push({key: [
          [e.key, e.id]
        ], value: [e.value]});
      });
      groups.forEach(function (e) {
        e.value = fun.reduce.call(null, e.key, e.value);
        if (e.value.sumsqr && e.value.sumsqr instanceof Error) {
          error = e.value;
          return;
        }
        e.key = e.key[0][0];
      });
      if (error) {
        options.complete(error);
        return;
      }
      options.complete(null, {
        total_rows: groups.length,
        offset: options.skip,
        rows: ('limit' in options) ? groups.slice(options.skip, options.limit + options.skip) :
          (options.skip > 0) ? groups.slice(options.skip) : groups
      });
    }
  }

  db.changes({
    conflicts: true,
    include_docs: true,
    onChange: function (doc) {
      if (!('deleted' in doc) && doc.id[0] !== "_") {
        current = {doc: doc.doc};
        fun.map.call(null, doc.doc);
      }
    },
    complete: function () {
      completed = true;
      checkComplete();
    }
  });
}

function httpQuery(db, fun, opts) {
  var callback = opts.complete;

  // List of parameters to add to the PUT request
  var params = [];
  var body;
  var method = 'GET';

  // If opts.reduce exists and is defined, then add it to the list
  // of parameters.
  // If reduce=false then the results are that of only the map function
  // not the final result of map and reduce.
  addHttpParam('reduce', opts, params);
  addHttpParam('include_docs', opts, params);
  addHttpParam('limit', opts, params);
  addHttpParam('descending', opts, params);
  addHttpParam('group', opts, params);
  addHttpParam('group_level', opts, params);
  addHttpParam('skip', opts, params);
  addHttpParam('startkey', opts, params, true);
  addHttpParam('endkey', opts, params, true);
  addHttpParam('key', opts, params, true);

  // If keys are supplied, issue a POST request to circumvent GET query string limits
  // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options
  if (typeof opts.keys !== 'undefined') {
    method = 'POST';
    if (typeof fun === 'string') {
      body = JSON.stringify({keys: opts.keys});
    } else { // fun is {map : mapfun}, so append to this
      fun.keys = opts.keys;
    }
  }

  // Format the list of parameters into a valid URI query string
  params = params.join('&');
  params = params === '' ? '' : '?' + params;

  // We are referencing a query defined in the design doc
  if (typeof fun === 'string') {
    var parts = fun.split('/');
    db.request({
      method: method,
      url: '_design/' + parts[0] + '/_view/' + parts[1] + params,
      body: body
    }, callback);
    return;
  }

  // We are using a temporary view, terrible for performance but good for testing
  var queryObject = JSON.parse(JSON.stringify(fun, function (key, val) {
    if (typeof val === 'function') {
      return val + ''; // implicitly `toString` it
    }
    return val;
  }));

  db.request({
    method: 'POST',
    url: '_temp_view' + params,
    body: queryObject
  }, callback);
}

exports.query = function (fun, opts, callback) {
  var db = this;
  if (typeof opts === 'function') {
    callback = opts;
    opts = {};
  }
  opts = opts || {};
  if (callback) {
    opts.complete = callback;
  }
  var tempCB = opts.complete;
  var realCB;
  if (opts.complete) {
    realCB = function (err, resp) {
      process.nextTick(function () {
        tempCB(err, resp);
      });
    };
  } 
  var promise = new Promise(function (resolve, reject) {
    opts.complete = function (err, data) {
      if (err) {
        reject(err);
      } else {
        resolve(data);
      }
    };

    if (db.type() === 'http') {
      if (typeof fun === 'function') {
        return httpQuery(db, {map: fun}, opts);
      }
      return httpQuery(db, fun, opts);
    }

    if (typeof fun === 'object') {
      return viewQuery(db, fun, opts);
    }

    if (typeof fun === 'function') {
      return viewQuery(db, {map: fun}, opts);
    }

    var parts = fun.split('/');
    db.get('_design/' + parts[0], function (err, doc) {
      if (err) {
        opts.complete(err);
        return;
      }

      if (!doc.views[parts[1]]) {
        opts.complete({ name: 'not_found', message: 'missing_named_view' });
        return;
      }
      viewQuery(db, {
        map: doc.views[parts[1]].map,
        reduce: doc.views[parts[1]].reduce
      }, opts);
    });
  });
  if (realCB) {
    promise.then(function (resp) {
      realCB(null, resp);
    }, realCB);
  }
  return promise;
};

}).call(this,require("/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./evalfunc":45,"/home/mike/Projects/npm/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":80,"lie":47,"pouchdb-collate":55}],47:[function(require,module,exports){
'use strict';

var immediate = require('immediate');
var isDefineProp = false;
// prevents deoptimization
(function(){
    try {
        Object.defineProperty({}, 'test', {value:true});
        isDefineProp = true;
    }catch(e){}
}());
function defineNonEnum(obj, name, value){
    if(isDefineProp){
         Object.defineProperty(obj, name, {
            value: value,
            configurable: true,
            writable: true
        });
    }else{
        obj[name] = value;
    }
}
function Promise(resolver) {

     if (!(this instanceof Promise)) {
        return new Promise(resolver);
    }

    defineNonEnum(this, 'successQueue', []);
    defineNonEnum(this, 'failureQueue', []);
    defineNonEnum(this, 'resolved', false);

  
    if(typeof resolver === 'function'){
        this.resolvePassed(resolver);
    }
}
defineNonEnum(Promise.prototype, 'resolvePassed', function(resolver){
    try{
        resolver(this.fulfillUnwrap.bind(this),this.reject.bind(this));
    }catch(e){
        this.reject(e);
    }
});
defineNonEnum(Promise.prototype, 'reject', function(reason){
    this.resolve(false,reason);
});
defineNonEnum(Promise.prototype, 'fulfill', function(value){
    this.resolve(true,value);
});
defineNonEnum(Promise.prototype, 'fulfillUnwrap', function(value){
    unwrap(this.fulfill.bind(this), this.reject.bind(this), value);
});
Promise.prototype.then = function(onFulfilled, onRejected) {
    if(this.resolved){
        return this.resolved(onFulfilled, onRejected);
    } else {
        return this.pending(onFulfilled, onRejected);
    }
};
(function(){
    try {
        Promise.prototype['catch'] = function(onRejected) {
            return this.then(null, onRejected);
        };
    } catch(e){}
}());
defineNonEnum(Promise.prototype, 'pending', function(onFulfilled, onRejected){
    var self = this;
    return new Promise(function(success,failure){
        if(typeof onFulfilled === 'function'){
            self.successQueue.push({
                resolve: success,
                reject: failure,
                callback:onFulfilled
            });
        }else{
            self.successQueue.push({
                next: success,
                callback:false
            });
        }

        if(typeof onRejected === 'function'){
            self.failureQueue.push({
                resolve: success,
                reject: failure,
                callback:onRejected
            });
        }else{
            self.failureQueue.push({
                next: failure,
                callback:false
            });
        }
    });
});
defineNonEnum(Promise.prototype, 'resolve', function (success, value){

    if(this.resolved){
        return;
    }

    this.resolved = createResolved(this, value, success?0:1);

    var queue = success ? this.successQueue : this.failureQueue;
    var len = queue.length;
    var i = -1;
    while(++i < len) {

        if (queue[i].callback) {
            immediate(execute,queue[i].callback, value, queue[i].resolve, queue[i].reject);
        }else {
            queue[i].next(value);
        }
    }
});

function unwrap(fulfill, reject, value){
    if(value && typeof value.then==='function'){
        value.then(fulfill,reject);
    }else{
        fulfill(value);
    }
}

function createResolved(scope, value, whichArg) {
    function resolved() {
        var callback = arguments[whichArg];
        if (typeof callback !== 'function') {
            return scope;
        }else{
            return new Promise(function(resolve,reject){
                immediate(execute,callback,value,resolve,reject);
            });
        }
    }
    return resolved;
}

function execute(callback, value, resolve, reject) {
    try {
        unwrap(resolve,reject,callback(value));
    } catch (error) {
        reject(error);
    }
}



module.exports = Promise;

},{"immediate":49}],48:[function(require,module,exports){
module.exports=require(38)
},{}],49:[function(require,module,exports){
module.exports=require(39)
},{"./messageChannel":50,"./mutation":51,"./nextTick":48,"./postMessage":52,"./stateChange":53,"./timeout":54}],50:[function(require,module,exports){
module.exports=require(40)
},{}],51:[function(require,module,exports){
module.exports=require(41)
},{}],52:[function(require,module,exports){
module.exports=require(42)
},{}],53:[function(require,module,exports){
module.exports=require(43)
},{}],54:[function(require,module,exports){
module.exports=require(44)
},{}],55:[function(require,module,exports){
'use strict';

exports.collate = function (a, b) {
  a = exports.normalizeKey(a);
  b = exports.normalizeKey(b);
  var ai = collationIndex(a);
  var bi = collationIndex(b);
  if ((ai - bi) !== 0) {
    return ai - bi;
  }
  if (a === null) {
    return 0;
  }
  if (typeof a === 'number') {
    return a - b;
  }
  if (typeof a === 'boolean') {
    return a === b ? 0 : (a < b ? -1 : 1);
  }
  if (typeof a === 'string') {
    return stringCollate(a, b);
  }
  if (Array.isArray(a)) {
    return arrayCollate(a, b);
  }
  if (typeof a === 'object') {
    return objectCollate(a, b);
  }
}

// couch considers null/NaN/Infinity/-Infinity === undefined,
// for the purposes of mapreduce indexes. also, dates get stringified.
exports.normalizeKey = function (key) {
  if (typeof key === 'undefined') {
    return null;
  } else if (typeof key === 'number') {
    if (key === Infinity || key === -Infinity || isNaN(key)) {
      return null;
    }
  } else if (key instanceof Date) {
    return key.toJSON();
  }
  return key;
}

function arrayCollate(a, b) {
  var len = Math.min(a.length, b.length);
  for (var i = 0; i < len; i++) {
    var sort = exports.collate(a[i], b[i]);
    if (sort !== 0) {
      return sort;
    }
  }
  return (a.length === b.length) ? 0 :
    (a.length > b.length) ? 1 : -1;
}
function stringCollate(a, b) {
  // See: https://github.com/daleharvey/pouchdb/issues/40
  // This is incompatible with the CouchDB implementation, but its the
  // best we can do for now
  return (a === b) ? 0 : ((a > b) ? 1 : -1);
}
function objectCollate(a, b) {
  var ak = Object.keys(a), bk = Object.keys(b);
  var len = Math.min(ak.length, bk.length);
  for (var i = 0; i < len; i++) {
    // First sort the keys
    var sort = exports.collate(ak[i], bk[i]);
    if (sort !== 0) {
      return sort;
    }
    // if the keys are equal sort the values
    sort = exports.collate(a[ak[i]], b[bk[i]]);
    if (sort !== 0) {
      return sort;
    }

  }
  return (ak.length === bk.length) ? 0 :
    (ak.length > bk.length) ? 1 : -1;
}
// The collation is defined by erlangs ordered terms
// the atoms null, true, false come first, then numbers, strings,
// arrays, then objects
// null/undefined/NaN/Infinity/-Infinity are all considered null
function collationIndex(x) {
  var id = ['boolean', 'number', 'string', 'object'];
  if (id.indexOf(typeof x) !== -1) {
    if (x === null) {
      return 1;
    }
    return id.indexOf(typeof x) + 2;
  }
  if (Array.isArray(x)) {
    return 4.5;
  }
}

},{}],56:[function(require,module,exports){
module.exports={
  "name": "pouchdb",
  "version": "2.1.2",
  "description": "PouchDB is a pocket-sized database.",
  "release": "nightly",
  "main": "./lib/index.js",
  "homepage": "https://github.com/daleharvey/pouchdb",
  "repository": {
    "type": "git",
    "url": "https://github.com/daleharvey/pouchdb"
  },
  "keywords": [
    "db",
    "couchdb",
    "pouchdb"
  ],
  "tags": [
    "db",
    "couchdb",
    "pouchdb"
  ],
  "dependencies": {
    "bluebird": "~1.0.0",
    "inherits": "~2.0.1",
    "level-js": "~2.0.0",
    "level-sublevel": "~5.2.0",
    "leveldown": "~0.10.2",
    "levelup": "~0.18.2",
    "lie": "^2.6.0",
    "pouchdb-mapreduce": "1.0.0",
    "request": "~2.28.0"
  },
  "devDependencies": {
    "commander": "~2.1.0",
    "watchify": "~0.4.1",
    "uglify-js": "~2.4.6",
    "jshint": "~2.3.0",
    "http-proxy": "~0.10.3",
    "corsproxy": "~0.2.13",
    "http-server": "~0.5.5",
    "browserify": "~3.24.13",
    "wd": "~0.2.8",
    "tin": "~0.4.0",
    "mocha": "~1.17.1",
    "chai": "~1.9.0",
    "istanbul": "~0.2.4",
    "ncp": "~0.5.0",
    "sauce-connect-launcher": "0.2.2",
    "less": "~1.7.0",
    "bower": "~1.2.8"
  },
  "scripts": {
    "jshint": "jshint -c .jshintrc bin/ lib/ tests/*.js",
    "build-js": "browserify . -s PouchDB > dist/pouchdb-nightly.js",
    "min": "uglifyjs dist/pouchdb-nightly.js -mc > dist/pouchdb-nightly.min.js",
    "build": "mkdir -p dist && npm run build-js && npm run min",
    "test-node": "./bin/run-mocha.sh",
    "test-browser": "mkdir -p dist && npm run build-js && ./bin/test-browser.js",
    "dev": "./bin/dev-server.js",
    "test": "npm run jshint && ./bin/run-test.sh",
    "publish": "./bin/publish.sh",
    "publish-site": "./bin/publish-site.sh",
    "build-site": "./bin/build-site.sh",
    "shell": "./bin/repl.js",
    "report-coverage": "./bin/run-coverage.js"
  },
  "browser": {
    "./deps/buffer": false,
    "request": false,
    "level-sublevel": false,
    "levelup": false,
    "crypto": false,
    "./adapters/leveldb": false,
    "./adapters/levelalt": false,
    "bluebird": "lie"
  },
  "readme": "[PouchDB](http://pouchdb.com/) - The Javascript Database that Syncs\n==================================================\n\nPouchDB was written to help web developers build applications that work as well offline as well as they do online, applications save data locally so the user can use all the features of an app even while offline and synchronise the data between clients so they have up to date data wherever they go.\n\nPouchDB is a free open source project, written in Javascript by these [wonderful contributors](https://github.com/daleharvey/pouchdb/graphs/contributors) and inspired by <a href=\"http://couchdb.apache.org/\">Apache CouchDB</a>.\n\nUsing PouchDB\n-------------\n\nTo get started using PouchDB check out our [Documentation](http://pouchdb.com/learn.html) and the [API Documentation](http://pouchdb.com/api.html).\n\n\nContributors\n------------\nIf you want to get involved then check out the [contributing guide](https://github.com/daleharvey/pouchdb/blob/master/CONTRIBUTING.md)\n\nExample\n-------\n\n```javascript\nvar db = new PouchDB('dbname');\n\ndb.put({\n _id: 'dave@gmail.com',\n name: 'David',\n age: 66\n});\n\ndb.changes({\n  onChange: function() {\n    console.log('Ch-Ch-Changes');\n  }\n});\n\ndb.replicate.to('http://example.com/mydb');\n```\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/daleharvey/pouchdb/issues"
  },
  "_id": "pouchdb@2.1.2",
  "dist": {
    "shasum": "0100a2171bf31b853ecfd08cf405d108ce09472b"
  },
  "_from": "pouchdb@*",
  "_resolved": "https://registry.npmjs.org/pouchdb/-/pouchdb-2.1.2.tgz"
}

},{}],"ZAm/jY":[function(require,module,exports){
module.exports=require("ractive/build/ractive.runtime");
},{"ractive/build/ractive.runtime":59}],"ractify":[function(require,module,exports){
module.exports=require('ZAm/jY');
},{}],59:[function(require,module,exports){
!function(t){"use strict";var e=t.Ractive,n=void 0,i=function(){var t,e;return t={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,noCssTransform:!1,adapt:[],sanitize:!1,stripComments:!0,isolated:!1,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null},e={keys:Object.keys(t),defaults:t}}(n),r=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),o={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},s=function(t,e){return t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(r,o),a="object"==typeof document,u=function(t){try{return Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(e){return function(t,e,n){t[e]=n.value}}}(a),h=function(t,e,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}return n&&Object.defineProperties(t("div"),{test:{value:0}}),Object.defineProperties}catch(i){return function(t,n){var i;for(i in n)n.hasOwnProperty(i)&&e(t,i,n[i])}}}(s,u,a),c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=function(t){return function(e,n,i){var r;if("string"!=typeof n||!t(i))throw new Error("Bad arguments");if(r=+e.get(n)||0,!t(r))throw new Error("Cannot add to a non-numeric value");return e.set(n,r+i)}}(c),p=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(f),d=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},l=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,r,o){var s;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof i)e.then(r,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)r(e);else{try{s=e.then}catch(a){return void o(a)}if("function"==typeof s){var u,h,c;h=function(e){u||(u=!0,n(t,e,r,o))},c=function(t){u||(u=!0,o(t))};try{s.call(e,h,c)}catch(a){if(!u)return o(a),void(u=!0)}}else r(e)}}var i,r={},o={},s={};return i=function(a){var u,h,c,f,p,d,l=[],g=[],v=r;return c=function(n){return function(i){v===r&&(u=i,v=n,h=e(v===o?l:g,u),t(h))}},f=c(o),p=c(s),a(f,p),d={then:function(e,o){var s=new i(function(i,a){var u=function(t,e,r){e.push("function"==typeof t?function(e){var r;try{r=t(e),n(s,r,i,a)}catch(o){a(o)}}:r)};u(e,l,i),u(o,g,a),v!==r&&t(h)});return s}},d["catch"]=function(t){return this.then(null,t)},d},i.all=function(t){return new i(function(e,n){var i,r,o,s=[];if(!t.length)return void e(s);for(o=function(r){t[r].then(function(t){s[r]=t,--i||e(s)},n)},i=r=t.length;r--;)o(r)})},i.resolve=function(t){return new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i}(),g=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),v=["o","ms","moz","webkit"],m=function(t){return"undefined"!=typeof window?(function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,o;return n=Date.now(),i=Math.max(0,16-(n-e)),o=r(function(){t(n+i)},i),e=n+i,o})}}(t,0,window),window.requestAnimationFrame):void 0}(v),y=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),w=[],b=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},_=function(t,e,n){var i,r,o,s,a,u="/* Ractive.js component styles */\n",h={},c=[];if(e)return t.push(function(){i=t.runloop}),r=document.createElement("style"),r.type="text/css",o=document.getElementsByTagName("head")[0],a=!1,s=r.styleSheet,{add:function(t){t.css&&(h[t._guid]||(h[t._guid]=0,c.push(t.css),i.scheduleCssUpdate()),h[t._guid]+=1)},remove:function(t){t.css&&(h[t._guid]-=1,h[t._guid]||(n(c,t.css),i.scheduleCssUpdate()))},update:function(){var t;c.length?(t=u+c.join(" "),s?s.cssText=t:r.innerHTML=t,a||o.appendChild(r)):a&&o.removeChild(r)}}}(w,a,b),x=function(t,e){var n,i,r,o,s,a;for(n=[],a=t._rendering?t.fragment.docFrag:t.el,i=a.querySelectorAll('input[type="checkbox"][name="{{'+e+'}}"]'),o=i.length,s=0;o>s;s+=1)r=i[s],(r.hasAttribute("checked")||r.checked)&&n.push(r._ractive.value);return n},E=Object.prototype.hasOwnProperty,k=function(t){do if(t.context)return t.context;while(t=t.parent);return""},N=function(t,e,n,i){var r,o='Could not resolve reference - too many "../" prefixes';return t.push(function(){r=t.get}),function(t,s,a){var u,h,c,f,p,d,l,g,v;if(s=e(s),"."===s)return i(a);if("."===s.charAt(0)){if(u=i(a),h=u?u.split("."):[],"../"===s.substr(0,3)){for(;"../"===s.substr(0,3);){if(!h.length)throw new Error(o);h.pop(),s=s.substring(3)}return h.push(s),h.join(".")}return u?u+s:s.substring(1)}c=s.split("."),f=c.pop(),p=c.length?"."+c.join("."):"";do if(u=a.context,u&&(v=!0,d=u+p,l=r(t,d),(g=t._wrapped[d])&&(l=g.get()),l&&("object"==typeof l||"function"==typeof l)&&f in l))return u+"."+s;while(a=a.parent);return v||t._parent&&!t.isolated?n.call(t.data,s)?s:void 0!==r(t,s)?s:void 0:s}}(w,g,E,k),T=function(t){var e,n,i,r,o=[""];for(e=t.length;e--;)for(n=t[e],i=n.split(".");i.length>1;)i.pop(),r=i.join("."),o[r]!==!0&&(o.push(r),o[r]=!0);return o},S=function(){function t(t,n,i){var o;for(t._patternObservers.length&&r(t,n,n,i,!0),o=0;o<t._deps.length;o+=1)e(t,n,o,i)}function e(t,e,r,o){var s=t._deps[r];s&&(n(s[e]),o||i(t._depsMap[e],t,r))}function n(t){var e,n;if(t)for(n=t.length,e=0;n>e;e+=1)t[e].update()}function i(t,n,i,r){var o;if(t)for(o=t.length;o--;)e(n,t[o],i,r)}function r(t,e,n,i,s){var u,h,c,f,p,d,l,g;for(u=t._patternObservers.length;u--;)h=t._patternObservers[u],h.regex.test(n)&&h.update(n);i||(g=function(e){if(c=t._depsMap[e])for(u=c.length;u--;)f=c[u],p=a.exec(f)[0],d=n?n+"."+p:p,r(t,f,d)},s?(l=o(n),l.forEach(g)):g(e))}function o(t){var e,n,i,r,o,a;for(e=t.split("."),n=s(e.length),o=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)a=n[r].map(i).join("."),o[a]||(o.push(a),o[a]=!0);return o}function s(t){var e,n,i,r,o,s="";if(!u[t]){for(i=[];s.length<t;)s+=1;for(e=parseInt(s,2),r=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;i[o]=Array.prototype.map.call(n,r)}u[t]=i}return u[t]}var a,u={};return a=/[^\.]+$/,t.multiple=function(t,n,i){var o,s,a;if(a=n.length,t._patternObservers.length)for(o=a;o--;)r(t,n[o],n[o],i,!0);for(o=0;o<t._deps.length;o+=1)if(t._deps[o])for(s=a;s--;)e(t,n[s],o,i)},t}(),O=function(t){var e,n,i,r;return e=function(t,e){var o=[];return o.detachQueue=[],o.remove=i,o.init=r,o._check=n,o._callback=t,o._previous=e,e&&e.push(o),o},n=function(){var t;if(this._ready&&!this.length){for(;t=this.detachQueue.pop();)t.detach();"function"==typeof this._callback&&this._callback(),this._previous&&this._previous.remove(this)}},i=function(e){t(this,e),this._check()},r=function(){this._ready=!0,this._check()},e}(b),R=function(t,e,n,i,r,o,s,a){function u(){var t,n,i;for(w&&(w.focus(),w=null);t=k.pop();)t.update().deferred=!1;for(;t=b.pop();)t._sort();for(;t=_.pop();)t.init();for(;t=x.pop();)t.init();for(;t=E.pop();)t.update();for(;t=N.pop();)t.active=!1;for(;t=L.pop();)if(L[t._guid]=!1,t._changes.length){for(i={};n=t._changes.pop();)i[n]=p(t,n);t.fire("change",i)}l&&(e.update(),l=!1)}function h(){var t,e,n;for(n=L.length;n--;)t=L[n],t._changes.length&&(e=o(t._changes),s.multiple(t,e,!0));for(c();v;){for(v=!1;t=S.pop();)t.update();for(;t=T.pop();)t.update().deferred=!1;for(;t=O.pop();)t.deferredUpdate();for(;t=A.pop();)d(t.root,t.keypath,i(t.root,t.keypath));for(;t=C.pop();)t.update()}}function c(){var t,e,n;if(F.length)for(t=F.splice(0,F.length);e=t.pop();)e.keypath||(n=r(e.root,e.ref,e.parentFragment),void 0!==n?e.resolve(n):F.push(e))}t.push(function(){p=t.get,d=t.set});var f,p,d,l,g,v=!1,m=!1,y=0,w=null,b=[],_=[],x=[],E=[],k=[],N=[],T=[],S=[],O=[],R={},A=[],C=[],F=[],L=[];return f={start:function(t,e){this.addInstance(t),m||(y+=1,g=a(e,g))},end:function(){return m?void c():(--y||(m=!0,h(),m=!1,u()),g.init(),void(g=g._previous))},trigger:function(){return y||m?void c():(m=!0,h(),m=!1,void u())},focus:function(t){w=t},addInstance:function(t){t&&!L[t._guid]&&(L.push(t),L[L._guid]=!0)},addLiveQuery:function(t){b.push(t)},addDecorator:function(t){_.push(t)},addTransition:function(t){t._manager=g,g.push(t),x.push(t)},addObserver:function(t){E.push(t)},addAttribute:function(t){k.push(t)},addBinding:function(t){t.active=!0,N.push(t)},scheduleCssUpdate:function(){y||m?l=!0:e.update()},addEvaluator:function(t){v=!0,T.push(t)},addComputation:function(t){v=!0,S.push(t)},addSelectValue:function(t){v=!0,O.push(t)},addCheckbox:function(t){R[t.keypath]||(v=!0,A.push(t))},addRadio:function(t){v=!0,C.push(t)},addUnresolved:function(t){v=!0,F.push(t)},removeUnresolved:function(t){n(F,t)},detachWhenReady:function(t){g.detachQueue.push(t)}},t.runloop=f,f}(w,_,b,x,N,T,S,O),A=function(t,e,n){var i=[],r={tick:function(){var o,s,a;for(a=e(),n.start(),o=0;o<i.length;o+=1)s=i[o],s.tick(a)||i.splice(o--,1);n.end(),i.length?t(r.tick):r.running=!1},add:function(e){i.push(e),r.running||(r.running=!0,t(r.tick))},abort:function(t,e){for(var n,r=i.length;r--;)n=i[r],n.root===e&&n.keypath===t&&n.stop()}};return r}(m,y,R),C=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),F=function(t){return function(e){var n,i;if(!e||"object"!=typeof e)return e;if(t(e))return e.slice();n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}}(C),L={},I=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},M=function(t,e){var n,i,r,o;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),i=Math.max(0,e.length-2),r=void 0!==e[1]?e[1]:t.length-n,r=Math.min(r,t.length-n),o=i-r,{start:n,balance:o,added:i,removed:r}):null},P={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},j=function gr(t,e,n){var i,r;if(n||(r=t._wrapped[e])&&r.teardown()!==!1&&(t._wrapped[e]=null),t._cache[e]=void 0,i=t._cacheMap[e])for(;i.length;)gr(t,i.pop())},D=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),U=function(t,e,n,i,r){function o(t,a,u,h){var c,f,p,d,l,g,v,m;e(t._cache[a],u)||(l=t._computations[a],g=t._wrapped[a],v=t._evaluators[a],l&&!l.setting&&l.set(u),g&&g.reset&&(m=g.reset(u)!==!1,m&&(u=g.get())),v&&(v.value=u),l||v||m||(c=a.split("."),f=c.pop(),p=c.join("."),g=t._wrapped[p],g&&g.set?g.set(f,u):(d=g?g.get():s(t,p),d||(d=n(f),o(t,p,d,!0)),d[f]=u)),i(t,a,m),h||(t._changes.push(a),r(t,a)))}var s;return t.push(function(){s=t.get}),t.set=o,o}(w,d,D,j,S),B=function(t,e,n,i){return function(r,o,s,a){var u,h,c,f,p,d,l,g,v,m;if(u=r.root,h=r.keypath,u._changes.push(h),"sort"===s||"reverse"===s)return void i(u,h,o);if(a){for(c=a.balance?o.length-Math.min(a.balance,0):a.added,p=a.start;c>p;p+=1)e(u,h+"."+p);if(f=function(e){e.keypath===h&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.splice(a):e.update()},u._deps.forEach(function(t){var e=t[h];e&&e.forEach(f)}),a.added&&a.removed)for(d=Math.max(a.added,a.removed),l=a.start,g=l+d,m=a.added===a.removed,p=l;g>p;p+=1)v=h+"."+p,n(u,v);m||(e(u,h+".length"),n(u,h+".length",!0))}}}(P,j,S,U),Q=function(t,e,n,i,r){var o,s,a,u=[],h=["pop","push","reverse","shift","sort","splice","unshift"];return h.forEach(function(o){var s=function(){var e,s,a,u,h;for(e=n(this,o,Array.prototype.slice.call(arguments)),s=i(this,e),a=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,h=this._ractive.wrappers.length;h--;)u=this._ractive.wrappers[h],t.start(u.root),r(u,this,o,s),t.end();return this._ractive.setting=!1,a};e(u,o,{value:s})}),o={},o.__proto__?(s=function(t){t.__proto__=u},a=function(t){t.__proto__=Array.prototype}):(s=function(t){var n,i;for(n=h.length;n--;)i=h[n],e(t,i,{value:u[i],configurable:!0})},a=function(t){var e;for(e=h.length;e--;)delete t[h[e]]}),s.unpatch=a,s}(R,u,I,M,B),q=function(t,e,n){var i,r,o;return i={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(e,i,r){this.root=e,this.value=i,this.keypath=r,i._ractive||(t(i,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(i)),i._ractive.instances[e._guid]||(i._ractive.instances[e._guid]=0,i._ractive.instances.push(e)),i._ractive.instances[e._guid]+=1,i._ractive.wrappers.push(this)},r.prototype={get:function(){return this.value},teardown:function(){var t,e,i,r,s;if(t=this.value,e=t._ractive,i=e.wrappers,r=e.instances,e.setting)return!1;if(s=i.indexOf(this),-1===s)throw new Error(o);if(i.splice(s,1),i.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(s=r.indexOf(this.root),-1===s)throw new Error(o);r.splice(s,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",i}(u,C,Q),V=function(t,e,n,i,r){function o(e,n,o){function s(e){var o,s;e.value=n,e.updating||(s=e.ractive,o=e.keypath,e.updating=!0,t.start(s),s._changes.push(o),i(s,o),r(s,o),t.end(),e.updating=!1)}var a,u,h,c,f,p;if(a=e.obj,u=e.prop,o&&!o.configurable){if("length"===u)return;throw new Error('Cannot use magic mode with property "'+u+'" - object is not configurable')}o&&(h=o.get,c=o.set),f=h||function(){return n},p=function(t){c&&c(t),n=h?h():t,p._ractiveWrappers.forEach(s)},p._ractiveWrappers=[e],Object.defineProperty(a,u,{get:f,set:p,enumerable:!0,configurable:!0})}var s,a;try{Object.defineProperty({},"test",{value:0})}catch(u){return!1}return s={filter:function(t,e,i){var r,o,s,a,u;return e?(r=e.split("."),o=r.pop(),s=r.join("."),(a=i._wrapped[s])&&!a.magic?!1:(u=i.get(s),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new a(t,e,n)}},a=function(t,e,n){var i,r,s,a;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,i=n.split("."),this.prop=i.pop(),r=i.join("."),this.obj=r?t.get(r):t.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers)?void(-1===a.indexOf(this)&&a.push(this)):void o(this,e,s)},a.prototype={get:function(){return this.value},reset:function(t){this.updating||(this.updating=!0,this.obj[this.prop]=t,i(this.ractive,this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}},s}(R,D,C,j,S),H=function(t,e){if(!t)return!1;var n,i;return n={filter:function(n,i,r){return t.filter(n,i,r)&&e.filter(n)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(n,i,r){this.value=i,this.magic=!0,this.magicWrapper=t.wrap(n,i,r),this.arrayWrapper=e.wrap(n,i,r)},i.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}},n}(V,q),W=function(t,e,n,i){function r(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function o(t){var e;return s[t]||(e=t?t+".":"",s[t]=function(n,i){var o;return"string"==typeof n?(o={},o[e+n]=i,o):"object"==typeof n?e?r(n,t):n:void 0}),s[t]}var s={};return function(r,s,a,u){var h,c,f,p;for(h=r.adapt.length,c=0;h>c;c+=1){if(f=r.adapt[c],"string"==typeof f){if(!t[f])throw new Error('Missing adaptor "'+f+'"');f=r.adapt[c]=t[f]}if(f.filter(a,s,r))return p=r._wrapped[s]=f.wrap(r,a,s,o(s)),p.value=a,a}return u||(r.magic?i.filter(a,s,r)?r._wrapped[s]=i.wrap(r,a,s):n.filter(a,s,r)&&(r._wrapped[s]=n.wrap(r,a,s)):r.modifyArrays&&e.filter(a,s,r)&&(r._wrapped[s]=e.wrap(r,a,s))),a}}(L,q,V,H),$=function(){function t(t,e){var n,i,r;for(n=e.split(".");n.length;)n.pop(),i=n.join("."),r=t._depsMap[i]||(t._depsMap[i]=[]),void 0===r[e]&&(r[e]=0,r[r.length]=e),r[e]+=1,e=i}return function(e){var n,i,r,o,s;r=e.root,o=e.keypath,s=e.priority,n=r._deps[s]||(r._deps[s]={}),i=n[o]||(n[o]=[]),i.push(e),e.registered=!0,o&&t(r,o)}}(),K=function(){function t(t,e){var n,i,r;for(n=e.split(".");n.length;)n.pop(),i=n.join("."),r=t._depsMap[i],r[e]-=1,r[e]||(r.splice(r.indexOf(e),1),r[e]=void 0),e=i}return function(e){var n,i,r,o,s;if(r=e.root,o=e.keypath,s=e.priority,n=r._deps[s][o],i=n.indexOf(e),-1===i||!e.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");n.splice(i,1),e.registered=!1,o&&t(r,o)}}(),G=function(t,e,n,i,r,o){var s,a;t.push(function(){s=t.get,a=t.set});var u=function(t,e,n,i,o){this.root=t,this.keypath=e,this.priority=o,this.otherInstance=n,this.otherKeypath=i,r(this),this.value=s(this.root,this.keypath)};return u.prototype={update:function(){var t;this.updating||this.counterpart&&this.counterpart.updating||(t=s(this.root,this.keypath),n(t)&&t._ractive&&t._ractive.setting||i(t,this.value)||(this.updating=!0,e.addInstance(this.otherInstance),a(this.otherInstance,this.otherKeypath,t),this.value=t,this.updating=!1))},reassign:function(t){o(this),o(this.counterpart),this.keypath=t,this.counterpart.otherKeypath=t,r(this),r(this.counterpart)},teardown:function(){o(this)}},function(t,e,n,i){var r,o,s,a,h,c;r=n+"="+i,s=t.bindings,s[r]||(s[r]=!0,o=t.instance,a=t.parentFragment.priority,h=new u(e,n,o,i,a),s.push(h),o.twoway&&(c=new u(o,i,e,n,1),s.push(c),h.counterpart=c,c.counterpart=h))}}(w,R,C,d,$,K),J=function(t,e,n){function i(t,i,r,o,s){n(i,o,s,!0),e(i.component,t,r,o)}var r;return t.push(function(){r=t.get}),function(t,e){var n,o,s,a,u;if(n=t._parent,o=t.component.parentFragment,o.indexRefs&&void 0!==(u=o.indexRefs[e]))return t.component.indexRefBindings[e]=e,u;do if(o.context&&(s=o.context+"."+e,a=r(n,s),void 0!==a))return i(n,t,s,e,a),a;while(o=o.parent);return a=r(n,e),void 0!==a?(i(n,t,e,e,a),a):void 0}}(w,G,U),z={FAILED_LOOKUP:!0},Y=function(t,e,n,i,r,o){function s(t,e,n){var s,u,h,c,f=t._cache;return void 0===f[e]?((u=t._computations[e])?s=u.value:(h=t._wrapped[e])?s=h.value:e?s=(c=t._evaluators[e])?c.value:a(t,e):(i(t,"",t.data),s=t.data),f[e]=s):s=f[e],s===o&&(s=t._parent&&!t.isolated?r(t,e,n):void 0),n&&n.evaluateWrapped&&(h=t._wrapped[e])&&(s=h.get()),s}function a(t,r){var a,u,h,c,f,p,d,l;return a=r.split("."),u=a.pop(),h=a.join("."),c=s(t,h),(d=t._wrapped[h])&&(c=d.get()),null!==c&&void 0!==c?((f=t._cacheMap[h])?-1===f.indexOf(r)&&f.push(r):t._cacheMap[h]=[r],"object"!=typeof c||u in c?(l=!e.call(c,u),p=l?n(c[u]):c[u],p=i(t,r,p,!1),t._cache[r]=p,p):t._cache[r]=o):void 0}return t.get=s,s}(w,E,F,W,J,z),X=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),Z=function(){var t=Object.prototype.toString;return function(e){return"object"==typeof e&&"[object Object]"===t.call(e)}}(),te=function(t,e,n,i,r){var o,s,a;return t.push(function(){s=t.interpolate}),a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return r(t)&&r(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var i,r,o,a;if(!n(t)||!n(e))return null;for(i=[],r=[],a=o=Math.min(t.length,e.length);a--;)r[a]=s(t[a],e[a]);for(a=o;a<t.length;a+=1)i[a]=t[a];for(a=o;a<e.length;a+=1)i[a]=e[a];return function(t){for(var e=o;e--;)i[e]=r[e](t);return i}},object:function(t,n){var r,o,a,u,h;if(!i(t)||!i(n))return null;r=[],u={},a={};for(h in t)e.call(t,h)&&(e.call(n,h)?(r.push(h),a[h]=s(t[h],n[h])):u[h]=t[h]);for(h in n)e.call(n,h)&&!e.call(t,h)&&(u[h]=n[h]);return o=r.length,function(t){for(var e,n=o;n--;)e=r[n],u[e]=a[e](t);return u}},cssLength:function(t,e){var n,i,r,o,s,u,h,c;return 0!==t&&"string"!=typeof t||0!==e&&"string"!=typeof e?null:(n=a.exec(t),i=a.exec(e),r=n?n[2]:"",o=i?i[2]:"",r&&o&&r!==o?null:(h=r||o,s=n?+n[1]:0,u=i?+i[1]:0,c=u-s,c?function(t){return s+t*c+h}:function(){return s+h}))}}}(w,E,C,Z,c),ee=function(t,e,n){function i(t){return function(){return t}}var r=function(t,r,o,s){if(t===r)return i(r);if(s){if(o.interpolators[s])return o.interpolators[s](t,r)||i(r);e('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,r)||n.array(t,r)||n.object(t,r)||n.cssLength(t,r)||i(r)};return t.interpolate=r,r}(w,X,te),ne=function(t,e,n,i){var r=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return r.prototype={tick:function(){var n,r,o,s,a,u;return u=this.keypath,this.running?(s=Date.now(),n=s-this.startTime,n>=this.duration?(null!==u&&(e.start(this.root),i(this.root,u,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&t("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==u&&(o=this.interpolator(r),e.start(this.root),i(this.root,u,o),e.end()),this.step&&this.step(r,o),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},r}(X,R,ee,U),ie=function(t,e,n,i,r,o){function s(e,s,a,h){var c,f,p,d;return s&&(s=n(s)),null!==s&&(d=r(e,s)),i.abort(s,e),t(d,a)?(h.complete&&h.complete(h.to),u):(h.easing&&(c="function"==typeof h.easing?h.easing:e.easing[h.easing],"function"!=typeof c&&(c=null)),f=void 0===h.duration?400:h.duration,p=new o({keypath:s,from:d,to:a,root:e,duration:f,easing:c,interpolator:h.interpolator,step:h.step,complete:h.complete}),i.add(p),e._animations.push(p),p)}var a=function(){},u={stop:a};return function(t,n,i){var r,o,u,h,c,f,p,d,l,g,v,m,y,w;if(r=new e(function(t){o=t}),"object"==typeof t){i=n||{},f=i.easing,p=i.duration,c=[],d=i.step,l=i.complete,(d||l)&&(v={},i.step=null,i.complete=null,g=function(t){return function(e,n){v[t]=n}});for(u in t)t.hasOwnProperty(u)&&((d||l)&&(m=g(u),i={easing:f,duration:p},d&&(i.step=m)),i.complete=l?m:a,c.push(s(this,u,t[u],i)));return(d||l)&&(w={easing:f,duration:p},d&&(w.step=function(t){d(t,v)}),l&&r.then(function(t){l(t,v)}),w.complete=o,y=s(this,null,null,w),c.push(y)),{stop:function(){for(var t;t=c.pop();)t.stop();y&&y.stop()}}}return i=i||{},i.complete&&r.then(i.complete),i.complete=o,h=s(this,t,n,i),r.stop=function(){h.stop()},r}}(d,l,g,A,Y,ne),re=function(){return this.fragment.detach()},oe=function(t){return this.el?this.fragment.find(t):null},se=function(t,e,n){var i,r,o,s,a,u,h;if(t){for(i=n("div"),r=["matches","matchesSelector"],h=function(t){return function(e,n){return e[t](n)}},a=r.length;a--;){if(o=r[a],i[o])return h(o);for(u=e.length;u--;)if(s=e[a]+o.substr(0,1).toUpperCase()+o.substring(1),i[s])return h(s)}return function(t,e){var n,i;for(n=(t.parentNode||t.document).querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1}}}(a,v,s),ae=function(t){return function(e,n){var i=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return i?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(se),ue=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},he=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,i;for(n=[e],i=t(e);i;)n.push(i),i=t(i);return n}return function(t,n){var i,r,o,s,a,u,h,c,f,p;for(i=e(t.component||t._ractive.proxy),r=e(n.component||n._ractive.proxy),o=i[i.length-1],s=r[r.length-1];o&&o===s;)i.pop(),r.pop(),a=o,o=i[i.length-1],s=r[r.length-1];if(o=o.component||o,s=s.component||s,f=o.parentFragment,p=s.parentFragment,f===p)return u=f.items.indexOf(o),h=p.items.indexOf(s),u-h||i.length-r.length;if(c=a.fragments)return u=c.indexOf(f),h=c.indexOf(p),u-h||i.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),ce=function(t){return function(e,n){var i;return e.compareDocumentPosition?(i=e.compareDocumentPosition(n),2&i?1:-1):t(e,n)}}(he),fe=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(ce,he),pe=function(t){return function(){this._dirty||(t.addLiveQuery(this),this._dirty=!0)}}(R),de=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},le=function(t,e,n,i,r,o){return function(s,a,u,h){var c=[];return t(c,{selector:{value:a},live:{value:u},_isComponentQuery:{value:h},_test:{value:e}}),u?(t(c,{cancel:{value:n},_root:{value:s},_sort:{value:i},_makeDirty:{value:r},_remove:{value:o},_dirty:{value:!1,writable:!0}}),c):c}}(h,ae,ue,fe,pe,de),ge=function(t){return function(e,n){var i,r;return this.el?(n=n||{},i=this._liveQueries,(r=i[e])?n&&n.live?r:r.slice():(r=t(this,e,!!n.live,!1),r.live&&(i.push(e),i[e]=r),this.fragment.findAll(e,r),r)):[]}}(le),ve=function(t){return function(e,n){var i,r;return n=n||{},i=this._liveComponentQueries,(r=i[e])?n&&n.live?r:r.slice():(r=t(this,e,!!n.live,!0),r.live&&(i.push(e),i[e]=r),this.fragment.findAllComponents(e,r),r)}}(le),me=function(t){return this.fragment.findComponent(t)},ye=function(t){var e,n,i,r=this._subs[t];if(r)for(e=Array.prototype.slice.call(arguments,1),n=0,i=r.length;i>n;n+=1)r[n].apply(this,e)},we=function(t,e,n,i){var r,o={};t.push(function(){r=t.get});var s=function(t,e){this.root=t,this.ref=e,this.parentFragment=o,t._unresolvedImplicitDependencies[e]=!0,t._unresolvedImplicitDependencies.push(this),n.addUnresolved(this)};return s.prototype={resolve:function(){var t=this.root;i(t,this.ref),t._unresolvedImplicitDependencies[this.ref]=!1,e(t._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}},s}(w,b,R,S),be=function(t,e,n){var i={isTopLevel:!0};return function(r){var o;return r=t(r),o=e(this,r,i),this._captured&&this._captured[r]!==!0&&(this._captured.push(r),this._captured[r]=!0,void 0===o&&this._unresolvedImplicitDependencies[r]!==!0&&new n(this,r)),o}}(g,Y,we),_e=function(t){var e;return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},xe=function(t){return function(e,n){if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.fragment.pNode=this.el=e}}(_e),Ee=function(t,e){var n,i,r,o;return n={},i=0,r=t.map(function(t,r){var s,a,u;a=i,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===i&&(i+=1),s!==r&&(o=!0),n[s]=!0,s}),r.unchanged=!o,r},ke=function(t,e){return function(n,i,r,o){var s;n._changes.push(i),s=function(e){e.type===t.REFERENCE?e.update():e.keypath===i&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.merge(r):e.update()},n._deps.forEach(function(t){var e=t[i];e&&e.forEach(s)}),o||e(n,i+".length",!0)}}(P,S),Ne=function(t,e,n,i,r,o,s){function a(t){return JSON.stringify(t)}function u(t){if(t===!0)return a;if("string"==typeof t)return h[t]||(h[t]=function(e){return e[t]}),h[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var h={};return function(a,h,c){var f,p,d,l,g,v,m,y;if(f=this.get(a),!n(f)||!n(h))return this.set(a,h,c&&c.complete);if(g=f.length===h.length,c&&c.compare){l=u(c.compare);try{p=f.map(l),d=h.map(l)}catch(w){if(this.debug)throw w;e("Merge operation: comparison failed. Falling back to identity checking"),p=f,d=h}}else p=f,d=h;return v=o(p,d),m=new i(function(t){y=t}),t.start(this,y),r(this,a,h,!0),s(this,a,v,g),t.end(),c&&c.complete&&m.then(c.complete),m}}(R,X,C,l,U,Ee,ke),Te=function(t,e,n){var i=function(t,e,n,i){var r=this;this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.debug=i.debug,this.proxy={update:function(){r.reallyUpdate()}},this.priority=0,this.context=i&&i.context?i.context:t};return i.prototype={init:function(t){t!==!1?this.update():this.value=n(this.root,this.keypath)},update:function(){return this.defer&&this.ready?void t.addObserver(this.proxy):void this.reallyUpdate()},reallyUpdate:function(){var t,i;if(t=this.value,i=n(this.root,this.keypath),this.value=i,!this.updating){if(this.updating=!0,!e(i,t)||!this.ready)try{this.callback.call(this.context,i,t,this.keypath)}catch(r){if(this.debug||this.root.debug)throw r}this.updating=!1}}},i}(R,d,Y),Se=function(t){return function(e,n){var i,r,o,s,a,u,h;for(i=n.split("."),s=[],u=function(n){var i,r;i=e._wrapped[n]?e._wrapped[n].get():e.get(n);for(r in i)!i.hasOwnProperty(r)||"_ractive"===r&&t(i)||a.push(n+"."+r)},h=function(t){return t+"."+r};r=i.shift();)"*"===r?(a=[],s.forEach(u),s=a):s[0]?s=s.map(h):s[0]=r;return o={},s.forEach(function(t){o[t]=e.get(t)}),o}}(C),Oe=function(t,e,n,i){var r,o=/\*/;return r=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.debug=i.debug,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=i&&i.context?i.context:t},r.prototype={init:function(t){var e,n;if(e=i(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(n);else this.values=e},update:function(e){var n;{if(!o.test(e))return this.defer&&this.ready?void t.addObserver(this.getProxy(e)):void this.reallyUpdate(e);n=i(this.root,e);for(e in n)n.hasOwnProperty(e)&&this.update(e)}},reallyUpdate:function(t){var i=n(this.root,t);if(this.updating)return void(this.values[t]=i);if(this.updating=!0,!e(i,this.values[t])||!this.ready){try{this.callback.call(this.context,i,this.values[t],t)}catch(r){if(this.debug||this.root.debug)throw r}this.values[t]=i}this.updating=!1},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},r}(R,d,Y,Se),Re=function(t,e,n,i,r){var o=/\*/,s={};return function(a,u,h,c){var f,p;return u=t(u),c=c||s,o.test(u)?(f=new r(a,u,h,c),a._patternObservers.push(f),p=!0):f=new i(a,u,h,c),e(f),f.init(c.init),f.ready=!0,{cancel:function(){var t;p&&(t=a._patternObservers.indexOf(f),-1!==t&&a._patternObservers.splice(t,1)),n(f)}}}}(g,$,K,Te,Oe),Ae=function(t,e){return function(n,i,r){var o,s,a,u;
if(t(n)){r=i,s=n,o=[];for(n in s)s.hasOwnProperty(n)&&(i=s[n],o.push(this.observe(n,i,r)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return r=i,i=n,n="",e(this,n,i,r);if(a=n.split(" "),1===a.length)return e(this,n,i,r);for(o=[],u=a.length;u--;)n=a[u],n&&o.push(e(this,n,i,r));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(Z,Re),Ce=function(t,e){var n,i;if(!e)if(t)this._subs[t]=[];else for(t in this._subs)delete this._subs[t];n=this._subs[t],n&&(i=n.indexOf(e),-1!==i&&n.splice(i,1))},Fe=function(t,e){var n,i,r=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){r.off(t,e)}}},Le=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}return t}(),Ie=function(t,e){return function(n,i){var r,o,s,a,u;if(n.owner=i.owner,s=n.parent=n.owner.parentFragment,n.root=i.root,n.pNode=i.pNode,n.pElement=i.pElement,n.context=i.context,n.owner.type===t.SECTION&&(n.index=i.index),s&&(a=s.indexRefs)){n.indexRefs=e(null);for(u in a)n.indexRefs[u]=a[u]}for(n.priority=s?s.priority+1:1,i.indexRef&&(n.indexRefs||(n.indexRefs={}),n.indexRefs[i.indexRef]=i.index),n.items=[],r=i.descriptor?i.descriptor.length:0,o=0;r>o;o+=1)n.items[n.items.length]=n.createItem({parentFragment:n,pElement:i.pElement,descriptor:i.descriptor[o],index:o})}}(P,Le),Me=function(t,e){return t.substr(0,e.length+1)===e+"."},Pe=function(t){return function(e,n){return e===n||t(e,n)}}(Me),je=function(t){return function(e,n,i){return e===n?i:t(e,n)?e.replace(n+".",i+"."):void 0}}(Me),De=function(t,e){return function(n,i,r,o){n[i]&&!t(n[i],o)&&(n[i]=e(n[i],r,o))}}(Pe,je),Ue=function(t){return function(e,n,i,r){void 0===this.html&&(t(this,"context",i,r),this.indexRefs&&void 0!==this.indexRefs[e]&&this.indexRefs[e]!==n&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.reassign(e,n,i,r)}))}}(De),Be=function(t,e){return{init:t,reassign:e}}(Ie,Ue),Qe=function(t,e){function n(t){return o[t]||(o[t]=e(t))}var i,r,o={};try{e("table").innerHTML="foo"}catch(s){i=!0,r={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(e,o,s,a){var u,h,c=[];if(e)for(i&&(h=r[o])?(u=n("DIV"),u.innerHTML=h[0]+e+h[1],u=u.querySelector(".x")):s===t.svg?(u=n("DIV"),u.innerHTML='<svg class="x">'+e+"</svg>",u=u.querySelector(".x")):(u=n(o),u.innerHTML=e);u.firstChild;)c.push(u.firstChild),a.appendChild(u.firstChild);return c}}(o,s),qe=function(){var t,e=this.node;return e&&(t=e.parentNode)?(t.removeChild(e),e):void 0},Ve=function(t,e){var n,i,r;return i=/</g,r=/>/g,n=function(e,n){this.type=t.TEXT,this.descriptor=e.descriptor,n&&(this.node=document.createTextNode(e.descriptor),n.appendChild(this.node))},n.prototype={detach:e,reassign:function(){},teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(i,"&lt;").replace(r,"&gt;")}},n}(P,qe),He=function(t,e){return function(n){n.keypath?e(n):t.removeUnresolved(n)}}(R,K),We=function(t){var e=function(e,n,i,r){this.root=e,this.ref=n,this.parentFragment=i,this.resolve=r,t.addUnresolved(this)};return e.prototype={teardown:function(){t.removeUnresolved(this)}},e}(R),$e=function(t,e,n,i,r){function o(t,e,i){var r,o,s;if(!a.test(t.toString()))return n(t,"_nowrap",{value:!0}),t;if(!t["_"+e._guid]){n(t,"_"+e._guid,{value:function(){var n,i,r,s;if(n=e._captured,n||(e._captured=[]),i=t.apply(e,arguments),e._captured.length)for(r=o.length;r--;)s=o[r],s.updateSoftDependencies(e._captured);return e._captured=n,i},writable:!0});for(r in t)t.hasOwnProperty(r)&&(t["_"+e._guid][r]=t[r]);t["_"+e._guid+"_evaluators"]=[]}return o=t["_"+e._guid+"_evaluators"],s=o.indexOf(i),-1===s&&o.push(i),t["_"+e._guid]}var s,a;return a=/this/,s=function(e,n,r,s,a){var u;this.evaluator=r,this.keypath=n,this.root=e,this.argNum=s,this.type=t.REFERENCE,this.priority=a,u=e.get(n),"function"==typeof u&&(u=o(u,e,r)),this.value=r.values[s]=u,i(this)},s.prototype={update:function(){var t=this.root.get(this.keypath);"function"!=typeof t||t._nowrap||(t=o(t,this.root,this.evaluator)),e(t,this.value)||(this.evaluator.values[this.argNum]=t,this.evaluator.bubble(),this.value=t)},teardown:function(){r(this)}},s}(P,d,u,$,K),Ke=function(t,e,n){var i=function(t,n,i){this.root=t,this.keypath=n,this.priority=i.priority,this.evaluator=i,e(this)};return i.prototype={update:function(){var e=this.root.get(this.keypath);t(e,this.value)||(this.evaluator.bubble(),this.value=e)},teardown:function(){n(this)}},i}(d,$,K),Ge=function(t,e,n,i,r,o,s,a){function u(t,e){var n,i;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),c[t])return c[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),c[t]=n,n}var h,c={};return h=function(t,e,n,i,r,o){var a=this;a.root=t,a.uniqueString=n,a.keypath=e,a.priority=o,a.fn=u(i,r.length),a.values=[],a.refs=[],r.forEach(function(e,n){e&&(e.indexRef?a.values[n]=e.value:a.refs.push(new s(t,e.keypath,a,n,o)))}),a.selfUpdating=a.refs.length<=1},h.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(t.addEvaluator(this),this.deferred=!0)},update:function(){var t;if(this.evaluating)return this;this.evaluating=!0;try{t=this.fn.apply(null,this.values)}catch(s){this.root.debug&&e('Error evaluating "'+this.uniqueString+'": '+s.message||s),t=void 0}return n(t,this.value)||(this.value=t,i(this.root,this.keypath),o(this.root,this.keypath,t,!0),r(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();i(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var t=this.refs.length;t--;)this.refs[t].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(t){var e,n,i;for(this.softRefs||(this.softRefs=[]),e=this.softRefs.length;e--;)i=this.softRefs[e],t[i.keypath]||(this.softRefs.splice(e,1),this.softRefs[i.keypath]=!1,i.teardown());for(e=t.length;e--;)n=t[e],this.softRefs[n]||(i=new a(this.root,n,this),this.softRefs.push(i),this.softRefs[n]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},h}(R,X,d,j,S,W,$e,Ke),Je=function(t,e,n,i,r){function o(t,e){return t.replace(/\$\{([0-9]+)\}/g,function(t,n){return e[n]?e[n].value||e[n].keypath:"undefined"})}function s(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var a=function(i,r,o,s){var a,u,h,c=this;return a=i.root,this.root=a,this.callback=s,this.owner=i,this.str=o.s,this.args=h=[],this.unresolved=[],this.pending=0,u=r.indexRefs,o.r&&o.r.length?(o.r.forEach(function(i,o){var s,f,p;return u&&void 0!==(s=u[i])?void(h[o]={indexRef:i,value:s}):(f=e(a,i,r))?void(h[o]={keypath:f}):(h[o]=void 0,c.pending+=1,p=new n(a,i,r,function(e){c.resolve(o,e),t(c.unresolved,p)}),void c.unresolved.push(p))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return a.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=s(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t;this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():(t=new i(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root._evaluators[this.keypath]=t,t.update())},reassign:function(t,e,n,i){var o;this.args.forEach(function(s){var a;s.keypath&&(a=r(s.keypath,n,i))?(s.keypath=a,o=!0):s.indexRef===t&&(s.value=e,o=!0)}),o&&this.bubble()}},a}(b,N,We,Ge,je),ze=function(t,e,n,i,r,o,s){var a=function(r,o,a){var h,c,f,p,d,l=this;return h=r.root,c=r.parentFragment,this.ref=o.r,this.root=r.root,this.mustache=r,this.callback=a,this.pending=0,this.unresolved=[],d=this.members=[],this.indexRefMembers=[],this.keypathObservers=[],this.expressionResolvers=[],o.m.forEach(function(o,a){var g,v,m,y,w,b;return"string"==typeof o?void(l.members[a]=o):o.t===t.REFERENCE?(g=o.n,v=c.indexRefs,v&&void 0!==(m=v[g])?(d[a]=m,void l.indexRefMembers.push({ref:g,index:a})):(p=!0,y=function(t){var e=new u(h,t,r.priority,l,a);l.keypathObservers.push(e)},(f=n(h,g,c))?void y(f):(d[a]=void 0,l.pending+=1,w=new i(h,g,c,function(t){l.resolve(a,t),e(l.unresolved,w)}),l.unresolved.push(w),null))):(p=!0,l.pending+=1,b=new s(l,c,o,function(t){l.resolve(a,t),e(l.unresolved,b)}),void l.unresolved.push(b))}),p?(this.ready=!0,void this.bubble()):(f=this.getKeypath(),void a(f))};a.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){this.ready&&!this.pending&&this.callback(this.getKeypath())},resolve:function(t,e){var n=new u(this.root,e,this.mustache.priority,this,t);n.update(),this.keypathObservers.push(n),this.resolved=!--this.pending,this.bubble()},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},reassign:function(t,e){var n,i,r;for(i=this.indexRefMembers.length;i--;)r=this.indexRefMembers[i],r.ref===t&&(n=!0,this.members[r.index]=e);n&&this.bubble()}};var u=function(t,e,n,i,o){this.root=t,this.keypath=e,this.priority=n,this.resolver=i,this.index=o,r(this),this.update()};return u.prototype={update:function(){var t=this.resolver;t.members[this.index]=this.root.get(this.keypath),t.bubble()},teardown:function(){o(this)}},a}(P,b,N,We,$,K,Je),Ye=function(t,e,n,i){return function(r,o){var s,a,u,h,c,f,p;c=o.parentFragment,f=o.descriptor,r.root=c.root,r.parentFragment=c,r.descriptor=o.descriptor,r.index=o.index||0,r.priority=c.priority,r.type=o.descriptor.t,p=function(t){r.resolve(t)},(s=f.r)&&(u=c.indexRefs,u&&void 0!==(h=u[s])?(r.indexRef=s,r.value=h,r.render(r.value)):(a=e(r.root,s,r.parentFragment),void 0!==a?p(a):(r.ref=s,t.addUnresolved(r)))),o.descriptor.x&&(r.resolver=new i(r,c,o.descriptor.x,p)),o.descriptor.kx&&(r.resolver=new n(r,o.descriptor.kx,p)),r.descriptor.n&&!r.hasOwnProperty("value")&&r.render(void 0)}}(R,N,ze,Je),Xe=function(t,e){var n={evaluateWrapped:!0};return function(){var i=e(this.root,this.keypath,n);t(i,this.value)||(this.render(i),this.value=i)}}(d,Y),Ze=function(t,e,n){return function(i){var r;if(i!==this.keypath){if(this.registered&&(n(this),this.type===t.SECTION))for(r=this.fragments.length;r--;)this.fragments[r].reassign(null,null,this.keypath,i);this.keypath=i,e(this),this.update()}}}(P,$,K),tn=function(t){return function(e,n,i,r){var o,s;if(this.resolver?this.resolver.reassign(e,n,i,r):this.keypath?(o=t(this.keypath,i,r),o&&this.resolve(o)):void 0!==e&&this.indexRef===e&&(this.value=n,this.render(n)),this.fragments)for(s=this.fragments.length;s--;)this.fragments[s].reassign(e,n,i,r)}}(je),en=function(t,e,n,i){return{init:t,update:e,resolve:n,reassign:i}}(Ye,Xe,Ze,tn),nn=function(t,e,n,i){var r,o,s;return o=/</g,s=/>/g,r=function(e,i){this.type=t.INTERPOLATOR,i&&(this.node=document.createTextNode(""),i.appendChild(this.node)),n.init(this,e)},r.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:i,teardown:function(t){t&&this.detach(),e(this)},render:function(t){this.node&&(this.node.data=void 0==t?"":t)},firstNode:function(){return this.node},toString:function(){var t=void 0!=this.value?""+this.value:"";return t.replace(o,"&lt;").replace(s,"&gt;")}},r}(P,He,en,qe),rn=function(){var t=[];return function(e){var n,i,r,o,s,a,u,h,c=this;for(n=this.parentFragment,s=[],e.forEach(function(e,n){var r,o,a,u;return e===n?void(s[e]=c.fragments[n]):(void 0===i&&(i=n),-1===e?void t.push(c.fragments[n]):(r=c.fragments[n],o=e-n,a=c.keypath+"."+n,u=c.keypath+"."+e,r.reassign(c.descriptor.i,n,e,o,a,u),void(s[e]=r)))});u=t.pop();)u.teardown(!0);if(void 0===i&&(i=this.length),this.length=o=this.root.get(this.keypath).length,o!==i){for(a={descriptor:this.descriptor.f,root:this.root,pNode:n.pNode,owner:this},this.descriptor.i&&(a.indexRef=this.descriptor.i),r=i;o>r;r+=1)(u=s[r])?this.docFrag.appendChild(u.detach(!1)):(a.context=this.keypath+"."+r,a.index=r,u=this.createFragment(a)),this.fragments[r]=u;h=n.findNextNode(this),n.pNode.insertBefore(this.docFrag,h)}}}(),on=function(t,e){function n(t,e,n){var i,r,o;if(r=e.length,r<t.length)for(o=t.fragments.splice(r,t.length-r);o.length;)o.pop().teardown(!0);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath+"."+i,n.index=i,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[i]=t.createFragment(n);t.length=r}function i(t,e,n){var i,r,o,s;for(o=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)s=t.fragments[r],s.index in e||(t.fragments[r].teardown(!0),t.fragments.splice(r,1),o[s.index]=!1);for(i in e)o[i]||(n.context=t.keypath+"."+i,n.index=i,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments.push(t.createFragment(n)),o[i]=!0);t.length=t.fragments.length}function r(t,e){t.length||(e.context=t.keypath,e.index=0,t.fragments[0]=t.createFragment(e),t.length=1)}function o(e,n,i,r){var o,s,a,u;if(s=t(n)&&0===n.length,o=i?s||!n:n&&!s){if(e.length||(r.index=0,e.fragments[0]=e.createFragment(r),e.length=1),e.length>1)for(a=e.fragments.splice(1);u=a.pop();)u.teardown(!0)}else e.length&&(e.teardownFragments(!0),e.length=0)}return function(s,a){var u={descriptor:s.descriptor.f,root:s.root,pNode:s.parentFragment.pNode,pElement:s.parentFragment.pElement,owner:s};return s.descriptor.n?void o(s,a,!0,u):void(t(a)?n(s,a,u):e(a)||"function"==typeof a?s.descriptor.i?i(s,a,u):r(s,u):o(s,a,!1,u))}}(C,Z),sn=function(t,e){return function(n){var i,r;(r=this.root._wrapped[this.keypath])&&(n=r.get()),this.rendering||(this.rendering=!0,e(this,n),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&t&&(i=this.parentFragment.findNextNode(this),i&&i.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,i):this.parentFragment.pNode.appendChild(this.docFrag)))}}(a,on),an=function(t,e,n,i){var r,o,s,a,u;for(s=t.descriptor.i,r=e;n>r;r+=1)o=t.fragments[r],a=t.keypath+"."+(r-i),u=t.keypath+"."+r,o.index=r,o.reassign(s,r,a,u)},un=function(t){function e(t){t.teardown(!0)}function n(t,e,n){var i,r,o;for(t.rendering=!0,i={descriptor:t.descriptor.f,root:t.root,pNode:t.parentFragment.pNode,owner:t,indexRef:t.descriptor.i},r=e;n>r;r+=1)i.context=t.keypath+"."+r,i.index=r,t.fragments[r]=t.createFragment(i);o=t.fragments[n]?t.fragments[n].firstNode():t.parentFragment.findNextNode(t),t.parentFragment.pNode.insertBefore(t.docFrag,o),t.rendering=!1}return function(i){var r,o,s,a,u,h=this;if(r=i.balance){if(o=i.start,h.length+=r,0>r)return h.fragments.splice(o,-r).forEach(e),void t(h,o,h.length,r);s=o+i.removed,a=o+i.added,u=[s,0],u.length+=r,h.fragments.splice.apply(h.fragments,u),t(h,a,h.length,r),n(h,s,a)}}}(an),hn=function(t,e,n,i,r,o,s){var a,u;return s.push(function(){u=s.DomFragment}),a=function(n,i){this.type=t.SECTION,this.inverted=!!n.descriptor.n,this.fragments=[],this.length=0,i&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,e.init(this,n),i&&i.appendChild(this.docFrag),this.initialising=!1},a.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,splice:r,merge:n,detach:function(){var t,e;if(this.docFrag){for(e=this.fragments.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.fragments[t].detach());return this.docFrag}},teardown:function(t){this.teardownFragments(t),o(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(t){for(var e;e=this.fragments.shift();)e.teardown(t)},render:i,createFragment:function(t){var e=new u(t);return this.docFrag&&this.docFrag.appendChild(e.docFrag),e},toString:function(){var t,e,n;for(t="",e=0,n=this.length,e=0;n>e;e+=1)t+=this.fragments[e].toString();return t},find:function(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null},findAll:function(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)},findComponent:function(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null},findAllComponents:function(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}},a}(P,en,rn,sn,un,He,w),cn=function(t,e,n,i,r){var o=function(e,i){this.type=t.TRIPLE,i&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,n.init(this,e),i&&i.appendChild(this.docFrag),this.initialising=!1};return o.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},teardown:function(t){t&&(this.detach(),this.docFrag=this.nodes=null),r(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(t){var e,n;if(this.nodes){for(;this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);if(!t)return void(this.nodes=[]);n=this.parentFragment.pNode,this.nodes=i(t,n.tagName,n.namespaceURI,this.docFrag),this.initialising||n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),"SELECT"===n.tagName&&n._ractive&&n._ractive.binding&&n._ractive.binding.update()}},toString:function(){return void 0!=this.value?this.value:""},find:function(t){var n,i,r,o;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType){if(e(r,t))return r;if(o=r.querySelector(t))return o}return null},findAll:function(t,n){var i,r,o,s,a,u;for(r=this.nodes.length,i=0;r>i;i+=1)if(o=this.nodes[i],1===o.nodeType&&(e(o,t)&&n.push(o),s=o.querySelectorAll(t)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}},o}(P,se,en,Qe,He),fn=function(t){return function(e,n){return e.a&&e.a.xmlns?e.a.xmlns:"svg"===e.e?t.svg:n.namespaceURI||t.html}}(o),pn=function(){var t,e,n,i;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},i=n(t.concat(e)),function(t){var e=t.toLowerCase();return i[e]||e}}(),dn=function(t,e){return function(n,i){var r,o;if(r=i.indexOf(":"),-1===r||(o=i.substr(0,r),"xmlns"===o))n.name=n.element.namespace!==t.html?e(i):i,n.lcName=n.name.toLowerCase();else if(i=i.substring(r+1),n.name=e(i),n.lcName=n.name.toLowerCase(),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(o,pn),ln=function(t){return function(e,n){var i,r=null===n.value?"":n.value;(i=n.pNode)&&(e.namespace?i.setAttributeNS(e.namespace,n.name,r):"style"===n.name&&i.style.setAttribute?i.style.setAttribute("cssText",r):"class"!==n.name||i.namespaceURI&&i.namespaceURI!==t.html?i.setAttribute(n.name,r):i.className=r,"id"===e.name&&(n.root.nodes[n.value]=i),"value"===e.name&&(i._ractive.value=n.value)),e.value=n.value}}(o),gn=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,i){var r;!n.pNode||n.namespace||i.pNode.namespaceURI&&i.pNode.namespaceURI!==t.html||(r=e[n.name]||n.name,void 0!==i.pNode[r]&&(n.propertyName=r),("boolean"==typeof i.pNode[r]||"value"===r)&&(n.useProperty=!0))}}(o),vn=function(t){return function(e){var n,i;return n=e.fragment.items,1===n.length&&(i=n[0],i.type===t.INTERPOLATOR&&(i.keypath||i.ref))?i:void 0}}(P),mn=function(t){return function(e,n){var i;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(i=e.length;i--;)if(e[i]!==n[i])return!1;return!0}}(C),yn=function(t,e,n,i,r,o){var s,a,u,h,c,f,p,d,l,g,v,m,y,w,b='For two-way binding to work, attribute value must be a single interpolator (e.g. value="{{foo}}")',_="You cannot set up two-way binding against an expression ";return s=function(){var t,n,i,r=this.pNode;return(t=this.interpolator)?t.keypath&&"${"===t.keypath.substr?(e(_+t.keypath),!1):(t.keypath||t.resolve(t.descriptor.r),this.keypath=t.keypath,(n=c(this))?(r._ractive.binding=this.element.binding=n,this.twoway=!0,i=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),i.push(n),!0):!1):(e(b),!1)},a=function(){t.start(this._ractive.root),this._ractive.binding.update(),t.end()},u={evaluateWrapped:!0},h=function(){var t=r(this._ractive.root,this._ractive.binding.keypath,u);this.value=void 0==t?"":t},c=function(t){var e=t.pNode;if("SELECT"===e.tagName)return e.multiple?new p(t,e):new d(t,e);if("checkbox"===e.type||"radio"===e.type){if("name"===t.propertyName){if("checkbox"===e.type)return new g(t,e);if("radio"===e.type)return new l(t,e)}return"checked"===t.propertyName?new v(t,e):null}if("value"!==t.lcName)throw new Error("Attempted to set up an illegal two-way binding. This error is unexpected - if you can, please file an issue at https://github.com/RactiveJS/Ractive, or contact @RactiveJS on Twitter. Thanks!");return"file"===e.type?new m(t,e):e.getAttribute("contenteditable")?new y(t,e):new w(t,e)},p=function(t,e){var n;f(this,t,e),e.addEventListener("change",a,!1),n=r(this.root,this.keypath),void 0===n&&this.update()},p.prototype={value:function(){var t,e,n,i,r,o;for(t=[],e=this.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(o=r._ractive?r._ractive.value:r.value,t.push(o));return t},update:function(){var e,i,r;return e=this.attr,i=e.value,r=this.value(),void 0!==i&&n(r,i)||(t.addBinding(e),e.value=r,o(this.root,this.keypath,r),t.trigger()),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},d=function(t,e){var n;f(this,t,e),e.addEventListener("change",a,!1),n=r(this.root,this.keypath),void 0===n&&this.update()},d.prototype={value:function(){var t,e,n,i,r;for(t=this.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},update:function(){var e=this.value();return t.addBinding(this.attr),this.attr.value=e,o(this.root,this.keypath,e),t.trigger(),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},l=function(e,n){var i;this.radioName=!0,f(this,e,n),n.name="{{"+e.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),i=r(this.root,this.keypath),void 0!==i?n.checked=i==n._ractive.value:t.addRadio(this)},l.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var e=this.node;e.checked&&(t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger())},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},g=function(e,n){var i,o;this.checkboxName=!0,f(this,e,n),n.name="{{"+this.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),i=r(this.root,this.keypath),void 0!==i?(o=-1!==i.indexOf(n._ractive.value),n.checked=o):t.addCheckbox(this)},g.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,t.addBinding(this.attr),o(this.root,this.keypath,i(this.root,this.keypath)),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},v=function(t,e){f(this,t,e),e.addEventListener("change",a,!1),e.attachEvent&&e.addEventListener("click",a,!1)},v.prototype={value:function(){return this.node.checked},update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},m=function(t,e){f(this,t,e),e.addEventListener("change",a,!1)},m.prototype={value:function(){return this.attr.pNode.files},update:function(){o(this.attr.root,this.attr.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1)}},y=function(t,e){f(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1))},y.prototype={update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.node.innerHTML),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1)}},w=function(t,e){f(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1)),this.node.addEventListener("blur",h,!1)},w.prototype={value:function(){var t=this.attr.pNode.value;return+t+""===t&&-1===t.indexOf("e")&&(t=+t),t},update:function(){var e=this.attr,n=this.value();t.addBinding(e),o(e.root,e.keypath,n),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1),this.node.removeEventListener("blur",h,!1)}},f=function(t,e,n){t.attr=e,t.node=n,t.root=e.root,t.keypath=e.keypath},s}(R,X,mn,x,Y,U),wn=function(t,e,n){var i,r,o,s,a,u,h,c,f,p,d,l;return i=function(){var t;if(!this.ready)return this;if(t=this.pNode,"SELECT"===t.tagName&&"value"===this.lcName)return this.update=o,this.deferredUpdate=s,this.update();if(this.isFileInputValue)return this.update=r,this;if(this.twoway&&"name"===this.lcName){if("radio"===t.type)return this.update=h,this.update();if("checkbox"===t.type)return this.update=c,this.update()}return"style"===this.lcName&&t.style.setAttribute?(this.update=f,this.update()):"class"!==this.lcName||t.namespaceURI&&t.namespaceURI!==e.html?t.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=d,this.update()):(this.update=l,this.update()):(this.update=p,this.update())},r=function(){return this},s=function(){this.deferredUpdate=this.pNode.multiple?u:a,this.deferredUpdate()},o=function(){return t.addSelectValue(this),this},a=function(){var t,e,n,i,r=this.fragment.getValue();for(this.value=this.pNode._ractive.value=r,t=this.pNode.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r)return e.selected=!0,this;return this},u=function(){var t,e,i,r,o=this.fragment.getValue();for(n(o)||(o=[o]),t=this.pNode.options,e=t.length;e--;)i=t[e],r=i._ractive?i._ractive.value:i.value,i.selected=-1!==o.indexOf(r);return this.value=o,this},h=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),t.checked=e==t._ractive.value,this},c=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),n(e)?(t.checked=-1!==e.indexOf(t._ractive.value),this):(t.checked=e==t._ractive.value,this)},f=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.style.setAttribute("cssText",e),this.value=e),this},p=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.className=e,this.value=e),this},d=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(this.active||(t.innerHTML=e),this.value=e),this},l=function(){var t,e,n;if(t=this.pNode,e=this.fragment.getValue(),this.isValueAttribute&&(t._ractive.value=e),void 0==e&&(e=""),e!==this.value){if(this.useProperty)return this.active||(t[this.propertyName]=e),"OPTION"===t.tagName&&t.selected&&(n=this.element.select.binding)&&n.update(),this.value=e,this;if(this.namespace)return t.setAttributeNS(this.namespace,this.name,e),this.value=e,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[e]=t),t.setAttribute(this.name,e),this.value=e}return this},i}(R,o,C),bn=function(t){var e;return e=this.str.substr(this.pos,t.length),e===t?(this.pos+=t.length,t):null},_n=function(){var t=/^\s+/;return function(){var e=t.exec(this.remaining());return e?(this.pos+=e[0].length,e[0]):null}}(),xn=function(t){return function(e){var n=t.exec(e.str.substring(e.pos));return n?(e.pos+=n[0].length,n[1]||n[0]):null}},En=function(t){var e,n,i;return e=t(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/),n=t(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/),i=t(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/),function(t){return function(r){var o,s,a,u;for(o=r.pos,s='"',a=!1;!a;)u=e(r)||n(r)||r.getStringMatch(t),u?s+='"'===u?'\\"':"\\'"===u?"'":u:(u=i(r),u?s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):a=!0);return s+='"',JSON.parse(s)}}}(xn),kn=function(t){return t('"')}(En),Nn=function(t){return t("'")}(En),Tn=function(t,e,n){return function(i){var r,o;return r=i.pos,i.getStringMatch('"')?(o=n(i),i.getStringMatch('"')?{t:t.STRING_LITERAL,v:o}:(i.pos=r,null)):i.getStringMatch("'")?(o=e(i),i.getStringMatch("'")?{t:t.STRING_LITERAL,v:o}:(i.pos=r,null)):null}}(P,kn,Nn),Sn=function(t,e){var n=e(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(e){var i;return(i=n(e))?{t:t.NUMBER_LITERAL,v:i}:null}}(P,xn),On=function(t){return t(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(xn),Rn=function(t,e,n){var i=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(r){var o;return(o=t(r))?i.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(r))?o.v:(o=n(r))?o:void 0}}(Tn,Sn,On),An=function(t,e,n,i){function r(t){var e,n,r;return t.allowWhitespace(),(e=i(t))?(r={key:e},t.allowWhitespace(),t.getStringMatch(":")?(t.allowWhitespace(),(n=t.getToken())?(r.value=n.v,r):null):null):null}var o,s,a,u,h,c;return s={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,h=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,o=function(t,e){this.str=t,this.values=e,this.pos=0,this.result=this.getToken()},o.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:t,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()
},getPlaceholder:function(){var t;return this.values?(t=c.exec(this.remaining()))&&this.values.hasOwnProperty(t[1])?(this.pos+=t[0].length,{v:this.values[t[1]]}):void 0:null},getSpecial:function(){var t;return(t=a.exec(this.remaining()))?(this.pos+=t[0].length,{v:s[t[0]]}):void 0},getNumber:function(){var t;return(t=u.exec(this.remaining()))?(this.pos+=t[0].length,{v:+t[0]}):void 0},getString:function(){var t,e=n(this);return e&&(t=this.values)?{v:e.v.replace(h,function(e,n){return t[n]||n})}:e},getObject:function(){var t,e;if(!this.getStringMatch("{"))return null;for(t={};e=r(this);){if(t[e.key]=e.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:t};if(!this.getStringMatch(","))return null}return null},getArray:function(){var t,e;if(!this.getStringMatch("["))return null;for(t=[];e=this.getToken();){if(t.push(e.v),this.getStringMatch("]"))return{v:t};if(!this.getStringMatch(","))return null}return null},allowWhitespace:e},function(t,e){var n=new o(t,e);return n.result?{value:n.result.v,remaining:n.remaining()}:null}}(bn,_n,Tn,Rn),Cn=function(t,e,n){function i(t){return"string"==typeof t?t:JSON.stringify(t)}var r=function(e){this.type=t.INTERPOLATOR,n.init(this,e)};return r.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){e(this)},toString:function(){return void 0==this.value?"":i(this.value)}},r}(P,He,en),Fn=function(t,e,n,i,r){var o,s;return r.push(function(){s=r.StringFragment}),o=function(n){this.type=t.SECTION,this.fragments=[],this.length=0,e.init(this,n)},o.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,teardown:function(){this.teardownFragments(),i(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){var e;(e=this.root._wrapped[this.keypath])&&(t=e.get()),n(this,t),this.parentFragment.bubble()},createFragment:function(t){return new s(t)},toString:function(){return this.fragments.join("")}},o}(P,en,on,He,w),Ln=function(t){var e=function(e){this.type=t.TEXT,this.text=e};return e.prototype={toString:function(){return this.text},reassign:function(){},teardown:function(){}},e}(P),In=function(t,e){return function(){var n,i,r,o,s,a,u;if(!this.argsList||this.dirty){if(n={},i=0,o=this.root._guid,u=function(t){return t.map(function(t){var e,r,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return u(t.items)}).join(""):(e=o+"-"+i++,s=(r=t.root._wrapped[t.keypath])?r.value:t.value,n[e]=s,"${"+e+"}")}).join("")},r=u(this.items),a=e("["+r+"]",n))this.argsList=a.value;else{if(s="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(s);t(s),this.argsList=[r]}this.dirty=!1}return this.argsList}}(X,An),Mn=function(t,e,n,i,r,o,s,a){var u=function(t){n.init(this,t)};return u.prototype={reassign:n.reassign,createItem:function(e){if("string"==typeof e.descriptor)return new o(e.descriptor);switch(e.descriptor.t){case t.INTERPOLATOR:return new i(e);case t.TRIPLE:return new i(e);case t.SECTION:return new r(e);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var e;return 1===this.items.length&&this.items[0].type===t.INTERPOLATOR&&(e=this.items[0].value,void 0!==e)?e:this.toString()},isSimple:function(){var e,n,i;if(void 0!==this.simple)return this.simple;for(e=this.items.length;e--;)if(n=this.items[e],n.type!==t.TEXT){if(n.type!==t.INTERPOLATOR)return this.simple=!1;if(i)return!1;i=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var t,n=this.getValue();return"string"==typeof n&&(t=e(n),n=t?t.value:n),n},toArgsList:s},a.StringFragment=u,u}(P,An,Be,Cn,Fn,Ln,In,w),Pn=function(t,e,n,i,r,o,s,a,u){var h=function(t){return this.type=e.ATTRIBUTE,this.element=t.element,n(this,t.name),null===t.value||"string"==typeof t.value?void i(this,t):(this.root=t.root,this.pNode=t.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new u({descriptor:t.value,root:this.root,owner:this}),this.interpolator=o(this),void(this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),r(this,t),this.selfUpdating=this.fragment.isSimple(),this.ready=!0)))};return h.prototype={bind:s,update:a,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},reassign:function(t,e,n,i){this.fragment&&(this.fragment.reassign(t,e,n,i),this.twoway&&this.updateBindings())},teardown:function(){var t;if(this.boundEvents)for(t=this.boundEvents.length;t--;)this.pNode.removeEventListener(this.boundEvents[t],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},toString:function(){var t,e;if(null===this.value)return this.name;if("value"!==this.name||"select"!==this.element.lcName)return"name"===this.name&&"input"===this.element.lcName&&(e=this.interpolator)?"name={{"+(e.keypath||e.ref)+"}}":this.fragment?(t=this.fragment.toString(),this.name+"="+JSON.stringify(t)):this.name+"="+JSON.stringify(this.value)}},h}(R,P,dn,ln,gn,vn,yn,wn,Mn),jn=function(t){return function(e,n,i){var r=new t({element:e,name:n,value:i,root:e.root,pNode:e.node});e.attributes.push(e.attributes[n]=r),"name"!==n&&r.update()}}(Pn),Dn=function(t){return function(e,n){var i;e.attributes=[];for(i in n)n.hasOwnProperty(i)&&t(e,i,n[i]);return e.attributes}}(jn),Un=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},Bn=function(t){return function(e,n){return e.matchingStaticNodes[n]||(e.matchingStaticNodes[n]=t(e.node.querySelectorAll(n))),e.matchingStaticNodes[n]}}(Un),Qn=function(t,e,n,i,r){function o(t){var e,n,r,o,s,a,u;r=t.node,e=t.root;do for(n=e._liveQueries,u=n.length;u--;)o=n[u],s=n[o],a=i(t,o),s.push.apply(s,a);while(e=e._parent)}var s,a,u;return r.push(function(){s=r.DomFragment}),a=function(){var t=this.node,e=this.fragment.toString();t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},u=function(){this.node.type&&"text/javascript"!==this.node.type||t("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString()},function(t,i,r,h){return"script"===t.lcName||"style"===t.lcName?(t.fragment=new n({descriptor:r.f,root:t.root,owner:t}),void(h&&("script"===t.lcName?(t.bubble=u,t.node.text=t.fragment.toString()):(t.bubble=a,t.bubble())))):void("string"!=typeof r.f||i&&i.namespaceURI&&i.namespaceURI!==e.html?(t.fragment=new s({descriptor:r.f,root:t.root,pNode:i,owner:t,pElement:t}),h&&i.appendChild(t.fragment.docFrag)):(t.html=r.f,h&&(i.innerHTML=t.html,t.matchingStaticNodes={},o(t))))}}(X,o,Mn,Bn,w),qn=function(t,e){var n=function(n,i,r){var o,s,a,u=this;if(u.root=i,u.node=r.node,o=n.n||n,"string"!=typeof o&&(s=new e({descriptor:o,root:i,owner:r}),o=s.toString(),s.teardown()),n.a?u.params=n.a:n.d&&(u.fragment=new e({descriptor:n.d,root:i,owner:r}),u.params=u.fragment.toArgsList(),u.fragment.bubble=function(){this.dirty=!0,u.params=this.toArgsList(),u.ready&&u.update()}),u.fn=i.decorators[o],!u.fn){if(a='Missing "'+o+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators',i.debug)throw new Error(a);t(a)}};return n.prototype={init:function(){var t,e;if(this.params?(e=[this.node].concat(this.params),t=this.fn.apply(this.root,e)):t=this.fn.call(this.root,this.node),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.teardown()}},n}(X,Mn),Vn=function(t,e){return function(n,i,r){var o=new e(n,i,r);o.fn&&(r.decorator=o,t.addDecorator(r.decorator))}}(R,qn),Hn=function(t,e){var n,i,r,o,s,a,u,h,c;return n=function(t,e,n,r){var o,s;o=t.node._ractive.events,s=o[e]||(o[e]=new i(t,e,r)),s.add(n)},i=function(e,n){var i;this.element=e,this.root=e.root,this.node=e.node,this.name=n,this.proxies=[],(i=this.root.events[n])?this.custom=i(this.node,c(n)):("on"+n in this.node||t('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),this.node.addEventListener(n,h,!1))},i.prototype={add:function(t){this.proxies.push(new r(this.element,this.root,t))},teardown:function(){var t;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,h,!1),t=this.proxies.length;t--;)this.proxies[t].teardown()},fire:function(t){for(var e=this.proxies.length;e--;)this.proxies[e].fire(t)}},r=function(t,n,i){var r;return this.root=n,r=i.n||i,this.n="string"==typeof r?r:new e({descriptor:i.n,root:this.root,owner:t}),i.a?(this.a=i.a,void(this.fire=s)):i.d?(this.d=new e({descriptor:i.d,root:this.root,owner:t}),void(this.fire=a)):void(this.fire=o)},r.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},o=function(t){this.root.fire(this.n.toString(),t)},s=function(t){this.root.fire.apply(this.root,[this.n.toString(),t].concat(this.a))},a=function(t){var e=this.d.toArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.n.toString(),t].concat(e))},h=function(t){var e=this._ractive;e.events[t.type].fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},u={},c=function(t){return u[t]?u[t]:u[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}},n}(X,Mn),Wn=function(t){return function(e,n){var i,r,o;for(r in n)if(n.hasOwnProperty(r))for(o=r.split("-"),i=o.length;i--;)t(e,o[i],n[r])}}(Hn),$n=function(t){var e,n,i,r,o;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],o=n[r],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)},Kn=function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))},Gn=function(t,e,n){var i,r;if(t)return i={},r=n("div").style,function(t){var n,o,s;if(!i[t])if(void 0!==r[t])i[t]=t;else for(s=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(o=e[n],void 0!==r[o+s]){i[t]=o+s;break}return i[t]}}(a,v,s),Jn=function(t,e,n,i){var r;if(e)return r=window.getComputedStyle||t.getComputedStyle,function(t){var e,r,o,s,a;if(e=window.getComputedStyle(this.node),"string"==typeof t)return a=e[i(t)],"0px"===a&&(a=0),a;if(!n(t))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(r={},o=t.length;o--;)s=t[o],a=e[i(s)],"0px"===a&&(a=0),r[s]=a;return r}}(n,a,C,Gn),zn=function(t){return function(e,n){var i;if("string"==typeof e)this.node.style[t(e)]=n;else for(i in e)e.hasOwnProperty(i)&&(this.node.style[t(i)]=e[i]);return this}}(Gn),Yn=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},Xn=function(t,e,n){function i(t){return t}var r=function(r){var o;this.duration=r.duration,this.step=r.step,this.complete=r.complete,"string"==typeof r.easing?(o=r.root.easing[r.easing],o||(t('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]'),o=i)):o="function"==typeof r.easing?r.easing:i,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return r.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},r}(X,y,A),Zn=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(v),ti=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(v),ei=function(t,e,n,i,r,o,s,a,u){var h,c,f,p,d,l,g,v={},m={};if(t)return h=n("div").style,function(){void 0!==h.transition?(c="transition",f="transitionend",p=!0):void 0!==h.webkitTransition?(c="webkitTransition",f="webkitTransitionEnd",p=!0):p=!1}(),c&&(d=c+"Duration",l=c+"Property",g=c+"TimingFunction"),function(t,n,h,c,p,y){setTimeout(function(){var w,b,_,x;x=function(){b&&_&&y()},w=t.node.namespaceURI+t.node.tagName,t.node.style[l]=c.map(s).map(u).join(","),t.node.style[g]=u(h.easing||"linear"),t.node.style[d]=h.duration/1e3+"s",p=function(e){var n;n=c.indexOf(i(a(e.propertyName))),-1!==n&&c.splice(n,1),c.length||(t.root.fire(t.name+":end"),t.node.removeEventListener(f,p,!1),_=!0,x())},t.node.addEventListener(f,p,!1),setTimeout(function(){for(var a,u,d,l,g=c.length,y=[];g--;)l=c[g],a=w+l,v[a]?t.node.style[s(l)]=n[l]:u=t.getStyle(l),void 0===v[a]&&(t.node.style[s(l)]=n[l],v[a]=t.getStyle(l)!=n[l],m[a]=!v[a]),m[a]&&(d=c.indexOf(l),-1===d?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):c.splice(d,1),t.node.style[s(l)]=u,y.push({name:s(l),interpolator:r(u,n[l])}));y.length?new o({root:t.root,duration:h.duration,easing:i(h.easing),step:function(e){var n,i;for(i=y.length;i--;)n=y[i],t.node.style[n.name]=n.interpolator(e)},complete:function(){b=!0,x()}}):b=!0,c.length||(t.node.removeEventListener(f,p,!1),_=!0,x())},0)},h.delay||0)}}(a,X,s,Yn,ee,Xn,Gn,Zn,ti),ni=function(t,e,n,i,r,o){var s;if(e)return s=window.getComputedStyle||t.getComputedStyle,function(t,e,s,a){var u,h=this;"string"==typeof t?(u={},u[t]=e):(u=t,a=s,s=e),s||(n('The "'+h.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=h,a=h.complete);var c=new i(function(t){var e,n,i,a,c,f,p,d;if(!s.duration)return h.setStyle(u),void t();for(e=Object.keys(u),n=[],i=window.getComputedStyle(h.node),c={},p=e.length;p--;)d=e[p],a=i[r(d)],"0px"===a&&(a=0),a!=u[d]&&(n.push(d),h.node.style[r(d)]=a);return n.length?void o(h,u,s,n,f,t):void t()});return a&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),c.then(a)),c}}(n,a,X,l,Gn,ei),ii=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},ri=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(ii),oi=function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))},si=function(t,e,n,i,r,o,s,a){var u;return u=function(n,i,r,o){var s,a,u,h=this;if(this.root=i,this.node=r.node,this.isIntro=o,this.originalStyle=this.node.getAttribute("style"),h.complete=function(t){!t&&h.isIntro&&h.resetStyle(),h.node._ractive.transition=null,h._manager.remove(h)},s=n.n||n,"string"!=typeof s&&(a=new e({descriptor:s,root:this.root,owner:r}),s=a.toString(),a.teardown()),this.name=s,n.a?this.params=n.a:n.d&&(a=new e({descriptor:n.d,root:this.root,owner:r}),this.params=a.toArgsList(),a.teardown()),this._fn=i.transitions[s],!this._fn){if(u='Missing "'+s+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions',i.debug)throw new Error(u);return void t(u)}},u.prototype={init:n,getStyle:i,setStyle:r,animateStyle:o,processParams:s,resetStyle:a},u}(X,Mn,Kn,Jn,zn,ni,ri,oi),ai=function(t,e){return function(n,i,r,o){var s,a,u;!i.transitionsEnabled||i._parent&&!i._parent.transitionsEnabled||(s=new e(n,i,r,o),s._fn&&(a=s.node,(u=a._ractive.transition)&&u.complete(),a._ractive.transition=s,t.addTransition(s)))}}(R,si),ui=function(t,e,n,i,r,o,s,a,u,h,c,f,p,d,l,g,v){function m(t){do if("select"===t.lcName)return t;while(t=t.parent)}return function(y,w,b){var _,x,E,k,N,T,S,O,R,A,C,F;if(y.type=e.ELEMENT,_=y.parentFragment=w.parentFragment,x=_.pNode,E=y.descriptor=w.descriptor,y.parent=w.pElement,y.root=A=_.root,y.index=w.index,y.lcName=E.e.toLowerCase(),y.eventListeners=[],y.customEventListeners=[],y.cssDetachQueue=[],x&&(k=y.namespace=u(E,x),N=k!==n.html?v(E.e):E.e,y.node=s(N,k),A.css&&x===A.el&&y.node.setAttribute("data-rvcguid",A.constructor._guid||A._guid),r(y.node,"_ractive",{value:{proxy:y,keypath:a(_),index:_.indexRefs,events:i(null),root:A}})),T=c(y,E.a),E.f){if(y.node&&y.node.getAttribute("contenteditable")&&y.node.innerHTML){if(F="A pre-populated contenteditable element should not have children",A.debug)throw new Error(F);o(F)}f(y,y.node,E,b)}b&&E.v&&d(y,E.v),b&&(A.twoway&&(y.bind(),y.node.getAttribute("contenteditable")&&y.node._ractive.binding&&y.node._ractive.binding.update()),T.name&&!T.name.twoway&&T.name.update(),"IMG"===y.node.tagName&&((S=y.attributes.width)||(O=y.attributes.height))&&y.node.addEventListener("load",R=function(){S&&(y.node.width=S.value),O&&(y.node.height=O.value),y.node.removeEventListener("load",R,!1)},!1),b.appendChild(y.node),E.o&&p(E.o,A,y),E.t1&&g(E.t1,A,y,!0),"OPTION"===y.node.tagName&&("SELECT"===x.tagName&&(C=x._ractive.binding)&&C.deferUpdate(),T.value||h(y,"value",E.f),y.node._ractive.value==x._ractive.value&&(y.node.selected=!0)),y.node.autofocus&&t.focus(y.node)),"option"===y.lcName&&(y.select=m(y.parent)),l(y)}}(R,P,o,Le,u,X,s,k,fn,jn,Dn,Qn,Vn,Wn,$n,ai,pn),hi=function(t,e){function n(t){var e,n,i,r,o;for(r=t.liveQueries.length;r--;)if(e=t.liveQueries[r],n=e.selector,e._remove(t.node),t.matchingStaticNodes&&(i=t.matchingStaticNodes[n]))for(o=i.length;o--;)e.remove(i[o])}return function(i){var r,o,s;for(i&&(this.willDetach=!0,t.detachWhenReady(this)),this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(r in this.node._ractive.events)this.node._ractive.events[r].teardown();(o=this.node._ractive.binding)&&(o.teardown(),s=this.root._twowayBindings[o.attr.keypath],s.splice(s.indexOf(o),1))}this.decorator&&this.decorator.teardown(),this.descriptor.t2&&e(this.descriptor.t2,this.root,this,!1),this.liveQueries&&n(this)}}(R,ai),ci=function(t){return function(e,n,i,r){var o,s,a,u,h,c,f,p,d;for(o=this.attributes.length;o--;)this.attributes[o].reassign(e,n,i,r);if(s=this.node._ractive){t(s,"keypath",i,r),void 0!=e&&(s.index[e]=n);for(a in s.events)for(u=s.events[a].proxies,o=u.length;o--;)h=u[o],"object"==typeof h.n&&h.a.reassign(e,n,i,r),h.d&&h.d.reassign(e,n,i,r);(c=s.binding)&&c.keypath.substr(0,i.length)===i&&(f=s.root._twowayBindings[c.keypath],f.splice(f.indexOf(c),1),c.keypath=c.keypath.replace(i,r),f=s.root._twowayBindings[c.keypath]||(s.root._twowayBindings[c.keypath]=[]),f.push(c))}if(this.fragment&&this.fragment.reassign(e,n,i,r),p=this.liveQueries)for(d=this.root,o=p.length;o--;)p[o]._makeDirty()}}(De),fi="area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" "),pi=function(t,e){function n(t){var n,i,r,o,s;if(n=t.attributes.value.value,i=t.select.attributes.value,r=i.interpolator){if(o=t.root.get(r.keypath||r.ref),o==n)return!0;if(t.select.attributes.multiple&&e(o))for(s=o.length;s--;)if(o[s]==n)return!0}}function i(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}return function(){var e,r,o,s;for(e="<"+(this.descriptor.y?"!doctype":this.descriptor.e),o=this.attributes.length,r=0;o>r;r+=1)(s=this.attributes[r].toString())&&(e+=" "+s);return"option"===this.lcName&&n(this)&&(e+=" selected"),"input"===this.lcName&&i(this)&&(e+=" checked"),e+=">",this.html?e+=this.html:this.fragment&&(e+=this.fragment.toString()),-1===t.indexOf(this.descriptor.e)&&(e+="</"+this.descriptor.e+">"),this.stringifying=!1,e}}(fi,C),di=function(t){return function(e){var n;return t(this.node,e)?this.node:this.html&&(n=this.node.querySelector(e))?n:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(se),li=function(t){return function(e,n){var i,r;n._test(this,!0)&&n.live&&(this.liveQueries||(this.liveQueries=[])).push(n),this.html&&(i=t(this,e),n.push.apply(n,i),n.live&&!r&&(this.liveQueries||(this.liveQueries=[])).push(n)),this.fragment&&this.fragment.findAll(e,n)}}(Bn),gi=function(t){return this.fragment?this.fragment.findComponent(t):void 0},vi=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},mi=function(){var t=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&t.value&&t.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return void(t.value&&t.value.bind());case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}},yi=function(t,e,n,i,r,o,s,a,u,h,c){var f=function(t,e){n(this,t,e)};return f.prototype={detach:function(){var n;if(this.node)return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node;if(this.cssDetachQueue.length){for(t.start();n===this.cssDetachQueue.pop();)e.remove(n);t.end()}},teardown:i,reassign:r,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:o,find:s,findAll:a,findComponent:u,findAllComponents:h,bind:c},f}(R,_,ui,hi,ci,pi,di,li,gi,vi,mi),wi={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},bi={},_i=void 0,xi=function(){function t(t,e){var i=n.exec(e)[0];return null===t||i.length<t.length?i:t}var e=/^\s*$/,n=/^\s*/;return function(n){var i,r,o,s;return i=n.split("\n"),r=i[0],void 0!==r&&e.test(r)&&i.shift(),o=i[i.length-1],void 0!==o&&e.test(o)&&i.pop(),s=i.reduce(t,null),s&&(n=i.map(function(t){return t.replace(s,"")}).join("\n")),n}}(),Ei=function(t,e,n,i,r,o,s){var a,u,h,c;return a=function(i,a){var f,p,d;if(p=h(i,a))return p;if(e&&(f=document.getElementById(a),f&&"SCRIPT"===f.tagName)){if(!o)throw new Error(t.missingParser);u(o(s(f.text),i.parseOptions),a,r)}if(p=r[a],!p){if(d='Could not find descriptor for partial "'+a+'"',i.debug)throw new Error(d);return n(d),[]}return c(p)},h=function(e,n){var i;if(e.partials[n]){if("string"==typeof e.partials[n]){if(!o)throw new Error(t.missingParser);i=o(e.partials[n],e.parseOptions),u(i,n,e.partials)}return c(e.partials[n])}},u=function(t,e,n){var r;if(i(t)){n[e]=t.main;for(r in t.partials)t.partials.hasOwnProperty(r)&&(n[r]=t.partials[r])}else n[e]=t},c=function(t){return 1===t.length&&"string"==typeof t[0]?t[0]:t},a}(wi,a,X,Z,bi,_i,xi),ki=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Ni=function(t,e,n,i){var r,o;return i.push(function(){o=i.DomFragment}),r=function(n,i){var r,s=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.descriptor.r,this.index=n.index,!n.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");r=e(s.root,n.descriptor.r),this.fragment=new o({descriptor:r,root:s.root,pNode:s.pNode,owner:this}),i&&i.appendChild(this.fragment.docFrag)},r.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},reassign:function(t,e,n,i){return this.fragment.reassign(t,e,n,i)},teardown:function(t){this.fragment.teardown(t)},toString:function(){var e,i,r,o;return e=this.fragment.toString(),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(r=i.descriptor.split("\n").pop(),(o=/^\s+$/.exec(r))?n(e,o[0]):e):e},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)}},r}(P,Ei,ki,w),Ti=function(t,e){var n=function(t,n,i){this.parentFragment=t.parentFragment,this.component=t,this.key=n,this.fragment=new e({descriptor:i,root:t.root,owner:this}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return n.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},update:function(){var t=this.fragment.getValue();this.component.instance.set(this.key,t),this.value=t},teardown:function(){this.fragment.teardown()}},n}(R,Mn),Si=function(t,e,n,i,r){function o(o,s,a,u){var h,c,f,p,d,l;return f=o.root,p=o.parentFragment,"string"==typeof a?(c=e(a),c?c.value:a):null===a?!0:1===a.length&&a[0].t===t.INTERPOLATOR&&a[0].r?p.indexRefs&&void 0!==p.indexRefs[l=a[0].r]?(o.indexRefBindings[l]=s,p.indexRefs[l]):(d=n(f,a[0].r,p)||a[0].r,u.push({childKeypath:s,parentKeypath:d}),i(f,d)):(h=new r(o,s,a),o.complexParameters.push(h),h.value)}return function(t,e,n,i){var r,s,a;r={},t.complexParameters=[];for(s in n)n.hasOwnProperty(s)&&(a=o(t,s,n[s],i),(void 0!==a||void 0===e[s])&&(r[s]=a));return r}}(P,An,N,Y,Ti),Oi=function(){function t(t,e){var n,i,r;if(n=t.adapt.length?t.adapt.map(function(e){return"object"==typeof e?e:t.adaptors[e]||e}):[],i=e.length)for(r=0;i>r;r+=1)-1===n.indexOf(e[r])&&n.push(e[r]);return n}return function(e,n,i,r,o){var s,a,u,h,c;return a=e.parentFragment,h=e.root,u={content:o||[]},c=t(h,n.defaults.adapt,n.adaptors),s=new n({el:a.pNode,append:!0,data:i,partials:u,magic:h.magic||n.defaults.magic,modifyArrays:h.modifyArrays,_parent:h,_component:e,adapt:c}),r&&(s.insert(r),s.fragment.pNode=s.el=a.pNode),s}}(),Ri=function(t,e,n){return function(i,r){r.forEach(function(r){var o,s;t(i,i.root,r.parentKeypath,r.childKeypath),o=e(i.instance,r.childKeypath),s=e(i.root,r.parentKeypath),void 0!==o&&void 0===s&&n(i.root,r.parentKeypath,o)})}}(G,Y,U),Ai=function(t){function e(e,i,r,o){if("string"!=typeof o){if(i.debug)throw new Error(n);return void t(n)}e.on(r,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),i.fire.apply(i,t)})}var n="Components currently only support simple events - you cannot include arguments. Sorry!";return function(t,n){var i;for(i in n)n.hasOwnProperty(i)&&e(t.instance,t.root,i,n[i])}}(X),Ci=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries[t.name])&&n.push(t.instance),e=e._parent},Fi=function(t,e,n,i,r,o,s){return function(a,u,h){var c,f,p,d,l;if(c=a.parentFragment=u.parentFragment,f=c.root,a.root=f,a.type=t.COMPONENT,a.name=u.descriptor.e,a.index=u.index,a.indexRefBindings={},a.bindings=[],p=f.components[u.descriptor.e],!p)throw new Error('Component "'+u.descriptor.e+'" not found');l=[],d=n(a,p.data||{},u.descriptor.a,l),i(a,p,d,h,u.descriptor.f),r(a,l),o(a,u.descriptor.v),(u.descriptor.t1||u.descriptor.t2||u.descriptor.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),s(a)}}(P,X,Si,Oi,Ri,Ai,Ci),Li=function(t,e){function n(t){var e,n;e=t.root;do(n=e._liveComponentQueries[t.name])&&n._remove(t);while(e=e._parent)}var i=function(e,n){t(this,e,n)};return i.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(t){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();n(this),this.shouldDestroy=t,this.instance.teardown()},reassign:function(t,n,i,r){var o,s,a=this.instance,u=a._parent;this.bindings.forEach(function(o){var s;o.root===u&&(o.keypath===t&&a.set(o.otherKeypath,n),(s=e(o.keypath,i,r))&&o.reassign(s))}),(o=this.indexRefBindings[t])&&a.set(o,n),(s=this.root._liveComponentQueries[this.name])&&s._makeDirty()},toString:function(){return this.instance.fragment.toString()},find:function(t){return this.instance.fragment.find(t)},findAll:function(t,e){return this.instance.fragment.findAll(t,e)},findComponent:function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},findAllComponents:function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}},i}(Fi,je),Ii=function(t,e){var n=function(e,n){this.type=t.COMMENT,this.descriptor=e.descriptor,n&&(this.node=document.createComment(e.descriptor.f),n.appendChild(this.node))};return n.prototype={detach:e,teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},n}(P,qe),Mi=function(t,e,n,i,r,o,s,a,u,h,c,f,p){var d=function(t){t.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof t.descriptor?(this.html=t.descriptor,this.docFrag&&(this.nodes=i(this.html,t.pNode.tagName,t.pNode.namespaceURI,this.docFrag))):n.init(this,t)};return d.prototype={reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){if(this.nodes)for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);else if(this.items)for(t=this.items.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.items[e].detach());return this.docFrag}},createItem:function(e){if("string"==typeof e.descriptor)return new r(e,this.docFrag);switch(e.descriptor.t){case t.INTERPOLATOR:return new o(e,this.docFrag);case t.SECTION:return new s(e,this.docFrag);case t.TRIPLE:return new a(e,this.docFrag);case t.ELEMENT:return this.root.components[e.descriptor.e]?new c(e,this.docFrag):new u(e,this.docFrag);case t.PARTIAL:return new h(e,this.docFrag);case t.COMMENT:return new f(e,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(t){var e;if(this.nodes&&t)for(;e=this.nodes.pop();)e.parentNode.removeChild(e);else if(this.items)for(;this.items.length;)this.items.pop().teardown(t);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var t,e,n,i;if(this.html)return this.html;if(t="",!this.items)return t;for(n=this.items.length,e=0;n>e;e+=1)i=this.items[e],t+=i.toString();return t},find:function(t){var n,i,r,o,s;if(this.nodes){for(i=this.nodes.length,n=0;i>n;n+=1)if(o=this.nodes[n],1===o.nodeType){if(e(o,t))return o;if(s=o.querySelector(t))return s}return null}if(this.items){for(i=this.items.length,n=0;i>n;n+=1)if(r=this.items[n],r.find&&(s=r.find(t)))return s;return null}},findAll:function(t,n){var i,r,o,s,a,u,h;if(this.nodes){for(r=this.nodes.length,i=0;r>i;i+=1)if(s=this.nodes[i],1===s.nodeType&&(e(s,t)&&n.push(s),a=s.querySelectorAll(t)))for(u=a.length,h=0;u>h;h+=1)n.push(a[h])}else if(this.items)for(r=this.items.length,i=0;r>i;i+=1)o=this.items[i],o.findAll&&o.findAll(t,n);return n},findComponent:function(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}},findAllComponents:function(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}},p.DomFragment=d,d}(P,se,Be,Qe,Ve,nn,hn,cn,yi,Ni,Li,Ii,w),Pi=function(t,e,n){function i(t){for(var e;e=t._childInitQueue.pop();)e.instance.init&&e.instance.init(e.options),i(e.instance)
}return function(r,o){if(this._rendering=!0,t.start(this,o),!this._initing)throw new Error("You cannot call ractive.render() directly!");this.constructor.css&&e.add(this.constructor),this.fragment=new n({descriptor:this.template,root:this,owner:this,pNode:r}),r&&r.appendChild(this.fragment.docFrag),this._parent&&this._parent._rendering||i(this),delete this._rendering,t.end()}}(R,_,Mi),ji=function(t){return function(){return t("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(X),Di=function(t,e,n,i){return function(r,o){var s,a,u;if("function"==typeof r?(o=r,r={}):r=r||{},"object"!=typeof r)throw new Error("The reset method takes either no arguments, or an object containing new data");return s=new t(function(t){a=t}),o&&s.then(o),e.start(this,a),(u=this._wrapped[""])&&u.reset?u.reset(r)===!1&&(this.data=r):this.data=r,n(this,""),i(this,""),e.end(),this.fire("reset",r),s}}(l,R,j,S),Ui=function(t,e,n,i,r){return function(o,s,a){var u,h,c;if(h=new i(function(t){c=t}),t.start(this,c),e(o)){u=o,a=s;for(o in u)u.hasOwnProperty(o)&&(s=u[o],o=n(o),r(this,o,s))}else o=n(o),r(this,o,s);return t.end(),a&&h.then(a.bind(this)),h}}(R,Z,g,l,U),Bi=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(f),Qi=function(t,e,n,i,r){return function(o){var s,a,u,h,c,f,p,d;if(this.fire("teardown"),h=!this.component||this.component.shouldDestroy,this.constructor.css)if(h)c=o,o=function(){c&&c.call(this),e.remove(this.constructor)};else{f=this.component.parentFragment;do f.owner.type===t.ELEMENT&&f.owner.willDetach&&(p=f.owner);while(!p&&(f=f.parent));if(!p)throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!");p.cssDetachQueue.push(this.constructor)}for(a=new i(function(t){u=t}),n.start(this,u),this.fragment.teardown(h);this._animations[0];)this._animations[0].stop();for(s in this._cache)r(this,s);for(;d=this._unresolvedImplicitDependencies.pop();)d.teardown();return n.end(),o&&a.then(o.bind(this)),a}}(P,_,R,l,j),qi=function(){return this.fragment.toString()},Vi=function(t,e){var n;{if("string"==typeof t)return n=this.get(t),this.set(t,!n,e);if(this.debug)throw new Error("Bad arguments")}},Hi=function(t,e,n,i){return function(r,o){var s,a;return"function"==typeof r?(o=r,r=""):r=r||"",s=new e(function(t){a=t}),t.start(this,a),n(this,r),i(this,r),t.end(),this.fire("update",r),o&&s.then(o.bind(this)),s}}(R,l,j,S),Wi=function(t,e,n){function i(t,r,o,s,a){var u,h,c,f,p,d;if(u=t._twowayBindings[r])for(c=u.length;c--;)f=u[c],(!f.radioName||f.node.checked)&&(f.checkboxName?f.changed()&&s[r]!==!0&&(s[r]=!0,s.push(r)):(p=f.attr.value,d=f.value(),e(p,d)||n(p,d)||(o[r]=d)));if(a&&(h=t._depsMap[r]))for(c=h.length;c--;)i(t,h[c],o,s,a)}return function(e,n){var r,o,s;if("string"!=typeof e&&(e="",n=!0),i(this,e,r={},o=[],n),s=o.length)for(;s--;)e=o[s],r[e]=t(this,e);this.set(r)}}(x,mn,d),$i=function(t,e,n,i,r,o,s,a,u,h,c,f,p,d,l,g,v,m,y,w,b,_,x,E){return{add:t,animate:e,detach:n,find:i,findAll:r,findAllComponents:o,findComponent:s,fire:a,get:u,insert:h,merge:c,observe:f,off:p,on:d,render:l,renderHTML:g,reset:v,set:m,subtract:y,teardown:w,toHTML:b,toggle:_,update:x,updateModel:E}}(p,ie,re,oe,ge,ve,me,ye,be,xe,Ne,Ae,Ce,Fe,Pi,ji,Di,Ui,Bi,Qi,qi,Vi,Hi,Wi),Ki={},Gi={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},Ji=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},zi=function(t){for(var e,n,i=Array.prototype.slice.call(arguments,1);n=i.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},Yi=["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"],Xi=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,i=/\/\*.*?\*\//g,r=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(o,s){var a,u;return u=function(t){var n,i,o,a,u,h,c,f,p=[];for(n=[];i=r.exec(t);)n.push({str:i[0],base:i[1],modifiers:i[2]});for(a='[data-rvcguid="'+s+'"]',u=n.map(e),f=n.length;f--;)c=u.slice(),o=n[f],c[f]=o.base+a+o.modifiers||"",h=u.slice(),h[f]=a+" "+h[f],p.push(c.join(" "),h.join(" "));return p.join(", ")},a=o.replace(i,"").replace(n,function(e,n){var i,r;return i=n.split(",").map(t),r=i.map(u).join(", ")+" ",e.replace(n,r)})}}(),Zi=function(t,e,n,i){return function(r,o){t.forEach(function(t){o[t]&&(r[t]=e(o[t]))}),n(r,"defaults",{value:e(o.defaults)}),o.css&&n(r,"css",{value:o.defaults.noCssTransform?o.css:i(o.css,r._guid)})}}(Yi,Le,u,Xi),tr=function(t,e){return/_super/.test(t)?function(){var n,i=this._super;return this._super=e,n=t.apply(this,arguments),this._super=i,n}:t},er=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},nr=function(t,e,n,i,r,o){var s={};return e.concat(t.keys).forEach(function(t){s[t]=!0}),function(a,u){var h,c;e.forEach(function(t){var e=u[t];e&&(a[t]?r(a[t],e):a[t]=e)}),t.keys.forEach(function(t){var e=u[t];void 0!==e&&(a.defaults[t]="function"==typeof e&&"function"==typeof a[t]?i(e,a[t]):u[t])});for(h in u)!s[h]&&u.hasOwnProperty(h)&&(c=u[h],a.prototype[h]="function"==typeof c&&"function"==typeof a.prototype[h]?i(c,a.prototype[h]):c);u.css&&n(a,"css",{value:a.defaults.noCssTransform?u.css:o(u.css,a._guid)})}}(i,Yi,u,tr,er,Xi),ir=function(t,e){return function(n,i){t(n.defaults.template)&&(n.partials||(n.partials={}),e(n.partials,n.defaults.template.partials),i.partials&&e(n.partials,i.partials),n.defaults.template=n.defaults.template.main)}}(Z,er),rr=function(t,e,n){return function(i){var r;if("string"==typeof i.defaults.template){if(!n)throw new Error(t.missingParser);if("#"===i.defaults.template.charAt(0)&&e){if(r=document.getElementById(i.defaults.template.substring(1)),!r||"SCRIPT"!==r.tagName)throw new Error("Could not find template element ("+i.defaults.template+")");i.defaults.template=n(r.innerHTML,i)}else i.defaults.template=n(i.defaults.template,i.defaults)}}}(wi,a,_i),or=function(t,e){return function(n){var i;if(n.partials)for(i in n.partials)if(n.partials.hasOwnProperty(i)&&"string"==typeof n.partials[i]){if(!e)throw new Error(t.missingParser);n.partials[i]=e(n.partials[i],n)}}}(wi,_i),sr=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),ar=function(t,e,n){var i=function(t,n){this.root=t.ractive,this.keypath=n,this.priority=0,this.computation=t,e(this)};return i.prototype={update:function(){var e;e=this.root.get(this.keypath),t(e,this.value)||this.computation.bubble()},teardown:function(){n(this)}},i}(d,$,K),ur=function(t,e,n,i){function r(t,e,n){var r,o,s;for(r=e.length;r--;)o=e[r],n[o.keypath]||(e.splice(r,1),e[o.keypath]=null,o.teardown());for(r=n.length;r--;)s=n[r],e[s]||(o=new i(t,s),e.push(e[s]=o))}var o=function(t,e,n){this.ractive=t,this.key=e,this.getter=n.get,this.setter=n.set,this.watchers=[],this.update()};return o.prototype={set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only in the current version");this.setter.call(this.ractive,t)},update:function(){var e,i,o,s;e=this.ractive,i=e._captured,i||(e._captured=[]);try{o=this.getter.call(e)}catch(a){e.debug&&t('Failed to compute "'+this.key+'": '+a.message||a),s=!0}r(this,this.watchers,e._captured),e._captured=i,s||(this.setting=!0,this.value=o,n(e,this.key,o),this.setting=!1),this.deferred=!1},bubble:function(){this.watchers.length<=1?this.update():this.deferred||(e.addComputation(this),this.deferred=!0)}},o}(X,R,U,ar),hr=function(t,e){return function(n,i){var r,o;for(r in i)o=t(i[r]),n._computations[r]=new e(n,r,o)}}(sr,ur),cr=function(t,e,n,i,r,o,s,a,u,h,c,f,p,d,l,g,v){var m=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(y,w){var b,_,x,E,k,N,T;if(f(w.adaptors)&&(r("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information"),w.adapt=w.adaptors,delete w.adaptors),b=y.constructor.defaults,n.keys.forEach(function(t){void 0===w[t]&&(w[t]=b[t])}),m.forEach(function(t){y[t]=w[t]}),"string"==typeof y.adapt&&(y.adapt=[y.adapt]),y.magic&&!l)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(u(y,{_initing:{value:!0,writable:!0},_guid:{value:p()},_subs:{value:o(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:o(null)},_deps:{value:[]},_depsMap:{value:o(null)},_patternObservers:{value:[]},_evaluators:{value:o(null)},_computations:{value:o(null)},_twowayBindings:{value:{}},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:o(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}}),w._parent&&w._component&&(u(y,{_parent:{value:w._parent},component:{value:w._component}}),w._component.instance=y),w.el&&(y.el=h(w.el),!y.el&&y.debug))throw new Error("Could not find container element");if(w.eventDefinitions&&(r("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),w.events=w.eventDefinitions),i.forEach(function(t){y.constructor[t]?y[t]=s(o(y.constructor[t]),w[t]):w[t]&&(y[t]=w[t])}),y.data||(y.data={}),T=b.computed?s(o(b.computed),w.computed):w.computed,T&&v(y,T),_=w.template,"string"==typeof _){if(!g)throw new Error(e.missingParser);if("#"===_.charAt(0)&&t){if(x=document.getElementById(_.substring(1)),!x)throw new Error("Could not find template element ("+_+")");E=g(x.innerHTML,w)}else E=g(_,w)}else E=_;c(E)&&(a(y.partials,E.partials),E=E.main),E&&1===E.length&&"string"==typeof E[0]&&(E=E[0]),y.template=E,s(y.partials,w.partials),y.parseOptions={preserveWhitespace:w.preserveWhitespace,sanitize:w.sanitize,stripComments:w.stripComments},y.transitionsEnabled=w.noIntro?!1:w.transitionsEnabled,t&&!y.el&&(y.el=document.createDocumentFragment()),y.el&&!w.append&&(y.el.innerHTML=""),k=new d(function(t){N=t}),y.render(y.el,N),w.complete&&k.then(w.complete.bind(y)),y.transitionsEnabled=w.transitionsEnabled,y._initing=!1}}(a,wi,i,Yi,X,Le,zi,ii,h,_e,Z,C,Ji,l,V,_i,hr),fr=function(t,e,n){return function(i,r,o){t.keys.forEach(function(t){var n=o[t],i=r.defaults[t];"function"==typeof n&&"function"==typeof i&&(o[t]=e(n,i))}),i.beforeInit&&i.beforeInit(o),n(i,o),o._parent&&o._parent._rendering?o._parent._childInitQueue.push({instance:i,options:o}):i.init&&i.init(o)}}(i,tr,cr),pr=function(t,e,n,i,r,o,s,a,u,h,c){var f;return c.push(function(){f=c.Ractive}),function(c){var p,d,l,g=this;if(c.prototype instanceof f&&(c=i({},c,c.prototype,c.defaults)),p=function(t){h(this,p,t||{})},p.prototype=t(g.prototype),p.prototype.constructor=p,e(p,{extend:{value:g.extend},_guid:{value:n()}}),r(p,g),o(p,c),p.adaptors&&(l=p.defaults.adapt.length))for(;l--;)d=p.defaults.adapt[l],"string"==typeof d&&(p.defaults.adapt[l]=p.adaptors[d]||d);return c.template&&(a(p),s(p,c),u(p)),p}}(Le,h,Ji,zi,Zi,nr,ir,rr,or,fr,w),dr=function(t,e,n,i,r,o,s,a,u,h,c,f,p,d){var l=function(t){p(this,t)};return l.prototype=i,n(l,{partials:{value:r},adaptors:{value:o},easing:{value:a},transitions:{value:{}},events:{value:{}},components:{value:s},decorators:{value:{}},interpolators:{value:u},defaults:{value:t.defaults},svg:{value:e},VERSION:{value:"0.4.0"}}),l.eventDefinitions=l.events,l.prototype.constructor=l,l.Promise=h,l.extend=c,l.parse=f,d.Ractive=l,l}(i,r,h,$i,bi,L,Ki,Gi,te,l,pr,_i,cr,w),lr=function(t,e){for(var n="function";e.length;)e.pop()();if(typeof Date.now!==n||typeof String.prototype.trim!==n||typeof Object.keys!==n||typeof Array.prototype.indexOf!==n||typeof Array.prototype.forEach!==n||typeof Array.prototype.map!==n||typeof Array.prototype.filter!==n||"undefined"!=typeof window&&typeof window.addEventListener!==n)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return"undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains),t}(dr,w,n);"undefined"!=typeof module&&module.exports?module.exports=lr:"function"==typeof define&&define.amd&&define(function(){return lr}),t.Ractive=lr,lr.noConflict=function(){return t.Ractive=e,lr}}("undefined"!=typeof window?window:this);
},{}],"9b+syo":[function(require,module,exports){
!function(){"use strict";var t="0.8.1",e=1;if(!Object.create)var n=function(){};var i=Array.prototype.slice,r={attributes:{},eventHandlers:{"-1":{}},guid:-1,addEvent:function(t){r.eventHandlers[t.guid][t.type]||(r.eventHandlers[t.guid][t.type]=[]),r.eventHandlers[t.guid][t.type].push({guid:t.guid,handler:t.handler,scope:t.scope,type:t.type})},addEventHandler:function(t,e,n){var i,a={};"string"==typeof t?(i=n||!1,a[t]=e):(i=e||!1,a=t);for(var s in a)for(var u=a[s],o=s.split(" "),l=0,c=o.length;c>l;l++){var d=o[l];r.addEvent.call(this,{guid:this._guid||this._.guid,handler:u,scope:i,type:d})}},addGuid:function(t,n){(!t._guid||n)&&(t._guid=e++,r.attributes[t._guid]={},r.eventHandlers[t._guid]={})},attr:function(t){return r.attributes[t]},clone:function(t){var e=r.typeOf(t);return"object"===e?r.extend({},t):"array"===e?t.slice(0):void 0},create:function(t){return Object.create?Object.create(t):(n.prototype=t,new n)},createSubclass:function(t,e){function n(){if(!(this instanceof n))throw new Error("Please use 'new' when initializing Stapes classes");this.on&&r.addGuid(this,!0),s.apply(this,arguments)}t=t||{},e=e||!1;var i=t.superclass.prototype,s=t.hasOwnProperty("constructor")?t.constructor:function(){};e&&r.extend(i,a),n.prototype=r.create(i),n.prototype.constructor=n,r.extend(n,{extend:function(){return r.extendThis.apply(this,arguments)},parent:i,proto:function(){return r.extendThis.apply(this.prototype,arguments)},subclass:function(t){return t=t||{},t.superclass=this,r.createSubclass(t)}});for(var u in t)"constructor"!==u&&"superclass"!==u&&(n.prototype[u]=t[u]);return n},emitEvents:function(t,e,n,a){n=n||!1,a=a||this._guid;for(var s=i.call(r.eventHandlers[a][t]),u=0,o=s.length;o>u;u++){var l=r.extend({},s[u]),c=l.scope?l.scope:this;n&&(l.type=n),l.scope=c,l.handler.call(l.scope,e,l)}},extend:function(){for(var t=i.call(arguments),e=t.shift(),n=0,r=t.length;r>n;n++){var a=t[n];for(var s in a)e[s]=a[s]}return e},extendThis:function(){var t=i.call(arguments);return t.unshift(this),r.extend.apply(this,t)},makeUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},removeAttribute:function(t,e){e=e||!1;for(var n=r.trim(t).split(" "),i={},a=0,s=n.length;s>a;a++){var u=r.trim(n[a]);u&&(i.key=u,i.oldValue=r.attr(this._guid)[u],delete r.attr(this._guid)[u],e||(this.emit("change",u),this.emit("change:"+u),this.emit("mutate",i),this.emit("mutate:"+u,i),this.emit("remove",u),this.emit("remove:"+u)),delete i.oldValue)}},removeEventHandler:function(t,e){var n=r.eventHandlers[this._guid];if(t&&e){if(n=n[t],!n)return;for(var i,a=0,s=n.length;s>a;a++)i=n[a].handler,i&&i===e&&(n.splice(a--,1),s--)}else t?delete n[t]:r.eventHandlers[this._guid]={}},setAttribute:function(t,e,n){n=n||!1;var i=this.has(t),a=r.attr(this._guid)[t];if(e!==a&&(r.attr(this._guid)[t]=e,!n)){this.emit("change",t),this.emit("change:"+t,e);var s={key:t,newValue:e,oldValue:a||null};this.emit("mutate",s),this.emit("mutate:"+t,s);var u=i?"update":"create";this.emit(u,t),this.emit(u+":"+t,e)}},trim:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},typeOf:function(t){return null===t||"undefined"==typeof t?String(t):Object.prototype.toString.call(t).replace(/\[object |\]/g,"").toLowerCase()},updateAttribute:function(t,e,n){var i=this.get(t),a=r.typeOf(i);("object"===a||"array"===a)&&(i=r.clone(i));var s=e.call(this,i,t);r.setAttribute.call(this,t,s,n||!1)}},a={emit:function(t,e){e="undefined"==typeof e?null:e;for(var n=t.split(" "),i=0,a=n.length;a>i;i++){var s=n[i];r.eventHandlers[-1].all&&r.emitEvents.call(this,"all",e,s,-1),r.eventHandlers[-1][s]&&r.emitEvents.call(this,s,e,s,-1),"number"==typeof this._guid&&(r.eventHandlers[this._guid].all&&r.emitEvents.call(this,"all",e,s),r.eventHandlers[this._guid][s]&&r.emitEvents.call(this,s,e))}},off:function(){r.removeEventHandler.apply(this,arguments)},on:function(){r.addEventHandler.apply(this,arguments)}};r.Module=function(){},r.Module.prototype={each:function(t,e){var n=r.attr(this._guid);for(var i in n){var a=n[i];t.call(e||this,a,i)}},extend:function(){return r.extendThis.apply(this,arguments)},filter:function(t){var e=[],n=r.attr(this._guid);for(var i in n)t.call(this,n[i],i)&&e.push(n[i]);return e},get:function(t){if("string"==typeof t){if(arguments.length>1){for(var e={},n=0,i=arguments.length;i>n;n++){var a=arguments[n];e[a]=this.get(a)}return e}return this.has(t)?r.attr(this._guid)[t]:null}if("function"==typeof t){var s=this.filter(t);return s.length?s[0]:null}},getAll:function(){return r.clone(r.attr(this._guid))},getAllAsArray:function(){var t=[],e=r.attr(this._guid);for(var n in e){var i=e[n];"object"!==r.typeOf(i)||i.id||(i.id=n),t.push(i)}return t},has:function(t){return"undefined"!=typeof r.attr(this._guid)[t]},map:function(t,e){var n=[];return this.each(function(i,r){n.push(t.call(e||this,i,r))},e||this),n},push:function(t,e){if("array"===r.typeOf(t))for(var n=0,i=t.length;i>n;n++)r.setAttribute.call(this,r.makeUuid(),t[n],e||!1);else r.setAttribute.call(this,r.makeUuid(),t,e||!1);return this},remove:function(t,e){return"undefined"==typeof t?(r.attributes[this._guid]={},this.emit("change remove")):"function"==typeof t?this.each(function(n,i){t(n)&&r.removeAttribute.call(this,i,e)}):r.removeAttribute.call(this,t,e||!1),this},set:function(t,e,n){if("object"==typeof t)for(var i in t)r.setAttribute.call(this,i,t[i],e||!1);else r.setAttribute.call(this,t,e,n||!1);return this},size:function(){var t=0,e=r.attr(this._guid);for(var n in e)t++;return t},update:function(t,e,n){return"string"==typeof t?r.updateAttribute.call(this,t,e,n||!1):"function"==typeof t&&this.each(function(e,n){r.updateAttribute.call(this,n,t)}),this}};var s={_:r,extend:function(){return r.extendThis.apply(r.Module.prototype,arguments)},mixinEvents:function(t){return t=t||{},r.addGuid(t),r.extend(t,a)},on:function(){r.addEventHandler.apply(this,arguments)},subclass:function(t,e){return e=e||!1,t=t||{},t.superclass=e?function(){}:r.Module,r.createSubclass(t,!e)},version:t};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports.Stapes=s):"function"==typeof define&&define.amd?define(function(){return s}):window.Stapes=s}();
},{}],"stapes":[function(require,module,exports){
module.exports=require('9b+syo');
},{}],"superagent":[function(require,module,exports){
module.exports=require('bBcoDq');
},{}],"bBcoDq":[function(require,module,exports){
function noop(){}function isHost(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function isObject(t){return t===Object(t)}function serialize(t){if(!isObject(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function parseString(t){for(var e,r,s={},i=t.split("&"),n=0,o=i.length;o>n;++n)r=i[n],e=r.split("="),s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return s}function parseHeader(t){var e,r,s,i,n=t.split(/\r?\n/),o={};n.pop();for(var u=0,a=n.length;a>u;++u)r=n[u],e=r.indexOf(":"),s=r.slice(0,e).toLowerCase(),i=trim(r.slice(e+1)),o[s]=i;return o}function type(t){return t.split(/ *; */).shift()}function params(t){return reduce(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),s=r.shift(),i=r.shift();return s&&i&&(t[s]=i),t},{})}function Response(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function Request(t,e){var r=this;Emitter.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new Response(r);"HEAD"==t&&(e.text=null),r.callback(null,e)})}function request(t,e){return"function"==typeof e?new Request("GET",t).end(e):1==arguments.length?new Request("GET",t):new Request(t,e)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this:window,trim="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(t){return this.header[t.toLowerCase()]},Response.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=type(t);var e=params(t);for(var r in e)this[r]=e[r]},Response.prototype.parseBody=function(t){var e=request.parse[this.type];return e?e(t):null},Response.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},Response.prototype.toError=function(){var t=this.req,e=t.method,r=t.path,s="cannot "+e+" "+r+" ("+this.status+")",i=new Error(s);return i.status=this.status,i.method=e,i.path=r,i},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(t){return t(this),this},Request.prototype.timeout=function(t){return this._timeout=t,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(t,e){if(isObject(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},Request.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},Request.prototype.type=function(t){return this.set("Content-Type",request.types[t]||t),this},Request.prototype.accept=function(t){return this.set("Accept",request.types[t]||t),this},Request.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},Request.prototype.query=function(t){return"string"!=typeof t&&(t=serialize(t)),t&&this._query.push(t),this},Request.prototype.send=function(t){var e=isObject(t),r=this.getHeader("Content-Type");if(e&&isObject(this._data))for(var s in t)this._data[s]=t[s];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(r||this.type("json"),this):this},Request.prototype.callback=function(t,e){var r=this._callback;return 2==r.length?r(t,e):t?this.emit("error",t):void r(e)},Request.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},Request.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(t){var e=this,r=this.xhr=getXHR(),s=this._query.join("&"),i=this._timeout,n=this._data;if(this._callback=t||noop,r.onreadystatechange=function(){return 4==r.readyState?0==r.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},r.upload&&(r.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),i&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},i)),s&&(s=request.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!isHost(n)){var o=request.serialize[this.getHeader("Content-Type")];o&&(n=o(n))}for(var u in this.header)null!=this.header[u]&&r.setRequestHeader(u,this.header[u]);return this.emit("request",this),r.send(n),this},request.Request=Request,request.get=function(t,e,r){var s=request("GET",t);return"function"==typeof e&&(r=e,e=null),e&&s.query(e),r&&s.end(r),s},request.head=function(t,e,r){var s=request("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.del=function(t,e){var r=request("DELETE",t);return e&&r.end(e),r},request.patch=function(t,e,r){var s=request("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.post=function(t,e,r){var s=request("POST",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.put=function(t,e,r){var s=request("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},module.exports=request;
},{"emitter":64,"reduce":65}],64:[function(require,module,exports){

/**
 * Expose `Emitter`.
 */

module.exports = Emitter;

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks[event] = this._callbacks[event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  var self = this;
  this._callbacks = this._callbacks || {};

  function on() {
    self.off(event, on);
    fn.apply(this, arguments);
  }

  fn._off = on;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks[event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks[event];
    return this;
  }

  // remove specific handler
  var i = callbacks.indexOf(fn._off || fn);
  if (~i) callbacks.splice(i, 1);
  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};
  var args = [].slice.call(arguments, 1)
    , callbacks = this._callbacks[event];

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks[event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};

},{}],65:[function(require,module,exports){

/**
 * Reduce `arr` with `fn`.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @param {Mixed} initial
 *
 * TODO: combatible error handling?
 */

module.exports = function(arr, fn, initial){  
  var idx = 0;
  var len = arr.length;
  var curr = arguments.length == 3
    ? initial
    : arr[idx++];

  while (idx < len) {
    curr = fn.call(null, curr, arr[idx], ++idx, arr);
  }
  
  return curr;
};
},{}],"ZKusGn":[function(require,module,exports){
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(t):k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);
},{}],"underscore":[function(require,module,exports){
module.exports=require('ZKusGn');
},{}],"Q76874":[function(require,module,exports){
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):e.simpleStorage=t()}(this,function(){"use strict";function e(){window.localStorage.setItem("__simpleStorageInitTest","tmpval"),window.localStorage.removeItem("__simpleStorageInitTest"),a(),_(),t(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&r()},!1),p=!0}function t(){"addEventListener"in window?window.addEventListener("storage",r,!1):document.attachEvent("onstorage",r)}function r(){try{a()}catch(e){return void(p=!1)}_()}function a(){var e=localStorage.simpleStorage;try{m=JSON.parse(e)}catch(t){m={}}l=localStorage.simpleStorage?String(localStorage.simpleStorage).length:0}function i(){try{localStorage.simpleStorage=JSON.stringify(m),l=localStorage.simpleStorage?String(localStorage.simpleStorage).length:0}catch(e){return e}return!0}function _(){var e,t,r,a,o,s=1/0,l=0;if(clearTimeout(g),m&&m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL){for(e=+new Date,o=m.__simpleStorage_meta.TTL.keys||[],a=m.__simpleStorage_meta.TTL.expire||{},t=0,r=o.length;r>t;t++){if(!(a[o[t]]<=e)){a[o[t]]<s&&(s=a[o[t]]);break}l++,delete m[o[t]],delete a[o[t]]}1/0!=s&&(g=setTimeout(_,s-e)),l&&(o.splice(0,l),n(),i())}}function o(e,t){var r,a,i=+new Date,o=!1;if(t=Number(t)||0,0!==t){if(!m.hasOwnProperty(e))return!1;if(m.__simpleStorage_meta||(m.__simpleStorage_meta={}),m.__simpleStorage_meta.TTL||(m.__simpleStorage_meta.TTL={expire:{},keys:[]}),m.__simpleStorage_meta.TTL.expire[e]=i+t,m.__simpleStorage_meta.TTL.expire.hasOwnProperty(e))for(r=0,a=m.__simpleStorage_meta.TTL.keys.length;a>r;r++)m.__simpleStorage_meta.TTL.keys[r]==e&&m.__simpleStorage_meta.TTL.keys.splice(r);for(r=0,a=m.__simpleStorage_meta.TTL.keys.length;a>r;r++)m.__simpleStorage_meta.TTL.expire[m.__simpleStorage_meta.TTL.keys[r]]>i+t&&m.__simpleStorage_meta.TTL.keys.splice(r,0,e);o||m.__simpleStorage_meta.TTL.keys.push(e)}else if(m&&m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL){if(m.__simpleStorage_meta.TTL.expire.hasOwnProperty(e))for(delete m.__simpleStorage_meta.TTL.expire[e],r=0,a=m.__simpleStorage_meta.TTL.keys.length;a>r;r++)if(m.__simpleStorage_meta.TTL.keys[r]==e){m.__simpleStorage_meta.TTL.keys.splice(r,1);break}n()}return clearTimeout(g),m&&m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL&&m.__simpleStorage_meta.TTL.keys.length&&(g=setTimeout(_,Math.max(m.__simpleStorage_meta.TTL.expire[m.__simpleStorage_meta.TTL.keys[0]]-i,0))),!0}function n(){var e,t=!1,r=!1;if(!m||!m.__simpleStorage_meta)return t;m.__simpleStorage_meta.TTL&&!m.__simpleStorage_meta.TTL.keys.length&&(delete m.__simpleStorage_meta.TTL,t=!0);for(e in m.__simpleStorage_meta)if(m.__simpleStorage_meta.hasOwnProperty(e)){r=!0;break}return r||(delete m.__simpleStorage_meta,t=!0),t}var s="0.1.2",m=!1,l=0,p=!1,g=null;try{e()}catch(T){}return{version:s,canUse:function(){return!!p},set:function(e,t,r){if("__simpleStorage_meta"==e)return!1;if(!m)return!1;if("undefined"==typeof t)return this.deleteKey(e);r=r||{};try{t=JSON.parse(JSON.stringify(t))}catch(a){return a}return m[e]=t,o(e,r.TTL||0),i()},get:function(e){return m?m.hasOwnProperty(e)&&"__simpleStorage_meta"!=e&&this.getTTL(e)?m[e]:void 0:!1},deleteKey:function(e){return m&&e in m?(delete m[e],o(e,0),i()):!1},setTTL:function(e,t){return m?(o(e,t),i()):!1},getTTL:function(e){var t;return m&&m.hasOwnProperty(e)?m.__simpleStorage_meta&&m.__simpleStorage_meta.TTL&&m.__simpleStorage_meta.TTL.expire&&m.__simpleStorage_meta.TTL.expire.hasOwnProperty(e)?(t=Math.max(m.__simpleStorage_meta.TTL.expire[e]-+new Date||0,0),t||!1):1/0:!1},flush:function(){if(!m)return!1;m={};try{return localStorage.removeItem("simpleStorage"),!0}catch(e){return e}},index:function(){if(!m)return!1;var e,t=[];for(e in m)m.hasOwnProperty(e)&&"__simpleStorage_meta"!=e&&t.push(e);return t},storageSize:function(){return l}}});
},{}],"simpleStorage":[function(require,module,exports){
module.exports=require('Q76874');
},{}],"icheck":[function(require,module,exports){
module.exports=require('V9Qpms');
},{}],"V9Qpms":[function(require,module,exports){
(function (global){

; require("/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(e){function t(e,t,r){var n=e[0],o=/er/.test(r)?_indeterminate:/bl/.test(r)?p:u,s=r==_update?{checked:n[u],disabled:n[p],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:n[o];if(/^(ch|di|in)/.test(r)&&!s)i(e,o);else if(/^(un|en|de)/.test(r)&&s)a(e,o);else if(r==_update)for(var d in s)s[d]?i(e,d,!0):a(e,d,!0);else t&&"toggle"!=r||(t||e[_callback]("ifClicked"),s?n[_type]!==l&&a(e,o):i(e,o))}function i(t,i,r){var f=t[0],h=t.parent(),b=i==u,m=i==_indeterminate,v=i==p,k=m?_determinate:b?_:"enabled",y=n(t,k+o(f[_type])),g=n(t,i+o(f[_type]));if(!0!==f[i]){if(!r&&i==u&&f[_type]==l&&f.name){var C=t.closest("form"),w='input[name="'+f.name+'"]',w=C.length?C.find(w):e(w);w.each(function(){this!==f&&e(this).data(d)&&a(e(this),i)})}m?(f[i]=!0,f[u]&&a(t,u,"force")):(r||(f[i]=!0),b&&f[_indeterminate]&&a(t,_indeterminate,!1)),s(t,b,i,r)}f[p]&&n(t,_cursor,!0)&&h.find("."+c).css(_cursor,"default"),h[_add](g||n(t,i)||""),h.attr("role")&&!m&&h.attr("aria-"+(v?p:u),"true"),h[_remove](y||n(t,k)||"")}function a(e,t,i){var a=e[0],r=e.parent(),d=t==u,l=t==_indeterminate,f=t==p,h=l?_determinate:d?_:"enabled",b=n(e,h+o(a[_type])),m=n(e,t+o(a[_type]));!1!==a[t]&&((l||!i||"force"==i)&&(a[t]=!1),s(e,d,h,i)),!a[p]&&n(e,_cursor,!0)&&r.find("."+c).css(_cursor,"pointer"),r[_remove](m||n(e,t)||""),r.attr("role")&&!l&&r.attr("aria-"+(f?p:u),"false"),r[_add](b||n(e,h)||"")}function r(t,i){t.data(d)&&(t.parent().html(t.attr("style",t.data(d).s||"")),i&&t[_callback](i),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function n(e,t,i){return e.data(d)?e.data(d).o[t+(i?"":"Class")]:void 0}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,i,a){a||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+o(i)))}var d="iCheck",c=d+"-helper",l="radio",u="checked",_="un"+u,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[d]=function(n,o){var s='input[type="checkbox"], input[type="'+l+'"]',_=e(),f=function(t){t.each(function(){var t=e(this);_=_.add(t.is(s)?t:t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(n))return n=n.toLowerCase(),f(this),_.each(function(){var i=e(this);"destroy"==n?r(i,"ifDestroyed"):t(i,!0,n),e.isFunction(o)&&o()});if("object"!=typeof n&&n)return this;var h=e.extend({checkedClass:u,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},n),b=h.handle,m=h.hoverClass||"hover",v=h.focusClass||"focus",k=h.activeClass||"active",y=!!h.labelHover,g=h.labelHoverClass||"hover",C=0|(""+h.increaseArea).replace("%","");return("checkbox"==b||b==l)&&(s='input[type="'+b+'"]'),-50>C&&(C=-50),f(this),_.each(function(){var n=e(this);r(n);var o=this,s=o.id,_=-C+"%",f=100+2*C+"%",f={position:"absolute",top:_,left:_,display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},_=_mobile?{position:"absolute",visibility:"hidden"}:C?f:{position:"absolute",opacity:0},b="checkbox"==o[_type]?h.checkboxClass||"icheckbox":h.radioClass||"i"+l,w=e(_label+'[for="'+s+'"]').add(n.closest(_label)),x=!!h.aria,A=d+"-"+Math.random().toString(36).substr(2,6),H='<div class="'+b+'" '+(x?'role="'+o[_type]+'" ':"");x&&w.each(function(){H+='aria-labelledby="',this.id?H+=this.id:(this.id=A,H+=A),H+='"'}),H=n.wrap(H+"/>")[_callback]("ifCreated").parent().append(h.insert),f=e('<ins class="'+c+'"/>').css(f).appendTo(H),n.data(d,{o:h,s:n.attr("style")}).css(_),h.inheritClass&&H[_add](o.className||""),h.inheritID&&s&&H.attr("id",d+"-"+s),"static"==H.css("position")&&H.css("position","relative"),t(n,!0,_update),w.length&&w.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var a=i[_type],r=e(this);if(!o[p]){if(a==_click){if(e(i.target).is("a"))return;t(n,!1,!0)}else y&&(/ut|nd/.test(a)?(H[_remove](m),r[_remove](g)):(H[_add](m),r[_add](g)));if(!_mobile)return!1;i.stopPropagation()}}),n.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type];return e=e.keyCode,t==_click?!1:"keydown"==t&&32==e?(o[_type]==l&&o[u]||(o[u]?a(n,u):i(n,u)),!1):void("keyup"==t&&o[_type]==l?!o[u]&&i(n,u):/us|ur/.test(t)&&H["blur"==t?_remove:_add](v))}),f.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var i=e[_type],a=/wn|up/.test(i)?k:m;if(!o[p]){if(i==_click?t(n,!1,!0):(/wn|er|in/.test(i)?H[_add](a):H[_remove](a+" "+k),w.length&&y&&a==m&&w[/ut|nd/.test(i)?_remove:_add](g)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto);
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify":"UErKnN"}],"tW1b3G":[function(require,module,exports){
(function (global){

; require("/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),r=0,f=0,d=0,m=0,c=0,g=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(f=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(f=-1*d,d=0),r=0===d?f:d,"deltaY"in s&&(d=-1*s.deltaY,r=d),"deltaX"in s&&(f=s.deltaX,0===d&&(r=-1*f)),0!==d||0!==f){if(1===s.deltaMode){var w=e.data(this,"mousewheel-line-height");r*=w,d*=w,f*=w}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");r*=v,d*=v,f*=v}if(m=Math.max(Math.abs(d),Math.abs(f)),(!l||l>m)&&(l=m,n(s,m)&&(l/=40)),n(s,m)&&(r/=40,f/=40,d/=40),r=Math[r>=1?"floor":"ceil"](r/l),f=Math[f>=1?"floor":"ceil"](f/l),d=Math[d>=1?"floor":"ceil"](d/l),u.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();c=t.clientX-p.left,g=t.clientY-p.top}return t.deltaX=f,t.deltaY=d,t.deltaFactor=l,t.offsetX=c,t.offsetY=g,t.deltaMode=0,a.unshift(t,r,f,d),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){l=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var r=s.length;r;)e.event.fixHooks[s[--r]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t)["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify":"UErKnN"}],"mousewheel":[function(require,module,exports){
module.exports=require('tW1b3G');
},{}],"lXRrHb":[function(require,module,exports){
(function (global){

; require("/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(t,n,i,e){"use strict";var r,o,s,a,h,l,c,u,p,d,f,m,w,y,g,v,b,x,S,P,N,k,C,H,T,A,M,j=[].indexOf||function(t){for(var n=0,i=this.length;i>n;n++)if(n in this&&this[n]===t)return n;return-1};N="notify",P=N+"js",s=N+"!blank",C={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},w=["l","c","r"],M=["t","m","b"],b=["t","b","l","r"],x={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},S=function(t){var n;return n=[],i.each(t.split(/\W+/),function(t,i){var r;return r=i.toLowerCase().charAt(0),C[r]?n.push(r):e}),n},A={},a={name:"core",html:'<div class="'+P+'-wrapper">\n  <div class="'+P+'-arrow"></div>\n  <div class="'+P+'-container"></div>\n</div>',css:"."+P+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+P+"-corner ."+P+"-wrapper,\n."+P+"-corner ."+P+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+P+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+P+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n  position: relative;\n}\n\n."+P+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},T={"border-radius":["-webkit-","-moz-"]},f=function(t){return A[t]},o=function(n,e){var r,o,s,a;if(!n)throw"Missing Style name";if(!e)throw"Missing Style definition";if(!e.html)throw"Missing Style HTML";return(null!=(a=A[n])?a.cssElem:void 0)&&(t.console&&console.warn(""+N+": overwriting style '"+n+"'"),A[n].cssElem.remove()),e.name=n,A[n]=e,r="",e.classes&&i.each(e.classes,function(t,n){return r+="."+P+"-"+e.name+"-"+t+" {\n",i.each(n,function(t,n){return T[t]&&i.each(T[t],function(i,e){return r+="  "+e+t+": "+n+";\n"}),r+="  "+t+": "+n+";\n"}),r+="}\n"}),e.css&&(r+="/* styles for "+e.name+" */\n"+e.css),r&&(e.cssElem=v(r),e.cssElem.attr("id","notify-"+e.name)),s={},o=i(e.html),p("html",o,s),p("text",o,s),e.fields=s},v=function(t){var n;n=h("style"),n.attr("type","text/css"),i("head").append(n);try{n.html(t)}catch(e){n[0].styleSheet.cssText=t}return n},p=function(t,n,e){var r;return"html"!==t&&(t="text"),r="data-notify-"+t,u(n,"["+r+"]").each(function(){var n;return n=i(this).attr(r),n||(n=s),e[n]=t})},u=function(t,n){return t.is(n)?t:t.find(n)},k={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},g=function(t,n){var e;return e=function(){},e.prototype=t,i.extend(!0,new e,n)},l=function(t){return i.extend(k,t)},h=function(t){return i("<"+t+"></"+t+">")},m={},d=function(t){var n;return t.is("[type=radio]")&&(n=t.parents("form:first").find("[type=radio]").filter(function(n,e){return i(e).attr("name")===t.attr("name")}),t=n.first()),t},y=function(t,n,i){var r,o;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;return isNaN(i)?void 0:(r=C[x[n.charAt(0)]],o=n,t[r]!==e&&(n=C[r.charAt(0)],i=-i),t[n]===e?t[n]=i:t[n]+=i,null)},H=function(t,n,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-n/2;if("r"===t||"b"===t)return i-n;throw"Invalid alignment"},c=function(t){return c.e=c.e||h("div"),c.e.text(t).html()},r=function(){function t(t,n,e){"string"==typeof e&&(e={className:e}),this.options=g(k,i.isPlainObject(e)?e:{}),this.loadHTML(),this.wrapper=i(a.html),this.wrapper.data(P,this),this.arrow=this.wrapper.find("."+P+"-arrow"),this.container=this.wrapper.find("."+P+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=d(t),this.elem.data(P,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}return t.prototype.loadHTML=function(){var t;return t=this.getStyle(),this.userContainer=i(t.html),this.userFields=t.fields},t.prototype.show=function(t,n){var i,r,o,s,a,h=this;if(r=function(){return t||h.elem||h.destroy(),n?n():e},a=this.container.parent().parents(":hidden").length>0,o=this.container.add(this.arrow),i=[],a&&t)s="show";else if(a&&!t)s="hide";else if(!a&&t)s=this.options.showAnimation,i.push(this.options.showDuration);else{if(a||t)return r();s=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(r),o[s].apply(o,i)},t.prototype.setGlobalPosition=function(){var t,n,e,r,o,s,a,l;return l=this.getPosition(),a=l[0],s=l[1],o=C[a],t=C[s],r=a+"|"+s,n=m[r],n||(n=m[r]=h("div"),e={},e[o]=0,"middle"===t?e.top="45%":"center"===t?e.left="45%":e[t]=0,n.css(e).addClass(""+P+"-corner"),i("body").append(n)),n.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,n,r,o,s,a,h,l,c,u,p,d,f,m,g,v,S,P,N,k,T,A,z,D,E,L,O,I,W;for(z=this.getPosition(),k=z[0],P=z[1],N=z[2],p=this.elem.position(),l=this.elem.outerHeight(),d=this.elem.outerWidth(),c=this.elem.innerHeight(),u=this.elem.innerWidth(),D=this.wrapper.position(),s=this.container.height(),a=this.container.width(),m=C[k],v=x[k],S=C[v],h={},h[S]="b"===k?l:"r"===k?d:0,y(h,"top",p.top-D.top),y(h,"left",p.left-D.left),W=["top","left"],E=0,O=W.length;O>E;E++)T=W[E],g=parseInt(this.elem.css("margin-"+T),10),g&&y(h,T,g);if(f=Math.max(0,this.options.gap-(this.options.arrowShow?r:0)),y(h,S,f),this.options.arrowShow){for(r=this.options.arrowSize,n=i.extend({},h),t=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",L=0,I=b.length;I>L;L++)T=b[L],A=C[T],T!==v&&(o=A===m?t:"transparent",n["border-"+A]=""+r+"px solid "+o);y(h,C[v],r),j.call(b,P)>=0&&y(n,C[P],2*r)}else this.arrow.hide();return j.call(M,k)>=0?(y(h,"left",H(P,a,d)),n&&y(n,"left",H(P,r,u))):j.call(w,k)>=0&&(y(h,"top",H(P,s,l)),n&&y(n,"top",H(P,r,c))),this.container.is(":visible")&&(h.display="block"),this.container.removeAttr("style").css(h),n?this.arrow.removeAttr("style").css(n):e},t.prototype.getPosition=function(){var t,n,i,e,r,o,s,a;if(n=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=S(n),0===t.length&&(t[0]="b"),i=t[0],0>j.call(b,i))throw"Must be one of ["+b+"]";return(1===t.length||(e=t[0],j.call(M,e)>=0&&(r=t[1],0>j.call(w,r)))||(o=t[0],j.call(w,o)>=0&&(s=t[1],0>j.call(M,s))))&&(t[1]=(a=t[0],j.call(w,a)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},t.prototype.getStyle=function(t){var n;if(t||(t=this.options.style),t||(t="default"),n=A[t],!n)throw"Missing style: "+t;return n},t.prototype.updateClasses=function(){var t,n;return t=["base"],i.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),n=this.getStyle(),t=i.map(t,function(t){return""+P+"-"+n.name+"-"+t}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,n){var r,o,a,h,l,p=this;if(i.isPlainObject(n)?i.extend(this.options,n):"string"===i.type(n)&&(this.options.className=n),this.container&&!t)return this.show(!1),e;if(this.container||t){o={},i.isPlainObject(t)?o=t:o[s]=t;for(a in o)r=o[a],h=this.userFields[a],h&&("text"===h&&(r=c(r),this.options.breakNewLines&&(r=r.replace(/\n/g,"<br/>"))),l=a===s?"":"="+a,u(this.userContainer,"[data-notify-"+h+l+"]").html(r));return this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return p.show(!1)},this.options.autoHideDelay)):e}},t.prototype.destroy=function(){return this.wrapper.remove()},t}(),i[N]=function(t,n,e){return t&&t.nodeName||t.jquery?i(t)[N](n,e):(e=n,n=t,new r(null,n,e)),t},i.fn[N]=function(t,n){return i(this).each(function(){var e;return e=d(i(this)).data(P),e?e.run(t,n):new r(i(this),t,n)}),this},i.extend(i[N],{defaults:l,addStyle:o,pluginOptions:k,getStyle:f,insertCSS:v}),i(function(){return v(a.css).attr("id","core-notify"),i(n).on("click notify-hide","."+P+"-wrapper",function(t){var n;return n=i(this).data(P),n&&(n.options.clickToHide||"notify-hide"===t.type)?n.show(!1):e})})}(window,document,jQuery);
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify":"UErKnN"}],"notifyjs":[function(require,module,exports){
module.exports=require('lXRrHb');
},{}],"M5xdF3":[function(require,module,exports){
(function (global){

; require("/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify");
;__browserify_shim_require__=require;(function browserifyShim(module, define, require) {
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?__browserify_shim_require__("jquery"):jQuery)}(function(e){"use strict";var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=function(){var e=0;return function(){var t=e;return e+=1,".perfect-scrollbar-"+t}}();e.fn.perfectScrollbar=function(o,r){return this.each(function(){var l=e.extend(!0,{},t),a=e(this);if("object"==typeof o?e.extend(!0,l,o):r=o,"update"===r)return a.data("perfect-scrollbar-update")&&a.data("perfect-scrollbar-update")(),a;if("destroy"===r)return a.data("perfect-scrollbar-destroy")&&a.data("perfect-scrollbar-destroy")(),a;if(a.data("perfect-scrollbar"))return a.data("perfect-scrollbar");a.addClass("ps-container");var s,i,c,u,d,p,f,h,b,v,g=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(a),m=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(a),w=e("<div class='ps-scrollbar-x'></div>").appendTo(g),T=e("<div class='ps-scrollbar-y'></div>").appendTo(m),y=parseInt(g.css("bottom"),10),L=parseInt(m.css("right"),10),S=n(),I=function(e,t){var n=e+t,o=u-b;v=0>n?0:n>o?o:n;var r=parseInt(v*(p-u)/(u-b),10);a.scrollTop(r),g.css({bottom:y-r})},C=function(e,t){var n=e+t,o=c-f;h=0>n?0:n>o?o:n;var r=parseInt(h*(d-c)/(c-f),10);a.scrollLeft(r),m.css({right:L-r})},P=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),e},X=function(){g.css({left:a.scrollLeft(),bottom:y-a.scrollTop(),width:c,display:s?"inherit":"none"}),m.css({top:a.scrollTop(),right:L-a.scrollLeft(),height:u,display:i?"inherit":"none"}),w.css({left:h,width:f}),T.css({top:v,height:b})},Y=function(){c=l.includePadding?a.innerWidth():a.width(),u=l.includePadding?a.innerHeight():a.height(),d=a.prop("scrollWidth"),p=a.prop("scrollHeight"),!l.suppressScrollX&&d>c+l.scrollXMarginOffset?(s=!0,f=P(parseInt(c*c/d,10)),h=parseInt(a.scrollLeft()*(c-f)/(d-c),10)):(s=!1,f=0,h=0,a.scrollLeft(0)),!l.suppressScrollY&&p>u+l.scrollYMarginOffset?(i=!0,b=P(parseInt(u*u/p,10)),v=parseInt(a.scrollTop()*(u-b)/(p-u),10)):(i=!1,b=0,v=0,a.scrollTop(0)),v>=u-b&&(v=u-b),h>=c-f&&(h=c-f),X()},k=function(){var t,n;w.bind("mousedown"+S,function(e){n=e.pageX,t=w.position().left,g.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+S,function(e){g.hasClass("in-scrolling")&&(C(t,e.pageX-n),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+S,function(){g.hasClass("in-scrolling")&&g.removeClass("in-scrolling")}),t=n=null},x=function(){var t,n;T.bind("mousedown"+S,function(e){n=e.pageY,t=T.position().top,m.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+S,function(e){m.hasClass("in-scrolling")&&(I(t,e.pageY-n),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+S,function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")}),t=n=null},D=function(e,t){var n=a.scrollTop();if(0===e){if(!i)return!1;if(0===n&&t>0||n>=p-u&&0>t)return!l.wheelPropagation}var o=a.scrollLeft();if(0===t){if(!s)return!1;if(0===o&&0>e||o>=d-c&&e>0)return!l.wheelPropagation}return!0},M=function(){l.wheelSpeed/=10;var e=!1;a.bind("mousewheel"+S,function(t,n,o,r){var c=t.deltaX*t.deltaFactor||o,u=t.deltaY*t.deltaFactor||r;e=!1,l.useBothWheelAxes?i&&!s?(a.scrollTop(u?a.scrollTop()-u*l.wheelSpeed:a.scrollTop()+c*l.wheelSpeed),e=!0):s&&!i&&(a.scrollLeft(c?a.scrollLeft()+c*l.wheelSpeed:a.scrollLeft()-u*l.wheelSpeed),e=!0):(a.scrollTop(a.scrollTop()-u*l.wheelSpeed),a.scrollLeft(a.scrollLeft()+c*l.wheelSpeed)),Y(),e=e||D(c,u),e&&(t.stopPropagation(),t.preventDefault())}),a.bind("MozMousePixelScroll"+S,function(t){e&&t.preventDefault()})},j=function(){var t=!1;a.bind("mouseenter"+S,function(){t=!0}),a.bind("mouseleave"+S,function(){t=!1});var n=!1;e(document).bind("keydown"+S,function(o){if(t&&!e(document.activeElement).is(":input,[contenteditable]")){var r=0,l=0;switch(o.which){case 37:r=-30;break;case 38:l=30;break;case 39:r=30;break;case 40:l=-30;break;case 33:l=90;break;case 32:case 34:l=-90;break;case 35:l=-u;break;case 36:l=u;break;default:return}a.scrollTop(a.scrollTop()-l),a.scrollLeft(a.scrollLeft()+r),n=D(r,l),n&&o.preventDefault()}})},E=function(){var e=function(e){e.stopPropagation()};T.bind("click"+S,e),m.bind("click"+S,function(e){var t=parseInt(b/2,10),n=e.pageY-m.offset().top-t,o=u-b,r=n/o;0>r?r=0:r>1&&(r=1),a.scrollTop((p-u)*r)}),w.bind("click"+S,e),g.bind("click"+S,function(e){var t=parseInt(f/2,10),n=e.pageX-g.offset().left-t,o=c-f,r=n/o;0>r?r=0:r>1&&(r=1),a.scrollLeft((d-c)*r)})},O=function(){var t=function(e,t){a.scrollTop(a.scrollTop()-t),a.scrollLeft(a.scrollLeft()-e),Y()},n={},o=0,r={},l=null,s=!1;e(window).bind("touchstart"+S,function(){s=!0}),e(window).bind("touchend"+S,function(){s=!1}),a.bind("touchstart"+S,function(e){var t=e.originalEvent.targetTouches[0];n.pageX=t.pageX,n.pageY=t.pageY,o=(new Date).getTime(),null!==l&&clearInterval(l),e.stopPropagation()}),a.bind("touchmove"+S,function(e){if(!s&&1===e.originalEvent.targetTouches.length){var l=e.originalEvent.targetTouches[0],a={};a.pageX=l.pageX,a.pageY=l.pageY;var i=a.pageX-n.pageX,c=a.pageY-n.pageY;t(i,c),n=a;var u=(new Date).getTime(),d=u-o;d>0&&(r.x=i/d,r.y=c/d,o=u),e.preventDefault()}}),a.bind("touchend"+S,function(){clearInterval(l),l=setInterval(function(){return.01>Math.abs(r.x)&&.01>Math.abs(r.y)?void clearInterval(l):(t(30*r.x,30*r.y),r.x*=.8,void(r.y*=.8))},10)})},W=function(){a.bind("scroll"+S,function(){Y()})},q=function(){a.unbind(S),e(window).unbind(S),e(document).unbind(S),a.data("perfect-scrollbar",null),a.data("perfect-scrollbar-update",null),a.data("perfect-scrollbar-destroy",null),w.remove(),T.remove(),g.remove(),m.remove(),w=T=c=u=d=p=f=h=y=b=v=L=null},A=function(t){a.addClass("ie").addClass("ie"+t);var n=function(){var t=function(){e(this).addClass("hover")},n=function(){e(this).removeClass("hover")};a.bind("mouseenter"+S,t).bind("mouseleave"+S,n),g.bind("mouseenter"+S,t).bind("mouseleave"+S,n),m.bind("mouseenter"+S,t).bind("mouseleave"+S,n),w.bind("mouseenter"+S,t).bind("mouseleave"+S,n),T.bind("mouseenter"+S,t).bind("mouseleave"+S,n)},o=function(){X=function(){w.css({left:h+a.scrollLeft(),bottom:y,width:f}),T.css({top:v+a.scrollTop(),right:L,height:b}),w.hide().show(),T.hide().show()}};6===t&&(n(),o())},B="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,F=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&A(parseInt(e[2],10)),Y(),W(),k(),x(),E(),B&&O(),a.mousewheel&&M(),l.useKeyboard&&j(),a.data("perfect-scrollbar",a),a.data("perfect-scrollbar-update",Y),a.data("perfect-scrollbar-destroy",q)};return F(),a})}});
}).call(global, module, undefined, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"/home/mike/Projects/TeachBoost/mox/node_modules/jquery-browserify":"UErKnN"}],"perfectScrollbar":[function(require,module,exports){
module.exports=require('M5xdF3');
},{}],78:[function(require,module,exports){

},{}],79:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      } else {
        throw TypeError('Uncaught, unspecified "error" event.');
      }
      return false;
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        len = arguments.length;
        args = new Array(len - 1);
        for (i = 1; i < len; i++)
          args[i - 1] = arguments[i];
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    len = arguments.length;
    args = new Array(len - 1);
    for (i = 1; i < len; i++)
      args[i - 1] = arguments[i];

    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    var m;
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      console.trace();
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.listenerCount = function(emitter, type) {
  var ret;
  if (!emitter._events || !emitter._events[type])
    ret = 0;
  else if (isFunction(emitter._events[type]))
    ret = 1;
  else
    ret = emitter._events[type].length;
  return ret;
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],80:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.once = noop;
process.off = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}]},{},[])